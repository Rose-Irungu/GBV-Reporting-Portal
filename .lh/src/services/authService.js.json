{
    "sourceFile": "src/services/authService.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1756013078652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756013087213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,4 +5,6 @@\n export const login = async (formData) => {\r\n   const response = await api.post(API_ENDPOINTS.LOGIN, formData);\r\n   return response.data;\r\n };\r\n+\r\n+\r\n"
                },
                {
                    "date": 1756013113852,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import api from './api';\r\n+import { API_ENDPOINTS } from \"../utils/constants\";\r\n+\r\n+\r\n+export const authService = {\r\n+  sent_password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+    \r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during sent email:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during reset password:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  loginUser: async (credentials) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.LOGIN, credentials);\r\n+\r\n+      // const response = await toast.promise(promise, {\r\n+      //   loading: \"Logging in...\",\r\n+      //   success: \"Login successful!\",\r\n+      //   error: (err) =>\r\n+      //     err?.response?.data?.message || \"Login failed. Please try again.\",\r\n+      // });\r\n+// console.log(\"Login response:\", response.data);\r\n+// return\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error?.response?.data || { message: \"Login failed. Please try again.\" }\r\n+      );\r\n+    }\r\n+  },\r\n+\r\n+\r\n+  logoutUser: async() => {\r\n+    try {\r\n+      const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+      const res = await toast.promise(promise, {\r\n+        loading: \"Logging out...\",\r\n+        success: \"Logout successful.\",\r\n+        error: (err) =>\r\n+          err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+      });\r\n+      if (res.status === 200) {\r\n+        localStorage.removeItem(\"accessToken\");\r\n+        localStorage.removeItem(\"refreshToken\");\r\n+        localStorage.removeItem(\"userInfo\");\r\n+        localStorage.removeItem(\"userRole\");\r\n+        window.location.href = \"/loginform\";\r\n+      } else {\r\n+        console.error(\"Logout failed:\", res.data);\r\n+        toast.error(\"Logout failed. Please try again.\");\r\n+      }\r\n+    } catch (error) {\r\n+      toast.error(\"Logout failed. Please try again.\");\r\n+      console.error(\"Error during logout:\", error);\r\n+    }\r\n+    \r\n+  },\r\n+\r\n+  changePassword: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error.response?.data || {\r\n+          message: \"Password change failed. Please try again.\",\r\n+        }\r\n+      );\r\n+    }\r\n+  },\r\n+};\r\n+\r\n"
                },
                {
                    "date": 1756013813145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import api from './api';\r\n+import { API_ENDPOINTS } from \"../utils/constants\";\r\n+\r\n+\r\n+export const authService = {\r\n+  sent_password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+    \r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during sent email:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during reset password:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  login: async (credentials) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.LOGIN, credentials);\r\n+\r\n+      // const response = await toast.promise(promise, {\r\n+      //   loading: \"Logging in...\",\r\n+      //   success: \"Login successful!\",\r\n+      //   error: (err) =>\r\n+      //     err?.response?.data?.message || \"Login failed. Please try again.\",\r\n+      // });\r\n+// console.log(\"Login response:\", response.data);\r\n+// return\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error?.response?.data || { message: \"Login failed. Please try again.\" }\r\n+      );\r\n+    }\r\n+  },\r\n+\r\n+\r\n+  logoutUser: async() => {\r\n+    try {\r\n+      const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+      const res = await toast.promise(promise, {\r\n+        loading: \"Logging out...\",\r\n+        success: \"Logout successful.\",\r\n+        error: (err) =>\r\n+          err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+      });\r\n+      if (res.status === 200) {\r\n+        localStorage.removeItem(\"accessToken\");\r\n+        localStorage.removeItem(\"refreshToken\");\r\n+        localStorage.removeItem(\"userInfo\");\r\n+        localStorage.removeItem(\"userRole\");\r\n+        window.location.href = \"/loginform\";\r\n+      } else {\r\n+        console.error(\"Logout failed:\", res.data);\r\n+        toast.error(\"Logout failed. Please try again.\");\r\n+      }\r\n+    } catch (error) {\r\n+      toast.error(\"Logout failed. Please try again.\");\r\n+      console.error(\"Error during logout:\", error);\r\n+    }\r\n+    \r\n+  },\r\n+\r\n+  changePassword: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error.response?.data || {\r\n+          message: \"Password change failed. Please try again.\",\r\n+        }\r\n+      );\r\n+    }\r\n+  },\r\n+};\r\n+\r\n"
                },
                {
                    "date": 1756013832834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import api from './api';\r\n+import { API_ENDPOINTS } from \"../utils/constants\";\r\n+\r\n+\r\n+export const authService = {\r\n+  sent_password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+    \r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during sent email:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during reset password:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  loginUser: async (credentials) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.LOGIN, credentials);\r\n+\r\n+      // const response = await toast.promise(promise, {\r\n+      //   loading: \"Logging in...\",\r\n+      //   success: \"Login successful!\",\r\n+      //   error: (err) =>\r\n+      //     err?.response?.data?.message || \"Login failed. Please try again.\",\r\n+      // });\r\n+// console.log(\"Login response:\", response.data);\r\n+// return\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error?.response?.data || { message: \"Login failed. Please try again.\" }\r\n+      );\r\n+    }\r\n+  },\r\n+\r\n+\r\n+  logoutUser: async() => {\r\n+    try {\r\n+      const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+      const res = await toast.promise(promise, {\r\n+        loading: \"Logging out...\",\r\n+        success: \"Logout successful.\",\r\n+        error: (err) =>\r\n+          err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+      });\r\n+      if (res.status === 200) {\r\n+        localStorage.removeItem(\"accessToken\");\r\n+        localStorage.removeItem(\"refreshToken\");\r\n+        localStorage.removeItem(\"userInfo\");\r\n+        localStorage.removeItem(\"userRole\");\r\n+        window.location.href = \"/loginform\";\r\n+      } else {\r\n+        console.error(\"Logout failed:\", res.data);\r\n+        toast.error(\"Logout failed. Please try again.\");\r\n+      }\r\n+    } catch (error) {\r\n+      toast.error(\"Logout failed. Please try again.\");\r\n+      console.error(\"Error during logout:\", error);\r\n+    }\r\n+    \r\n+  },\r\n+\r\n+  changePassword: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error.response?.data || {\r\n+          message: \"Password change failed. Please try again.\",\r\n+        }\r\n+      );\r\n+    }\r\n+  },\r\n+};\r\n+\r\n"
                },
                {
                    "date": 1756013852395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,45 +48,45 @@\n     }\r\n   },\r\n \r\n \r\n-  logoutUser: async() => {\r\n-    try {\r\n-      const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n-      const res = await toast.promise(promise, {\r\n-        loading: \"Logging out...\",\r\n-        success: \"Logout successful.\",\r\n-        error: (err) =>\r\n-          err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n-      });\r\n-      if (res.status === 200) {\r\n-        localStorage.removeItem(\"accessToken\");\r\n-        localStorage.removeItem(\"refreshToken\");\r\n-        localStorage.removeItem(\"userInfo\");\r\n-        localStorage.removeItem(\"userRole\");\r\n-        window.location.href = \"/loginform\";\r\n-      } else {\r\n-        console.error(\"Logout failed:\", res.data);\r\n-        toast.error(\"Logout failed. Please try again.\");\r\n-      }\r\n-    } catch (error) {\r\n-      toast.error(\"Logout failed. Please try again.\");\r\n-      console.error(\"Error during logout:\", error);\r\n-    }\r\n+//   logoutUser: async() => {\r\n+//     try {\r\n+//       const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+//       const res = await toast.promise(promise, {\r\n+//         loading: \"Logging out...\",\r\n+//         success: \"Logout successful.\",\r\n+//         error: (err) =>\r\n+//           err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+//       });\r\n+//       if (res.status === 200) {\r\n+//         localStorage.removeItem(\"accessToken\");\r\n+//         localStorage.removeItem(\"refreshToken\");\r\n+//         localStorage.removeItem(\"userInfo\");\r\n+//         localStorage.removeItem(\"userRole\");\r\n+//         window.location.href = \"/loginform\";\r\n+//       } else {\r\n+//         console.error(\"Logout failed:\", res.data);\r\n+//         toast.error(\"Logout failed. Please try again.\");\r\n+//       }\r\n+//     } catch (error) {\r\n+//       toast.error(\"Logout failed. Please try again.\");\r\n+//       console.error(\"Error during logout:\", error);\r\n+//     }\r\n     \r\n-  },\r\n+//   },\r\n \r\n-  changePassword: async (formData) => {\r\n-    try {\r\n-      const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+//   changePassword: async (formData) => {\r\n+//     try {\r\n+//       const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n \r\n-      return response.data;\r\n-    } catch (error) {\r\n-      throw (\r\n-        error.response?.data || {\r\n-          message: \"Password change failed. Please try again.\",\r\n-        }\r\n-      );\r\n-    }\r\n-  },\r\n-};\r\n+//       return response.data;\r\n+//     } catch (error) {\r\n+//       throw (\r\n+//         error.response?.data || {\r\n+//           message: \"Password change failed. Please try again.\",\r\n+//         }\r\n+//       );\r\n+//     }\r\n+//   },\r\n+// };\r\n \r\n"
                },
                {
                    "date": 1756013861735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import api from './api';\r\n+import { API_ENDPOINTS } from \"../utils/constants\";\r\n+\r\n+\r\n+export const authService = {\r\n+  // sent_password_reset: async (formData) => {\r\n+  //   try {\r\n+  //     const response = await api.post(\r\n+  //       API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+  //       formData\r\n+  //     );\r\n+    \r\n+  //     return response.data;\r\n+  //   } catch (error) {\r\n+  //     console.error(\"Error during sent email:\", error);\r\n+  //     throw error;\r\n+  //   }\r\n+  // },\r\n+  // password_reset: async (formData) => {\r\n+  //   try {\r\n+  //     const response = await api.post(\r\n+  //       API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+  //       formData\r\n+  //     );\r\n+  //     return response.data;\r\n+  //   } catch (error) {\r\n+  //     console.error(\"Error during reset password:\", error);\r\n+  //     throw error;\r\n+  //   }\r\n+  // },\r\n+  loginUser: async (credentials) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.LOGIN, credentials);\r\n+\r\n+      // const response = await toast.promise(promise, {\r\n+      //   loading: \"Logging in...\",\r\n+      //   success: \"Login successful!\",\r\n+      //   error: (err) =>\r\n+      //     err?.response?.data?.message || \"Login failed. Please try again.\",\r\n+      // });\r\n+// console.log(\"Login response:\", response.data);\r\n+// return\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error?.response?.data || { message: \"Login failed. Please try again.\" }\r\n+      );\r\n+    }\r\n+  },\r\n+\r\n+\r\n+//   logoutUser: async() => {\r\n+//     try {\r\n+//       const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+//       const res = await toast.promise(promise, {\r\n+//         loading: \"Logging out...\",\r\n+//         success: \"Logout successful.\",\r\n+//         error: (err) =>\r\n+//           err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+//       });\r\n+//       if (res.status === 200) {\r\n+//         localStorage.removeItem(\"accessToken\");\r\n+//         localStorage.removeItem(\"refreshToken\");\r\n+//         localStorage.removeItem(\"userInfo\");\r\n+//         localStorage.removeItem(\"userRole\");\r\n+//         window.location.href = \"/loginform\";\r\n+//       } else {\r\n+//         console.error(\"Logout failed:\", res.data);\r\n+//         toast.error(\"Logout failed. Please try again.\");\r\n+//       }\r\n+//     } catch (error) {\r\n+//       toast.error(\"Logout failed. Please try again.\");\r\n+//       console.error(\"Error during logout:\", error);\r\n+//     }\r\n+    \r\n+//   },\r\n+\r\n+//   changePassword: async (formData) => {\r\n+//     try {\r\n+//       const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+\r\n+//       return response.data;\r\n+//     } catch (error) {\r\n+//       throw (\r\n+//         error.response?.data || {\r\n+//           message: \"Password change failed. Please try again.\",\r\n+//         }\r\n+//       );\r\n+//     }\r\n+//   },\r\n+// };\r\n+\r\n"
                },
                {
                    "date": 1756013937039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import api from './api';\r\n+import { API_ENDPOINTS } from \"../utils/constants\";\r\n+\r\n+\r\n+export const authService = {\r\n+  sent_password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+    \r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during sent email:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  password_reset: async (formData) => {\r\n+    try {\r\n+      const response = await api.post(\r\n+        API_ENDPOINTS.SENT_PASSWORD_RESET,\r\n+        formData\r\n+      );\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      console.error(\"Error during reset password:\", error);\r\n+      throw error;\r\n+    }\r\n+  },\r\n+  loginUser: async (credentials) => {\r\n+    try {\r\n+      const response = await api.post(API_ENDPOINTS.LOGIN, credentials);\r\n+\r\n+      // const response = await toast.promise(promise, {\r\n+      //   loading: \"Logging in...\",\r\n+      //   success: \"Login successful!\",\r\n+      //   error: (err) =>\r\n+      //     err?.response?.data?.message || \"Login failed. Please try again.\",\r\n+      // });\r\n+// console.log(\"Login response:\", response.data);\r\n+// return\r\n+      return response.data;\r\n+    } catch (error) {\r\n+      throw (\r\n+        error?.response?.data || { message: \"Login failed. Please try again.\" }\r\n+      );\r\n+    }\r\n+  },\r\n+\r\n+\r\n+//   logoutUser: async() => {\r\n+//     try {\r\n+//       const promise = api.post(API_ENDPOINTS.LOG_OUT, { \"action\": \"logout_current_device\"});\r\n+//       const res = await toast.promise(promise, {\r\n+//         loading: \"Logging out...\",\r\n+//         success: \"Logout successful.\",\r\n+//         error: (err) =>\r\n+//           err?.response?.data?.message || \"Logout failed. Please try again.\",\r\n+//       });\r\n+//       if (res.status === 200) {\r\n+//         localStorage.removeItem(\"accessToken\");\r\n+//         localStorage.removeItem(\"refreshToken\");\r\n+//         localStorage.removeItem(\"userInfo\");\r\n+//         localStorage.removeItem(\"userRole\");\r\n+//         window.location.href = \"/loginform\";\r\n+//       } else {\r\n+//         console.error(\"Logout failed:\", res.data);\r\n+//         toast.error(\"Logout failed. Please try again.\");\r\n+//       }\r\n+//     } catch (error) {\r\n+//       toast.error(\"Logout failed. Please try again.\");\r\n+//       console.error(\"Error during logout:\", error);\r\n+//     }\r\n+    \r\n+//   },\r\n+\r\n+//   changePassword: async (formData) => {\r\n+//     try {\r\n+//       const response = await api.post(API_ENDPOINTS.CHANGE_PASSWORD, formData);\r\n+\r\n+//       return response.data;\r\n+//     } catch (error) {\r\n+//       throw (\r\n+//         error.response?.data || {\r\n+//           message: \"Password change failed. Please try again.\",\r\n+//         }\r\n+//       );\r\n+//     }\r\n+//   },\r\n+// };\r\n+\r\n"
                }
            ],
            "date": 1756013078652,
            "name": "Commit-0",
            "content": "import api from './api';\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\n\r\n\r\nexport const login = async (formData) => {\r\n  const response = await api.post(API_ENDPOINTS.LOGIN, formData);\r\n  return response.data;\r\n};\r\n"
        }
    ]
}