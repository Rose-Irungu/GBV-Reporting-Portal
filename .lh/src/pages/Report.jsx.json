{
    "sourceFile": "src/pages/Report.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 14,
            "patches": [
                {
                    "date": 1752496310194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752496320903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,101 +1,579 @@\n import { useState } from \"react\";\r\n-import { motion } from \"framer-motion\";\r\n+import { motion, AnimatePresence } from \"framer-motion\";\r\n+import { AlertCircle, Shield, Phone, X, Check, Eye, EyeOff } from \"lucide-react\";\r\n \r\n+// API configuration - Update this to match your Django backend URL\r\n+const API_BASE_URL = 'http://localhost:8000/api';\r\n+\r\n export default function Report() {\r\n   const [showForm, setShowForm] = useState(false);\r\n   const [submitted, setSubmitted] = useState(false);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState(null);\r\n+  const [referenceCode, setReferenceCode] = useState('');\r\n+  const [showTracking, setShowTracking] = useState(false);\r\n+  const [trackingCode, setTrackingCode] = useState('');\r\n+  const [trackingResult, setTrackingResult] = useState(null);\r\n+  \r\n+  // Form data\r\n+  const [formData, setFormData] = useState({\r\n+    incident_date: '',\r\n+    incident_location: '',\r\n+    incident_type: 'physical',\r\n+    description: '',\r\n+    immediate_danger: false,\r\n+    needs_medical_attention: false,\r\n+    contact_method: 'none',\r\n+    contact_info: '',\r\n+    // Optional fields for identification\r\n+    name: '',\r\n+    email: '',\r\n+    phone: ''\r\n+  });\r\n \r\n   const handleEmergencyExit = () => {\r\n-    window.location.href = \"https://tetris.com\"; // redirect to safe game\r\n+    // Clear browser history\r\n+    window.location.replace(\"https://www.google.com\");\r\n   };\r\n \r\n-  const handleSubmit = (e) => {\r\n+  const handleInputChange = (e) => {\r\n+    const { name, value, type, checked } = e.target;\r\n+    setFormData(prev => ({\r\n+      ...prev,\r\n+      [name]: type === 'checkbox' ? checked : value\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n-    // Optionally send data to a server here2\r\n-    setSubmitted(true); // Show thank you card\r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      // Prepare data for API\r\n+      const submitData = {\r\n+        incident_date: new Date(formData.incident_date).toISOString(),\r\n+        incident_location: formData.incident_location,\r\n+        incident_type: formData.incident_type,\r\n+        description: formData.description,\r\n+        immediate_danger: formData.immediate_danger,\r\n+        needs_medical_attention: formData.needs_medical_attention,\r\n+        contact_method: formData.contact_method,\r\n+      };\r\n+\r\n+      // Add contact info based on method\r\n+      if (formData.contact_method !== 'none') {\r\n+        if (formData.contact_method === 'email') {\r\n+          submitData.contact_info = formData.email;\r\n+        } else if (formData.contact_method === 'phone') {\r\n+          submitData.contact_info = formData.phone;\r\n+        }\r\n+      }\r\n+\r\n+      const response = await fetch(`${API_BASE_URL}/reports/anonymous/`, {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify(submitData)\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setReferenceCode(data.reference_code);\r\n+        setSubmitted(true);\r\n+        \r\n+        // Store reference code in localStorage for easy access\r\n+        const savedReports = JSON.parse(localStorage.getItem('gbv_reports') || '[]');\r\n+        savedReports.push({\r\n+          reference_code: data.reference_code,\r\n+          date: new Date().toISOString()\r\n+        });\r\n+        localStorage.setItem('gbv_reports', JSON.stringify(savedReports));\r\n+      } else {\r\n+        setError(data.error || 'Failed to submit report');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Network error. Please try again.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n   };\r\n \r\n+  const trackReport = async () => {\r\n+    if (!trackingCode) return;\r\n+    \r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const response = await fetch(`${API_BASE_URL}/reports/track/${trackingCode}/`);\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setTrackingResult(data);\r\n+      } else {\r\n+        setError('Invalid reference code');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Failed to track report');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n-    <div className=\"max-w-xl mx-auto py-10 px-4 relative\">\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4\">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n-        className=\"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700 transition\"\r\n+        className=\"fixed top-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n       >\r\n+        <X className=\"w-5 h-5\" />\r\n         Quick Exit\r\n       </button>\r\n \r\n-      {/* Initial View */}\r\n-      {!showForm && !submitted && (\r\n-        <div className=\"text-center mt-20\">\r\n-          <h2 className=\"text-2xl font-bold text- mb-6\">Need to Report Gender-Based Violence?</h2>\r\n-          <button\r\n-            onClick={() => setShowForm(true)}\r\n-            c\r\n+      <div className=\"max-w-4xl mx-auto\">\r\n+        {/* Initial View */}\r\n+        {!showForm && !submitted && !showTracking && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, y: 20 }}\r\n+            animate={{ opacity: 1, y: 0 }}\r\n+            className=\"text-center mt-20\"\r\n           >\r\n-            Start Reporting\r\n-          </button>\r\n-        </div>\r\n-      )}\r\n+            <Shield className=\"w-20 h-20 mx-auto mb-6 text-purple-600\" />\r\n+            <h1 className=\"text-4xl font-bold text-gray-800 mb-4\">\r\n+              You Are Not Alone\r\n+            </h1>\r\n+            <p className=\"text-lg text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n+              Your safety is our priority. Report incidents anonymously and get the help you deserve.\r\n+            </p>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <button\r\n+                onClick={() => setShowForm(true)}\r\n+                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n+              >\r\n+                Report an Incident\r\n+              </button>\r\n+              \r\n+              <button\r\n+                onClick={() => setShowTracking(true)}\r\n+                className=\"w-full sm:w-auto bg-white text-purple-600 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-purple-600 hover:bg-purple-50 ml-0 sm:ml-4 transition-all\"\r\n+              >\r\n+                Track Existing Report\r\n+              </button>\r\n+            </div>\r\n \r\n-      {/* Report Form */}\r\n-      {showForm && !submitted && (\r\n-        <motion.div\r\n-          initial={{ opacity: 0, y: 30 }}\r\n-          animate={{ opacity: 1, y: 0 }}\r\n-          transition={{ duration: 0.6 }}\r\n-        >\r\n-          <h2 className=\"text-2xl font-bold text-[#5B3C5A] mb-6\">Report GBV Incident</h2>\r\n+            {/* Emergency Numbers */}\r\n+            <div className=\"mt-12 bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto\">\r\n+              <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Emergency Contacts</h3>\r\n+              <div className=\"space-y-3\">\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">Police</span>\r\n+                  <a href=\"tel:999\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 999\r\n+                  </a>\r\n+                </div>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">GBV Hotline</span>\r\n+                  <a href=\"tel:1195\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 1195\r\n+                  </a>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n \r\n-          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Your Name</label>\r\n-              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n+        {/* Report Form */}\r\n+        {showForm && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10\"\r\n+          >\r\n+            <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Report an Incident</h2>\r\n+            \r\n+            {/* Safety Notice */}\r\n+            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\r\n+              <div className=\"flex items-start\">\r\n+                <AlertCircle className=\"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5\" />\r\n+                <div>\r\n+                  <p className=\"text-sm text-yellow-800\">\r\n+                    Your report can be completely anonymous. Only provide contact information if you want us to reach out to you.\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n             </div>\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Your Email</label>\r\n-              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n+\r\n+            {error && (\r\n+              <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-6\">\r\n+                <p className=\"text-red-800\">{error}</p>\r\n+              </div>\r\n+            )}\r\n+\r\n+            <div className=\"space-y-6\">\r\n+              {/* Required Fields */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Required Information</h3>\r\n+                \r\n+                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Date of Incident *\r\n+                    </label>\r\n+                    <input\r\n+                      type=\"datetime-local\"\r\n+                      name=\"incident_date\"\r\n+                      value={formData.incident_date}\r\n+                      onChange={handleInputChange}\r\n+                      max={new Date().toISOString().slice(0, 16)}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    />\r\n+                  </div>\r\n+                  \r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Type of Incident *\r\n+                    </label>\r\n+                    <select\r\n+                      name=\"incident_type\"\r\n+                      value={formData.incident_type}\r\n+                      onChange={handleInputChange}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    >\r\n+                      <option value=\"physical\">Physical Violence</option>\r\n+                      <option value=\"sexual\">Sexual Violence</option>\r\n+                      <option value=\"emotional\">Emotional/Psychological</option>\r\n+                      <option value=\"economic\">Economic Violence</option>\r\n+                      <option value=\"other\">Other</option>\r\n+                    </select>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Location of Incident *\r\n+                  </label>\r\n+                  <input\r\n+                    type=\"text\"\r\n+                    name=\"incident_location\"\r\n+                    value={formData.incident_location}\r\n+                    onChange={handleInputChange}\r\n+                    placeholder=\"e.g., Nairobi, Westlands\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Description of Incident *\r\n+                  </label>\r\n+                  <textarea\r\n+                    name=\"description\"\r\n+                    value={formData.description}\r\n+                    onChange={handleInputChange}\r\n+                    rows=\"4\"\r\n+                    placeholder=\"Please describe what happened...\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+              </div>\r\n+\r\n+              {/* Safety Questions */}\r\n+              <div className=\"space-y-3\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Safety Assessment</h3>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"immediate_danger\"\r\n+                    checked={formData.immediate_danger}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I am in immediate danger</span>\r\n+                </label>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"needs_medical_attention\"\r\n+                    checked={formData.needs_medical_attention}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I need medical attention</span>\r\n+                </label>\r\n+              </div>\r\n+\r\n+              {/* Optional Contact Information */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Optional Contact Information</h3>\r\n+                <p className=\"text-sm text-gray-600\">\r\n+                  Only provide if you want us to contact you. Your report will be processed even without this information.\r\n+                </p>\r\n+                \r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Preferred Contact Method\r\n+                  </label>\r\n+                  <select\r\n+                    name=\"contact_method\"\r\n+                    value={formData.contact_method}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                  >\r\n+                    <option value=\"none\">Do not contact me</option>\r\n+                    <option value=\"phone\">Phone</option>\r\n+                    <option value=\"email\">Email</option>\r\n+                    <option value=\"in_person\">In Person</option>\r\n+                  </select>\r\n+                </div>\r\n+\r\n+                {formData.contact_method !== 'none' && (\r\n+                  <motion.div\r\n+                    initial={{ opacity: 0, height: 0 }}\r\n+                    animate={{ opacity: 1, height: 'auto' }}\r\n+                    className=\"space-y-4\"\r\n+                  >\r\n+                    <div>\r\n+                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Your Name</label>\r\n+                      <input\r\n+                        type=\"text\"\r\n+                        name=\"name\"\r\n+                        value={formData.name}\r\n+                        onChange={handleInputChange}\r\n+                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      />\r\n+                    </div>\r\n+                    \r\n+                    {(formData.contact_method === 'email' || formData.contact_method === 'phone') && (\r\n+                      <div>\r\n+                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                          {formData.contact_method === 'email' ? 'Email Address' : 'Phone Number'}\r\n+                        </label>\r\n+                        <input\r\n+                          type={formData.contact_method === 'email' ? 'email' : 'tel'}\r\n+                          name={formData.contact_method}\r\n+                          value={formData[formData.contact_method]}\r\n+                          onChange={handleInputChange}\r\n+                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                          required={formData.contact_method !== 'none'}\r\n+                        />\r\n+                      </div>\r\n+                    )}\r\n+                  </motion.div>\r\n+                )}\r\n+              </div>\r\n+\r\n+              {/* Submit Buttons */}\r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={handleSubmit}\r\n+                  disabled={loading}\r\n+                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n+                >\r\n+                  {loading ? 'Submitting...' : 'Submit Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => setShowForm(false)}\r\n+                  className=\"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n             </div>\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\r\n-              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Tracking Form */}\r\n+        {showTracking && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-md mx-auto\"\r\n+          >\r\n+            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Track Your Report</h2>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                  Reference Code\r\n+                </label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  value={trackingCode}\r\n+                  onChange={(e) => setTrackingCode(e.target.value.toUpperCase())}\r\n+                  placeholder=\"e.g., ABC12345\"\r\n+                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              {error && (\r\n+                <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n+                  <p className=\"text-red-800 text-sm\">{error}</p>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              {trackingResult && (\r\n+                <motion.div\r\n+                  initial={{ opacity: 0 }}\r\n+                  animate={{ opacity: 1 }}\r\n+                  className=\"bg-purple-50 rounded-lg p-4\"\r\n+                >\r\n+                  <h3 className=\"font-semibold text-gray-800 mb-2\">Report Status</h3>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Status: <span className=\"font-semibold\">{trackingResult.report.status_display}</span>\r\n+                  </p>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Submitted: {new Date(trackingResult.report.created_at).toLocaleDateString()}\r\n+                  </p>\r\n+                  {trackingResult.can_create_account && (\r\n+                    <p className=\"mt-2 text-green-600 text-sm\">\r\n+                      Your report has been reviewed. You can now create an account for more features.\r\n+                    </p>\r\n+                  )}\r\n+                </motion.div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex gap-4\">\r\n+                <button\r\n+                  onClick={trackReport}\r\n+                  disabled={loading || !trackingCode}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-all disabled:opacity-50\"\r\n+                >\r\n+                  {loading ? 'Checking...' : 'Track Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(false);\r\n+                    setTrackingResult(null);\r\n+                    setTrackingCode('');\r\n+                    setError(null);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Back\r\n+                </button>\r\n+              </div>\r\n             </div>\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Incident Location</label>\r\n-              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" required />\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Success Message */}\r\n+        {submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, scale: 0.9 }}\r\n+            animate={{ opacity: 1, scale: 1 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-2xl mx-auto\"\r\n+          >\r\n+            <div className=\"text-center\">\r\n+              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n+                <Check className=\"w-10 h-10 text-green-600\" />\r\n+              </div>\r\n+              \r\n+              <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">\r\n+                Report Submitted Successfully\r\n+              </h2>\r\n+              \r\n+              <div className=\"bg-purple-50 rounded-lg p-6 mb-6\">\r\n+                <p className=\"text-lg font-semibold text-purple-800 mb-2\">\r\n+                  Your Reference Code:\r\n+                </p>\r\n+                <p className=\"text-3xl font-mono font-bold text-purple-600\">\r\n+                  {referenceCode}\r\n+                </p>\r\n+                <p className=\"text-sm text-gray-600 mt-2\">\r\n+                  Please save this code to track your report\r\n+                </p>\r\n+              </div>\r\n+              \r\n+              <div className=\"text-left bg-gray-50 rounded-lg p-6 mb-6\">\r\n+                <h3 className=\"font-semibold text-gray-800 mb-3\">What happens next?</h3>\r\n+                <ul className=\"space-y-2 text-gray-600\">\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    Your report will be reviewed within 24 hours\r\n+                  </li>\r\n+                  {formData.contact_method !== 'none' && (\r\n+                    <li className=\"flex items-start gap-2\">\r\n+                      <span className=\"text-purple-600 mt-1\">•</span>\r\n+                      We will contact you via {formData.contact_method} within 24-48 hours\r\n+                    </li>\r\n+                  )}\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    You can track your report status using the reference code\r\n+                  </li>\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    All information is kept strictly confidential\r\n+                  </li>\r\n+                </ul>\r\n+              </div>\r\n+              \r\n+              {(formData.immediate_danger || formData.needs_medical_attention) && (\r\n+                <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\r\n+                  <h3 className=\"font-semibold text-red-800 mb-2\">\r\n+                    Immediate Assistance Required\r\n+                  </h3>\r\n+                  <p className=\"text-red-700 mb-3\">\r\n+                    Based on your responses, please contact emergency services immediately:\r\n+                  </p>\r\n+                  <div className=\"space-y-2\">\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Police: 999\r\n+                    </a>\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Medical Emergency: 999\r\n+                    </a>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setSubmitted(false);\r\n+                    setShowForm(false);\r\n+                    setFormData({\r\n+                      incident_date: '',\r\n+                      incident_location: '',\r\n+                      incident_type: 'physical',\r\n+                      description: '',\r\n+                      immediate_danger: false,\r\n+                      needs_medical_attention: false,\r\n+                      contact_method: 'none',\r\n+                      contact_info: '',\r\n+                      name: '',\r\n+                      email: '',\r\n+                      phone: ''\r\n+                    });\r\n+                  }}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-all\"\r\n+                >\r\n+                  Submit Another Report\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(true);\r\n+                    setSubmitted(false);\r\n+                    setTrackingCode(referenceCode);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Track This Report\r\n+                </button>\r\n+              </div>\r\n             </div>\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Date of Incident</label>\r\n-              <input type=\"date\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" required />\r\n-            </div>\r\n-            <div>\r\n-              <label className=\"block text-sm font-medium text-gray-700\">Describe What Happened</label>\r\n-              <textarea className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" rows=\"5\" required></textarea>\r\n-            </div>\r\n-            <button\r\n-              type=\"submit\"\r\n-              className=\"bg-gradient-to-r from-purple-600 to-blue-600 transition duration-200 ease-in-out transform hover:scale-105 text-white px-4 py-2 rounded\"\r\n-            >\r\n-              Submit Report\r\n-            </button>\r\n-          </form>\r\n-        </motion.div>\r\n-      )}\r\n-\r\n-      {/* Thank You Card */}\r\n-      {submitted && (\r\n-        <motion.div\r\n-          initial={{ opacity: 0, scale: 0.95 }}\r\n-          animate={{ opacity: 1, scale: 1 }}\r\n-          transition={{ duration: 0.5 }}\r\n-          className=\"bg-purple-100 border-l-4 border-purple-500 p-6 rounded-lg text-center mt-10\"\r\n-        >\r\n-          <h3 className=\"text-2xl font-bold text-white-700 mb-2\">Thank you for your report</h3>\r\n-          <p className=\"text-white-800\">\r\n-            We've received your information. You're not alone we've got your back and will get back to you as soon as possible.\r\n-          </p>\r\n-        </motion.div>\r\n-      )}\r\n+          </motion.div>\r\n+        )}\r\n+      </div>\r\n     </div>\r\n   );\r\n-}\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752499260961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -574,6 +574,6 @@\n           </motion.div>\r\n         )}\r\n       </div>\r\n     </div>\r\n-  );\r\n+  );className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded transition duration-200 ease-in-out transform hover:scale-105 text-lg\"\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752499319853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n             \r\n             <div className=\"space-y-4\">\r\n               <button\r\n                 onClick={() => setShowForm(true)}\r\n-                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n+                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n               >\r\n                 Report an Incident\r\n               </button>\r\n               \r\n"
                },
                {
                    "date": 1752499402523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -375,9 +375,9 @@\n               <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                 <button\r\n                   onClick={handleSubmit}\r\n                   disabled={loading}\r\n-                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n+                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                 >\r\n                   {loading ? 'Submitting...' : 'Submit Report'}\r\n                 </button>\r\n                 <button\r\n"
                },
                {
                    "date": 1752499646830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -574,6 +574,6 @@\n           </motion.div>\r\n         )}\r\n       </div>\r\n     </div>\r\n-  );className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded transition duration-200 ease-in-out transform hover:scale-105 text-lg\"\r\n+  );\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752499751188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4\">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n-        className=\"fixed top-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n+        className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n       >\r\n         <X className=\"w-5 h-5\" />\r\n         Quick Exit\r\n       </button>\r\n"
                },
                {
                    "date": 1752500030958,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n   });\r\n \r\n   const handleEmergencyExit = () => {\r\n     // Clear browser history\r\n-    window.location.replace(\"https://www.google.com\");\r\n+    window.location.replace(\"https://poki.com/en/g/subway-surfers\");\r\n   };\r\n \r\n   const handleInputChange = (e) => {\r\n     const { name, value, type, checked } = e.target;\r\n"
                },
                {
                    "date": 1752500376126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4\">\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 \">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n         className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n"
                },
                {
                    "date": 1752500382913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,579 @@\n+import { useState } from \"react\";\r\n+import { motion, AnimatePresence } from \"framer-motion\";\r\n+import { AlertCircle, Shield, Phone, X, Check, Eye, EyeOff } from \"lucide-react\";\r\n+\r\n+// API configuration - Update this to match your Django backend URL\r\n+const API_BASE_URL = 'http://localhost:8000/api';\r\n+\r\n+export default function Report() {\r\n+  const [showForm, setShowForm] = useState(false);\r\n+  const [submitted, setSubmitted] = useState(false);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState(null);\r\n+  const [referenceCode, setReferenceCode] = useState('');\r\n+  const [showTracking, setShowTracking] = useState(false);\r\n+  const [trackingCode, setTrackingCode] = useState('');\r\n+  const [trackingResult, setTrackingResult] = useState(null);\r\n+  \r\n+  // Form data\r\n+  const [formData, setFormData] = useState({\r\n+    incident_date: '',\r\n+    incident_location: '',\r\n+    incident_type: 'physical',\r\n+    description: '',\r\n+    immediate_danger: false,\r\n+    needs_medical_attention: false,\r\n+    contact_method: 'none',\r\n+    contact_info: '',\r\n+    // Optional fields for identification\r\n+    name: '',\r\n+    email: '',\r\n+    phone: ''\r\n+  });\r\n+\r\n+  const handleEmergencyExit = () => {\r\n+    // Clear browser history\r\n+    window.location.replace(\"https://poki.com/en/g/subway-surfers\");\r\n+  };\r\n+\r\n+  const handleInputChange = (e) => {\r\n+    const { name, value, type, checked } = e.target;\r\n+    setFormData(prev => ({\r\n+      ...prev,\r\n+      [name]: type === 'checkbox' ? checked : value\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      // Prepare data for API\r\n+      const submitData = {\r\n+        incident_date: new Date(formData.incident_date).toISOString(),\r\n+        incident_location: formData.incident_location,\r\n+        incident_type: formData.incident_type,\r\n+        description: formData.description,\r\n+        immediate_danger: formData.immediate_danger,\r\n+        needs_medical_attention: formData.needs_medical_attention,\r\n+        contact_method: formData.contact_method,\r\n+      };\r\n+\r\n+      // Add contact info based on method\r\n+      if (formData.contact_method !== 'none') {\r\n+        if (formData.contact_method === 'email') {\r\n+          submitData.contact_info = formData.email;\r\n+        } else if (formData.contact_method === 'phone') {\r\n+          submitData.contact_info = formData.phone;\r\n+        }\r\n+      }\r\n+\r\n+      const response = await fetch(`${API_BASE_URL}/reports/anonymous/`, {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify(submitData)\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setReferenceCode(data.reference_code);\r\n+        setSubmitted(true);\r\n+        \r\n+        // Store reference code in localStorage for easy access\r\n+        const savedReports = JSON.parse(localStorage.getItem('gbv_reports') || '[]');\r\n+        savedReports.push({\r\n+          reference_code: data.reference_code,\r\n+          date: new Date().toISOString()\r\n+        });\r\n+        localStorage.setItem('gbv_reports', JSON.stringify(savedReports));\r\n+      } else {\r\n+        setError(data.error || 'Failed to submit report');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Network error. Please try again.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const trackReport = async () => {\r\n+    if (!trackingCode) return;\r\n+    \r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const response = await fetch(`${API_BASE_URL}/reports/track/${trackingCode}/`);\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setTrackingResult(data);\r\n+      } else {\r\n+        setError('Invalid reference code');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Failed to track report');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 pt-\">\r\n+      {/* Emergency Exit Button */}\r\n+      <button\r\n+        onClick={handleEmergencyExit}\r\n+        className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n+      >\r\n+        <X className=\"w-5 h-5\" />\r\n+        Quick Exit\r\n+      </button>\r\n+\r\n+      <div className=\"max-w-4xl mx-auto\">\r\n+        {/* Initial View */}\r\n+        {!showForm && !submitted && !showTracking && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, y: 20 }}\r\n+            animate={{ opacity: 1, y: 0 }}\r\n+            className=\"text-center mt-20\"\r\n+          >\r\n+            <Shield className=\"w-20 h-20 mx-auto mb-6 text-purple-600\" />\r\n+            <h1 className=\"text-4xl font-bold text-gray-800 mb-4\">\r\n+              You Are Not Alone\r\n+            </h1>\r\n+            <p className=\"text-lg text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n+              Your safety is our priority. Report incidents anonymously and get the help you deserve.\r\n+            </p>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <button\r\n+                onClick={() => setShowForm(true)}\r\n+                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n+              >\r\n+                Report an Incident\r\n+              </button>\r\n+              \r\n+              <button\r\n+                onClick={() => setShowTracking(true)}\r\n+                className=\"w-full sm:w-auto bg-white text-purple-600 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-purple-600 hover:bg-purple-50 ml-0 sm:ml-4 transition-all\"\r\n+              >\r\n+                Track Existing Report\r\n+              </button>\r\n+            </div>\r\n+\r\n+            {/* Emergency Numbers */}\r\n+            <div className=\"mt-12 bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto\">\r\n+              <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Emergency Contacts</h3>\r\n+              <div className=\"space-y-3\">\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">Police</span>\r\n+                  <a href=\"tel:999\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 999\r\n+                  </a>\r\n+                </div>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">GBV Hotline</span>\r\n+                  <a href=\"tel:1195\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 1195\r\n+                  </a>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Report Form */}\r\n+        {showForm && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10\"\r\n+          >\r\n+            <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Report an Incident</h2>\r\n+            \r\n+            {/* Safety Notice */}\r\n+            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\r\n+              <div className=\"flex items-start\">\r\n+                <AlertCircle className=\"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5\" />\r\n+                <div>\r\n+                  <p className=\"text-sm text-yellow-800\">\r\n+                    Your report can be completely anonymous. Only provide contact information if you want us to reach out to you.\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            {error && (\r\n+              <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-6\">\r\n+                <p className=\"text-red-800\">{error}</p>\r\n+              </div>\r\n+            )}\r\n+\r\n+            <div className=\"space-y-6\">\r\n+              {/* Required Fields */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Required Information</h3>\r\n+                \r\n+                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Date of Incident *\r\n+                    </label>\r\n+                    <input\r\n+                      type=\"datetime-local\"\r\n+                      name=\"incident_date\"\r\n+                      value={formData.incident_date}\r\n+                      onChange={handleInputChange}\r\n+                      max={new Date().toISOString().slice(0, 16)}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    />\r\n+                  </div>\r\n+                  \r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Type of Incident *\r\n+                    </label>\r\n+                    <select\r\n+                      name=\"incident_type\"\r\n+                      value={formData.incident_type}\r\n+                      onChange={handleInputChange}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    >\r\n+                      <option value=\"physical\">Physical Violence</option>\r\n+                      <option value=\"sexual\">Sexual Violence</option>\r\n+                      <option value=\"emotional\">Emotional/Psychological</option>\r\n+                      <option value=\"economic\">Economic Violence</option>\r\n+                      <option value=\"other\">Other</option>\r\n+                    </select>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Location of Incident *\r\n+                  </label>\r\n+                  <input\r\n+                    type=\"text\"\r\n+                    name=\"incident_location\"\r\n+                    value={formData.incident_location}\r\n+                    onChange={handleInputChange}\r\n+                    placeholder=\"e.g., Nairobi, Westlands\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Description of Incident *\r\n+                  </label>\r\n+                  <textarea\r\n+                    name=\"description\"\r\n+                    value={formData.description}\r\n+                    onChange={handleInputChange}\r\n+                    rows=\"4\"\r\n+                    placeholder=\"Please describe what happened...\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+              </div>\r\n+\r\n+              {/* Safety Questions */}\r\n+              <div className=\"space-y-3\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Safety Assessment</h3>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"immediate_danger\"\r\n+                    checked={formData.immediate_danger}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I am in immediate danger</span>\r\n+                </label>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"needs_medical_attention\"\r\n+                    checked={formData.needs_medical_attention}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I need medical attention</span>\r\n+                </label>\r\n+              </div>\r\n+\r\n+              {/* Optional Contact Information */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Optional Contact Information</h3>\r\n+                <p className=\"text-sm text-gray-600\">\r\n+                  Only provide if you want us to contact you. Your report will be processed even without this information.\r\n+                </p>\r\n+                \r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Preferred Contact Method\r\n+                  </label>\r\n+                  <select\r\n+                    name=\"contact_method\"\r\n+                    value={formData.contact_method}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                  >\r\n+                    <option value=\"none\">Do not contact me</option>\r\n+                    <option value=\"phone\">Phone</option>\r\n+                    <option value=\"email\">Email</option>\r\n+                    <option value=\"in_person\">In Person</option>\r\n+                  </select>\r\n+                </div>\r\n+\r\n+                {formData.contact_method !== 'none' && (\r\n+                  <motion.div\r\n+                    initial={{ opacity: 0, height: 0 }}\r\n+                    animate={{ opacity: 1, height: 'auto' }}\r\n+                    className=\"space-y-4\"\r\n+                  >\r\n+                    <div>\r\n+                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Your Name</label>\r\n+                      <input\r\n+                        type=\"text\"\r\n+                        name=\"name\"\r\n+                        value={formData.name}\r\n+                        onChange={handleInputChange}\r\n+                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      />\r\n+                    </div>\r\n+                    \r\n+                    {(formData.contact_method === 'email' || formData.contact_method === 'phone') && (\r\n+                      <div>\r\n+                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                          {formData.contact_method === 'email' ? 'Email Address' : 'Phone Number'}\r\n+                        </label>\r\n+                        <input\r\n+                          type={formData.contact_method === 'email' ? 'email' : 'tel'}\r\n+                          name={formData.contact_method}\r\n+                          value={formData[formData.contact_method]}\r\n+                          onChange={handleInputChange}\r\n+                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                          required={formData.contact_method !== 'none'}\r\n+                        />\r\n+                      </div>\r\n+                    )}\r\n+                  </motion.div>\r\n+                )}\r\n+              </div>\r\n+\r\n+              {/* Submit Buttons */}\r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={handleSubmit}\r\n+                  disabled={loading}\r\n+                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n+                >\r\n+                  {loading ? 'Submitting...' : 'Submit Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => setShowForm(false)}\r\n+                  className=\"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Tracking Form */}\r\n+        {showTracking && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-md mx-auto\"\r\n+          >\r\n+            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Track Your Report</h2>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                  Reference Code\r\n+                </label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  value={trackingCode}\r\n+                  onChange={(e) => setTrackingCode(e.target.value.toUpperCase())}\r\n+                  placeholder=\"e.g., ABC12345\"\r\n+                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              {error && (\r\n+                <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n+                  <p className=\"text-red-800 text-sm\">{error}</p>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              {trackingResult && (\r\n+                <motion.div\r\n+                  initial={{ opacity: 0 }}\r\n+                  animate={{ opacity: 1 }}\r\n+                  className=\"bg-purple-50 rounded-lg p-4\"\r\n+                >\r\n+                  <h3 className=\"font-semibold text-gray-800 mb-2\">Report Status</h3>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Status: <span className=\"font-semibold\">{trackingResult.report.status_display}</span>\r\n+                  </p>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Submitted: {new Date(trackingResult.report.created_at).toLocaleDateString()}\r\n+                  </p>\r\n+                  {trackingResult.can_create_account && (\r\n+                    <p className=\"mt-2 text-green-600 text-sm\">\r\n+                      Your report has been reviewed. You can now create an account for more features.\r\n+                    </p>\r\n+                  )}\r\n+                </motion.div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex gap-4\">\r\n+                <button\r\n+                  onClick={trackReport}\r\n+                  disabled={loading || !trackingCode}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-all disabled:opacity-50\"\r\n+                >\r\n+                  {loading ? 'Checking...' : 'Track Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(false);\r\n+                    setTrackingResult(null);\r\n+                    setTrackingCode('');\r\n+                    setError(null);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Back\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Success Message */}\r\n+        {submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, scale: 0.9 }}\r\n+            animate={{ opacity: 1, scale: 1 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-2xl mx-auto\"\r\n+          >\r\n+            <div className=\"text-center\">\r\n+              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n+                <Check className=\"w-10 h-10 text-green-600\" />\r\n+              </div>\r\n+              \r\n+              <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">\r\n+                Report Submitted Successfully\r\n+              </h2>\r\n+              \r\n+              <div className=\"bg-purple-50 rounded-lg p-6 mb-6\">\r\n+                <p className=\"text-lg font-semibold text-purple-800 mb-2\">\r\n+                  Your Reference Code:\r\n+                </p>\r\n+                <p className=\"text-3xl font-mono font-bold text-purple-600\">\r\n+                  {referenceCode}\r\n+                </p>\r\n+                <p className=\"text-sm text-gray-600 mt-2\">\r\n+                  Please save this code to track your report\r\n+                </p>\r\n+              </div>\r\n+              \r\n+              <div className=\"text-left bg-gray-50 rounded-lg p-6 mb-6\">\r\n+                <h3 className=\"font-semibold text-gray-800 mb-3\">What happens next?</h3>\r\n+                <ul className=\"space-y-2 text-gray-600\">\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    Your report will be reviewed within 24 hours\r\n+                  </li>\r\n+                  {formData.contact_method !== 'none' && (\r\n+                    <li className=\"flex items-start gap-2\">\r\n+                      <span className=\"text-purple-600 mt-1\">•</span>\r\n+                      We will contact you via {formData.contact_method} within 24-48 hours\r\n+                    </li>\r\n+                  )}\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    You can track your report status using the reference code\r\n+                  </li>\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    All information is kept strictly confidential\r\n+                  </li>\r\n+                </ul>\r\n+              </div>\r\n+              \r\n+              {(formData.immediate_danger || formData.needs_medical_attention) && (\r\n+                <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\r\n+                  <h3 className=\"font-semibold text-red-800 mb-2\">\r\n+                    Immediate Assistance Required\r\n+                  </h3>\r\n+                  <p className=\"text-red-700 mb-3\">\r\n+                    Based on your responses, please contact emergency services immediately:\r\n+                  </p>\r\n+                  <div className=\"space-y-2\">\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Police: 999\r\n+                    </a>\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Medical Emergency: 999\r\n+                    </a>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setSubmitted(false);\r\n+                    setShowForm(false);\r\n+                    setFormData({\r\n+                      incident_date: '',\r\n+                      incident_location: '',\r\n+                      incident_type: 'physical',\r\n+                      description: '',\r\n+                      immediate_danger: false,\r\n+                      needs_medical_attention: false,\r\n+                      contact_method: 'none',\r\n+                      contact_info: '',\r\n+                      name: '',\r\n+                      email: '',\r\n+                      phone: ''\r\n+                    });\r\n+                  }}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-all\"\r\n+                >\r\n+                  Submit Another Report\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(true);\r\n+                    setSubmitted(false);\r\n+                    setTrackingCode(referenceCode);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Track This Report\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752500398401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 pt-\">\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 pt-10\">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n         className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n@@ -575,584 +575,5 @@\n         )}\r\n       </div>\r\n     </div>\r\n   );\r\n-}\n-import { useState } from \"react\";\r\n-import { motion, AnimatePresence } from \"framer-motion\";\r\n-import { AlertCircle, Shield, Phone, X, Check, Eye, EyeOff } from \"lucide-react\";\r\n-\r\n-// API configuration - Update this to match your Django backend URL\r\n-const API_BASE_URL = 'http://localhost:8000/api';\r\n-\r\n-export default function Report() {\r\n-  const [showForm, setShowForm] = useState(false);\r\n-  const [submitted, setSubmitted] = useState(false);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState(null);\r\n-  const [referenceCode, setReferenceCode] = useState('');\r\n-  const [showTracking, setShowTracking] = useState(false);\r\n-  const [trackingCode, setTrackingCode] = useState('');\r\n-  const [trackingResult, setTrackingResult] = useState(null);\r\n-  \r\n-  // Form data\r\n-  const [formData, setFormData] = useState({\r\n-    incident_date: '',\r\n-    incident_location: '',\r\n-    incident_type: 'physical',\r\n-    description: '',\r\n-    immediate_danger: false,\r\n-    needs_medical_attention: false,\r\n-    contact_method: 'none',\r\n-    contact_info: '',\r\n-    // Optional fields for identification\r\n-    name: '',\r\n-    email: '',\r\n-    phone: ''\r\n-  });\r\n-\r\n-  const handleEmergencyExit = () => {\r\n-    // Clear browser history\r\n-    window.location.replace(\"https://poki.com/en/g/subway-surfers\");\r\n-  };\r\n-\r\n-  const handleInputChange = (e) => {\r\n-    const { name, value, type, checked } = e.target;\r\n-    setFormData(prev => ({\r\n-      ...prev,\r\n-      [name]: type === 'checkbox' ? checked : value\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-\r\n-    try {\r\n-      // Prepare data for API\r\n-      const submitData = {\r\n-        incident_date: new Date(formData.incident_date).toISOString(),\r\n-        incident_location: formData.incident_location,\r\n-        incident_type: formData.incident_type,\r\n-        description: formData.description,\r\n-        immediate_danger: formData.immediate_danger,\r\n-        needs_medical_attention: formData.needs_medical_attention,\r\n-        contact_method: formData.contact_method,\r\n-      };\r\n-\r\n-      // Add contact info based on method\r\n-      if (formData.contact_method !== 'none') {\r\n-        if (formData.contact_method === 'email') {\r\n-          submitData.contact_info = formData.email;\r\n-        } else if (formData.contact_method === 'phone') {\r\n-          submitData.contact_info = formData.phone;\r\n-        }\r\n-      }\r\n-\r\n-      const response = await fetch(`${API_BASE_URL}/reports/anonymous/`, {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify(submitData)\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-\r\n-      if (response.ok) {\r\n-        setReferenceCode(data.reference_code);\r\n-        setSubmitted(true);\r\n-        \r\n-        // Store reference code in localStorage for easy access\r\n-        const savedReports = JSON.parse(localStorage.getItem('gbv_reports') || '[]');\r\n-        savedReports.push({\r\n-          reference_code: data.reference_code,\r\n-          date: new Date().toISOString()\r\n-        });\r\n-        localStorage.setItem('gbv_reports', JSON.stringify(savedReports));\r\n-      } else {\r\n-        setError(data.error || 'Failed to submit report');\r\n-      }\r\n-    } catch (err) {\r\n-      setError('Network error. Please try again.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const trackReport = async () => {\r\n-    if (!trackingCode) return;\r\n-    \r\n-    setLoading(true);\r\n-    setError(null);\r\n-\r\n-    try {\r\n-      const response = await fetch(`${API_BASE_URL}/reports/track/${trackingCode}/`);\r\n-      const data = await response.json();\r\n-\r\n-      if (response.ok) {\r\n-        setTrackingResult(data);\r\n-      } else {\r\n-        setError('Invalid reference code');\r\n-      }\r\n-    } catch (err) {\r\n-      setError('Failed to track report');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 \">\r\n-      {/* Emergency Exit Button */}\r\n-      <button\r\n-        onClick={handleEmergencyExit}\r\n-        className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n-      >\r\n-        <X className=\"w-5 h-5\" />\r\n-        Quick Exit\r\n-      </button>\r\n-\r\n-      <div className=\"max-w-4xl mx-auto\">\r\n-        {/* Initial View */}\r\n-        {!showForm && !submitted && !showTracking && (\r\n-          <motion.div\r\n-            initial={{ opacity: 0, y: 20 }}\r\n-            animate={{ opacity: 1, y: 0 }}\r\n-            className=\"text-center mt-20\"\r\n-          >\r\n-            <Shield className=\"w-20 h-20 mx-auto mb-6 text-purple-600\" />\r\n-            <h1 className=\"text-4xl font-bold text-gray-800 mb-4\">\r\n-              You Are Not Alone\r\n-            </h1>\r\n-            <p className=\"text-lg text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n-              Your safety is our priority. Report incidents anonymously and get the help you deserve.\r\n-            </p>\r\n-            \r\n-            <div className=\"space-y-4\">\r\n-              <button\r\n-                onClick={() => setShowForm(true)}\r\n-                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n-              >\r\n-                Report an Incident\r\n-              </button>\r\n-              \r\n-              <button\r\n-                onClick={() => setShowTracking(true)}\r\n-                className=\"w-full sm:w-auto bg-white text-purple-600 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-purple-600 hover:bg-purple-50 ml-0 sm:ml-4 transition-all\"\r\n-              >\r\n-                Track Existing Report\r\n-              </button>\r\n-            </div>\r\n-\r\n-            {/* Emergency Numbers */}\r\n-            <div className=\"mt-12 bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto\">\r\n-              <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Emergency Contacts</h3>\r\n-              <div className=\"space-y-3\">\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <span className=\"text-gray-600\">Police</span>\r\n-                  <a href=\"tel:999\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n-                    <Phone className=\"w-4 h-4\" /> 999\r\n-                  </a>\r\n-                </div>\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <span className=\"text-gray-600\">GBV Hotline</span>\r\n-                  <a href=\"tel:1195\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n-                    <Phone className=\"w-4 h-4\" /> 1195\r\n-                  </a>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </motion.div>\r\n-        )}\r\n-\r\n-        {/* Report Form */}\r\n-        {showForm && !submitted && (\r\n-          <motion.div\r\n-            initial={{ opacity: 0, x: 100 }}\r\n-            animate={{ opacity: 1, x: 0 }}\r\n-            className=\"bg-white rounded-xl shadow-xl p-8 mt-10\"\r\n-          >\r\n-            <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Report an Incident</h2>\r\n-            \r\n-            {/* Safety Notice */}\r\n-            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\r\n-              <div className=\"flex items-start\">\r\n-                <AlertCircle className=\"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5\" />\r\n-                <div>\r\n-                  <p className=\"text-sm text-yellow-800\">\r\n-                    Your report can be completely anonymous. Only provide contact information if you want us to reach out to you.\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            {error && (\r\n-              <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-6\">\r\n-                <p className=\"text-red-800\">{error}</p>\r\n-              </div>\r\n-            )}\r\n-\r\n-            <div className=\"space-y-6\">\r\n-              {/* Required Fields */}\r\n-              <div className=\"space-y-4\">\r\n-                <h3 className=\"text-lg font-semibold text-gray-700\">Required Information</h3>\r\n-                \r\n-                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                  <div>\r\n-                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                      Date of Incident *\r\n-                    </label>\r\n-                    <input\r\n-                      type=\"datetime-local\"\r\n-                      name=\"incident_date\"\r\n-                      value={formData.incident_date}\r\n-                      onChange={handleInputChange}\r\n-                      max={new Date().toISOString().slice(0, 16)}\r\n-                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                      required\r\n-                    />\r\n-                  </div>\r\n-                  \r\n-                  <div>\r\n-                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                      Type of Incident *\r\n-                    </label>\r\n-                    <select\r\n-                      name=\"incident_type\"\r\n-                      value={formData.incident_type}\r\n-                      onChange={handleInputChange}\r\n-                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                      required\r\n-                    >\r\n-                      <option value=\"physical\">Physical Violence</option>\r\n-                      <option value=\"sexual\">Sexual Violence</option>\r\n-                      <option value=\"emotional\">Emotional/Psychological</option>\r\n-                      <option value=\"economic\">Economic Violence</option>\r\n-                      <option value=\"other\">Other</option>\r\n-                    </select>\r\n-                  </div>\r\n-                </div>\r\n-\r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                    Location of Incident *\r\n-                  </label>\r\n-                  <input\r\n-                    type=\"text\"\r\n-                    name=\"incident_location\"\r\n-                    value={formData.incident_location}\r\n-                    onChange={handleInputChange}\r\n-                    placeholder=\"e.g., Nairobi, Westlands\"\r\n-                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                    required\r\n-                  />\r\n-                </div>\r\n-\r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                    Description of Incident *\r\n-                  </label>\r\n-                  <textarea\r\n-                    name=\"description\"\r\n-                    value={formData.description}\r\n-                    onChange={handleInputChange}\r\n-                    rows=\"4\"\r\n-                    placeholder=\"Please describe what happened...\"\r\n-                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                    required\r\n-                  />\r\n-                </div>\r\n-              </div>\r\n-\r\n-              {/* Safety Questions */}\r\n-              <div className=\"space-y-3\">\r\n-                <h3 className=\"text-lg font-semibold text-gray-700\">Safety Assessment</h3>\r\n-                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n-                  <input\r\n-                    type=\"checkbox\"\r\n-                    name=\"immediate_danger\"\r\n-                    checked={formData.immediate_danger}\r\n-                    onChange={handleInputChange}\r\n-                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n-                  />\r\n-                  <span className=\"text-gray-700\">I am in immediate danger</span>\r\n-                </label>\r\n-                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n-                  <input\r\n-                    type=\"checkbox\"\r\n-                    name=\"needs_medical_attention\"\r\n-                    checked={formData.needs_medical_attention}\r\n-                    onChange={handleInputChange}\r\n-                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n-                  />\r\n-                  <span className=\"text-gray-700\">I need medical attention</span>\r\n-                </label>\r\n-              </div>\r\n-\r\n-              {/* Optional Contact Information */}\r\n-              <div className=\"space-y-4\">\r\n-                <h3 className=\"text-lg font-semibold text-gray-700\">Optional Contact Information</h3>\r\n-                <p className=\"text-sm text-gray-600\">\r\n-                  Only provide if you want us to contact you. Your report will be processed even without this information.\r\n-                </p>\r\n-                \r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                    Preferred Contact Method\r\n-                  </label>\r\n-                  <select\r\n-                    name=\"contact_method\"\r\n-                    value={formData.contact_method}\r\n-                    onChange={handleInputChange}\r\n-                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                  >\r\n-                    <option value=\"none\">Do not contact me</option>\r\n-                    <option value=\"phone\">Phone</option>\r\n-                    <option value=\"email\">Email</option>\r\n-                    <option value=\"in_person\">In Person</option>\r\n-                  </select>\r\n-                </div>\r\n-\r\n-                {formData.contact_method !== 'none' && (\r\n-                  <motion.div\r\n-                    initial={{ opacity: 0, height: 0 }}\r\n-                    animate={{ opacity: 1, height: 'auto' }}\r\n-                    className=\"space-y-4\"\r\n-                  >\r\n-                    <div>\r\n-                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Your Name</label>\r\n-                      <input\r\n-                        type=\"text\"\r\n-                        name=\"name\"\r\n-                        value={formData.name}\r\n-                        onChange={handleInputChange}\r\n-                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                      />\r\n-                    </div>\r\n-                    \r\n-                    {(formData.contact_method === 'email' || formData.contact_method === 'phone') && (\r\n-                      <div>\r\n-                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                          {formData.contact_method === 'email' ? 'Email Address' : 'Phone Number'}\r\n-                        </label>\r\n-                        <input\r\n-                          type={formData.contact_method === 'email' ? 'email' : 'tel'}\r\n-                          name={formData.contact_method}\r\n-                          value={formData[formData.contact_method]}\r\n-                          onChange={handleInputChange}\r\n-                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                          required={formData.contact_method !== 'none'}\r\n-                        />\r\n-                      </div>\r\n-                    )}\r\n-                  </motion.div>\r\n-                )}\r\n-              </div>\r\n-\r\n-              {/* Submit Buttons */}\r\n-              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n-                <button\r\n-                  onClick={handleSubmit}\r\n-                  disabled={loading}\r\n-                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n-                >\r\n-                  {loading ? 'Submitting...' : 'Submit Report'}\r\n-                </button>\r\n-                <button\r\n-                  onClick={() => setShowForm(false)}\r\n-                  className=\"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n-                >\r\n-                  Cancel\r\n-                </button>\r\n-              </div>\r\n-            </div>\r\n-          </motion.div>\r\n-        )}\r\n-\r\n-        {/* Tracking Form */}\r\n-        {showTracking && !submitted && (\r\n-          <motion.div\r\n-            initial={{ opacity: 0, x: 100 }}\r\n-            animate={{ opacity: 1, x: 0 }}\r\n-            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-md mx-auto\"\r\n-          >\r\n-            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Track Your Report</h2>\r\n-            \r\n-            <div className=\"space-y-4\">\r\n-              <div>\r\n-                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n-                  Reference Code\r\n-                </label>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  value={trackingCode}\r\n-                  onChange={(e) => setTrackingCode(e.target.value.toUpperCase())}\r\n-                  placeholder=\"e.g., ABC12345\"\r\n-                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              {error && (\r\n-                <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n-                  <p className=\"text-red-800 text-sm\">{error}</p>\r\n-                </div>\r\n-              )}\r\n-              \r\n-              {trackingResult && (\r\n-                <motion.div\r\n-                  initial={{ opacity: 0 }}\r\n-                  animate={{ opacity: 1 }}\r\n-                  className=\"bg-purple-50 rounded-lg p-4\"\r\n-                >\r\n-                  <h3 className=\"font-semibold text-gray-800 mb-2\">Report Status</h3>\r\n-                  <p className=\"text-gray-600\">\r\n-                    Status: <span className=\"font-semibold\">{trackingResult.report.status_display}</span>\r\n-                  </p>\r\n-                  <p className=\"text-gray-600\">\r\n-                    Submitted: {new Date(trackingResult.report.created_at).toLocaleDateString()}\r\n-                  </p>\r\n-                  {trackingResult.can_create_account && (\r\n-                    <p className=\"mt-2 text-green-600 text-sm\">\r\n-                      Your report has been reviewed. You can now create an account for more features.\r\n-                    </p>\r\n-                  )}\r\n-                </motion.div>\r\n-              )}\r\n-              \r\n-              <div className=\"flex gap-4\">\r\n-                <button\r\n-                  onClick={trackReport}\r\n-                  disabled={loading || !trackingCode}\r\n-                  className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-all disabled:opacity-50\"\r\n-                >\r\n-                  {loading ? 'Checking...' : 'Track Report'}\r\n-                </button>\r\n-                <button\r\n-                  onClick={() => {\r\n-                    setShowTracking(false);\r\n-                    setTrackingResult(null);\r\n-                    setTrackingCode('');\r\n-                    setError(null);\r\n-                  }}\r\n-                  className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n-                >\r\n-                  Back\r\n-                </button>\r\n-              </div>\r\n-            </div>\r\n-          </motion.div>\r\n-        )}\r\n-\r\n-        {/* Success Message */}\r\n-        {submitted && (\r\n-          <motion.div\r\n-            initial={{ opacity: 0, scale: 0.9 }}\r\n-            animate={{ opacity: 1, scale: 1 }}\r\n-            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-2xl mx-auto\"\r\n-          >\r\n-            <div className=\"text-center\">\r\n-              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n-                <Check className=\"w-10 h-10 text-green-600\" />\r\n-              </div>\r\n-              \r\n-              <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">\r\n-                Report Submitted Successfully\r\n-              </h2>\r\n-              \r\n-              <div className=\"bg-purple-50 rounded-lg p-6 mb-6\">\r\n-                <p className=\"text-lg font-semibold text-purple-800 mb-2\">\r\n-                  Your Reference Code:\r\n-                </p>\r\n-                <p className=\"text-3xl font-mono font-bold text-purple-600\">\r\n-                  {referenceCode}\r\n-                </p>\r\n-                <p className=\"text-sm text-gray-600 mt-2\">\r\n-                  Please save this code to track your report\r\n-                </p>\r\n-              </div>\r\n-              \r\n-              <div className=\"text-left bg-gray-50 rounded-lg p-6 mb-6\">\r\n-                <h3 className=\"font-semibold text-gray-800 mb-3\">What happens next?</h3>\r\n-                <ul className=\"space-y-2 text-gray-600\">\r\n-                  <li className=\"flex items-start gap-2\">\r\n-                    <span className=\"text-purple-600 mt-1\">•</span>\r\n-                    Your report will be reviewed within 24 hours\r\n-                  </li>\r\n-                  {formData.contact_method !== 'none' && (\r\n-                    <li className=\"flex items-start gap-2\">\r\n-                      <span className=\"text-purple-600 mt-1\">•</span>\r\n-                      We will contact you via {formData.contact_method} within 24-48 hours\r\n-                    </li>\r\n-                  )}\r\n-                  <li className=\"flex items-start gap-2\">\r\n-                    <span className=\"text-purple-600 mt-1\">•</span>\r\n-                    You can track your report status using the reference code\r\n-                  </li>\r\n-                  <li className=\"flex items-start gap-2\">\r\n-                    <span className=\"text-purple-600 mt-1\">•</span>\r\n-                    All information is kept strictly confidential\r\n-                  </li>\r\n-                </ul>\r\n-              </div>\r\n-              \r\n-              {(formData.immediate_danger || formData.needs_medical_attention) && (\r\n-                <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\r\n-                  <h3 className=\"font-semibold text-red-800 mb-2\">\r\n-                    Immediate Assistance Required\r\n-                  </h3>\r\n-                  <p className=\"text-red-700 mb-3\">\r\n-                    Based on your responses, please contact emergency services immediately:\r\n-                  </p>\r\n-                  <div className=\"space-y-2\">\r\n-                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n-                      <Phone className=\"w-5 h-5\" /> Police: 999\r\n-                    </a>\r\n-                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n-                      <Phone className=\"w-5 h-5\" /> Medical Emergency: 999\r\n-                    </a>\r\n-                  </div>\r\n-                </div>\r\n-              )}\r\n-              \r\n-              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n-                <button\r\n-                  onClick={() => {\r\n-                    setSubmitted(false);\r\n-                    setShowForm(false);\r\n-                    setFormData({\r\n-                      incident_date: '',\r\n-                      incident_location: '',\r\n-                      incident_type: 'physical',\r\n-                      description: '',\r\n-                      immediate_danger: false,\r\n-                      needs_medical_attention: false,\r\n-                      contact_method: 'none',\r\n-                      contact_info: '',\r\n-                      name: '',\r\n-                      email: '',\r\n-                      phone: ''\r\n-                    });\r\n-                  }}\r\n-                  className=\"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-all\"\r\n-                >\r\n-                  Submit Another Report\r\n-                </button>\r\n-                <button\r\n-                  onClick={() => {\r\n-                    setShowTracking(true);\r\n-                    setSubmitted(false);\r\n-                    setTrackingCode(referenceCode);\r\n-                  }}\r\n-                  className=\"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n-                >\r\n-                  Track This Report\r\n-                </button>\r\n-              </div>\r\n-            </div>\r\n-          </motion.div>\r\n-        )}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752500409136,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 pt-10\">\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 mt-10\">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n         className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n"
                },
                {
                    "date": 1752500420411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 mt-10\">\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 \">\r\n       {/* Emergency Exit Button */}\r\n       <button\r\n         onClick={handleEmergencyExit}\r\n         className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n"
                },
                {
                    "date": 1752500441797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         <X className=\"w-5 h-5\" />\r\n         Quick Exit\r\n       </button>\r\n \r\n-      <div className=\"max-w-4xl mx-auto mt\">\r\n+      <div className=\"max-w-4xl mx-auto m\">\r\n         {/* Initial View */}\r\n         {!showForm && !submitted && !showTracking && (\r\n           <motion.div\r\n             initial={{ opacity: 0, y: 20 }}\r\n"
                },
                {
                    "date": 1752500456146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,579 @@\n+import { useState } from \"react\";\r\n+import { motion, AnimatePresence } from \"framer-motion\";\r\n+import { AlertCircle, Shield, Phone, X, Check, Eye, EyeOff } from \"lucide-react\";\r\n+\r\n+// API configuration - Update this to match your Django backend URL\r\n+const API_BASE_URL = 'http://localhost:8000/api';\r\n+\r\n+export default function Report() {\r\n+  const [showForm, setShowForm] = useState(false);\r\n+  const [submitted, setSubmitted] = useState(false);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState(null);\r\n+  const [referenceCode, setReferenceCode] = useState('');\r\n+  const [showTracking, setShowTracking] = useState(false);\r\n+  const [trackingCode, setTrackingCode] = useState('');\r\n+  const [trackingResult, setTrackingResult] = useState(null);\r\n+  \r\n+  // Form data\r\n+  const [formData, setFormData] = useState({\r\n+    incident_date: '',\r\n+    incident_location: '',\r\n+    incident_type: 'physical',\r\n+    description: '',\r\n+    immediate_danger: false,\r\n+    needs_medical_attention: false,\r\n+    contact_method: 'none',\r\n+    contact_info: '',\r\n+    // Optional fields for identification\r\n+    name: '',\r\n+    email: '',\r\n+    phone: ''\r\n+  });\r\n+\r\n+  const handleEmergencyExit = () => {\r\n+    // Clear browser history\r\n+    window.location.replace(\"https://poki.com/en/g/subway-surfers\");\r\n+  };\r\n+\r\n+  const handleInputChange = (e) => {\r\n+    const { name, value, type, checked } = e.target;\r\n+    setFormData(prev => ({\r\n+      ...prev,\r\n+      [name]: type === 'checkbox' ? checked : value\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      // Prepare data for API\r\n+      const submitData = {\r\n+        incident_date: new Date(formData.incident_date).toISOString(),\r\n+        incident_location: formData.incident_location,\r\n+        incident_type: formData.incident_type,\r\n+        description: formData.description,\r\n+        immediate_danger: formData.immediate_danger,\r\n+        needs_medical_attention: formData.needs_medical_attention,\r\n+        contact_method: formData.contact_method,\r\n+      };\r\n+\r\n+      // Add contact info based on method\r\n+      if (formData.contact_method !== 'none') {\r\n+        if (formData.contact_method === 'email') {\r\n+          submitData.contact_info = formData.email;\r\n+        } else if (formData.contact_method === 'phone') {\r\n+          submitData.contact_info = formData.phone;\r\n+        }\r\n+      }\r\n+\r\n+      const response = await fetch(`${API_BASE_URL}/reports/anonymous/`, {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify(submitData)\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setReferenceCode(data.reference_code);\r\n+        setSubmitted(true);\r\n+        \r\n+        // Store reference code in localStorage for easy access\r\n+        const savedReports = JSON.parse(localStorage.getItem('gbv_reports') || '[]');\r\n+        savedReports.push({\r\n+          reference_code: data.reference_code,\r\n+          date: new Date().toISOString()\r\n+        });\r\n+        localStorage.setItem('gbv_reports', JSON.stringify(savedReports));\r\n+      } else {\r\n+        setError(data.error || 'Failed to submit report');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Network error. Please try again.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const trackReport = async () => {\r\n+    if (!trackingCode) return;\r\n+    \r\n+    setLoading(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const response = await fetch(`${API_BASE_URL}/reports/track/${trackingCode}/`);\r\n+      const data = await response.json();\r\n+\r\n+      if (response.ok) {\r\n+        setTrackingResult(data);\r\n+      } else {\r\n+        setError('Invalid reference code');\r\n+      }\r\n+    } catch (err) {\r\n+      setError('Failed to track report');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 \">\r\n+      {/* Emergency Exit Button */}\r\n+      <button\r\n+        onClick={handleEmergencyExit}\r\n+        className=\"fixed bottom-4 right-4 z-50 bg-red-600 text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition-all shadow-lg flex items-center gap-2\"\r\n+      >\r\n+        <X className=\"w-5 h-5\" />\r\n+        Quick Exit\r\n+      </button>\r\n+\r\n+      <div className=\"max-w-4xl mx-auto pt-5\">\r\n+        {/* Initial View */}\r\n+        {!showForm && !submitted && !showTracking && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, y: 20 }}\r\n+            animate={{ opacity: 1, y: 0 }}\r\n+            className=\"text-center mt-20\"\r\n+          >\r\n+            <Shield className=\"w-20 h-20 mx-auto mb-6 text-purple-600\" />\r\n+            <h1 className=\"text-4xl font-bold text-gray-800 mb-4\">\r\n+              You Are Not Alone\r\n+            </h1>\r\n+            <p className=\"text-lg text-gray-600 mb-8 max-w-2xl mx-auto\">\r\n+              Your safety is our priority. Report incidents anonymously and get the help you deserve.\r\n+            </p>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <button\r\n+                onClick={() => setShowForm(true)}\r\n+                className=\"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all\"\r\n+              >\r\n+                Report an Incident\r\n+              </button>\r\n+              \r\n+              <button\r\n+                onClick={() => setShowTracking(true)}\r\n+                className=\"w-full sm:w-auto bg-white text-purple-600 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-purple-600 hover:bg-purple-50 ml-0 sm:ml-4 transition-all\"\r\n+              >\r\n+                Track Existing Report\r\n+              </button>\r\n+            </div>\r\n+\r\n+            {/* Emergency Numbers */}\r\n+            <div className=\"mt-12 bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto\">\r\n+              <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Emergency Contacts</h3>\r\n+              <div className=\"space-y-3\">\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">Police</span>\r\n+                  <a href=\"tel:999\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 999\r\n+                  </a>\r\n+                </div>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <span className=\"text-gray-600\">GBV Hotline</span>\r\n+                  <a href=\"tel:1195\" className=\"text-purple-600 font-bold flex items-center gap-2\">\r\n+                    <Phone className=\"w-4 h-4\" /> 1195\r\n+                  </a>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Report Form */}\r\n+        {showForm && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10\"\r\n+          >\r\n+            <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Report an Incident</h2>\r\n+            \r\n+            {/* Safety Notice */}\r\n+            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\r\n+              <div className=\"flex items-start\">\r\n+                <AlertCircle className=\"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5\" />\r\n+                <div>\r\n+                  <p className=\"text-sm text-yellow-800\">\r\n+                    Your report can be completely anonymous. Only provide contact information if you want us to reach out to you.\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            {error && (\r\n+              <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-6\">\r\n+                <p className=\"text-red-800\">{error}</p>\r\n+              </div>\r\n+            )}\r\n+\r\n+            <div className=\"space-y-6\">\r\n+              {/* Required Fields */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Required Information</h3>\r\n+                \r\n+                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Date of Incident *\r\n+                    </label>\r\n+                    <input\r\n+                      type=\"datetime-local\"\r\n+                      name=\"incident_date\"\r\n+                      value={formData.incident_date}\r\n+                      onChange={handleInputChange}\r\n+                      max={new Date().toISOString().slice(0, 16)}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    />\r\n+                  </div>\r\n+                  \r\n+                  <div>\r\n+                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                      Type of Incident *\r\n+                    </label>\r\n+                    <select\r\n+                      name=\"incident_type\"\r\n+                      value={formData.incident_type}\r\n+                      onChange={handleInputChange}\r\n+                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      required\r\n+                    >\r\n+                      <option value=\"physical\">Physical Violence</option>\r\n+                      <option value=\"sexual\">Sexual Violence</option>\r\n+                      <option value=\"emotional\">Emotional/Psychological</option>\r\n+                      <option value=\"economic\">Economic Violence</option>\r\n+                      <option value=\"other\">Other</option>\r\n+                    </select>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Location of Incident *\r\n+                  </label>\r\n+                  <input\r\n+                    type=\"text\"\r\n+                    name=\"incident_location\"\r\n+                    value={formData.incident_location}\r\n+                    onChange={handleInputChange}\r\n+                    placeholder=\"e.g., Nairobi, Westlands\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Description of Incident *\r\n+                  </label>\r\n+                  <textarea\r\n+                    name=\"description\"\r\n+                    value={formData.description}\r\n+                    onChange={handleInputChange}\r\n+                    rows=\"4\"\r\n+                    placeholder=\"Please describe what happened...\"\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                    required\r\n+                  />\r\n+                </div>\r\n+              </div>\r\n+\r\n+              {/* Safety Questions */}\r\n+              <div className=\"space-y-3\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Safety Assessment</h3>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"immediate_danger\"\r\n+                    checked={formData.immediate_danger}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I am in immediate danger</span>\r\n+                </label>\r\n+                <label className=\"flex items-center gap-3 cursor-pointer\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    name=\"needs_medical_attention\"\r\n+                    checked={formData.needs_medical_attention}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-5 h-5 text-purple-600 rounded focus:ring-purple-500\"\r\n+                  />\r\n+                  <span className=\"text-gray-700\">I need medical attention</span>\r\n+                </label>\r\n+              </div>\r\n+\r\n+              {/* Optional Contact Information */}\r\n+              <div className=\"space-y-4\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-700\">Optional Contact Information</h3>\r\n+                <p className=\"text-sm text-gray-600\">\r\n+                  Only provide if you want us to contact you. Your report will be processed even without this information.\r\n+                </p>\r\n+                \r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                    Preferred Contact Method\r\n+                  </label>\r\n+                  <select\r\n+                    name=\"contact_method\"\r\n+                    value={formData.contact_method}\r\n+                    onChange={handleInputChange}\r\n+                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                  >\r\n+                    <option value=\"none\">Do not contact me</option>\r\n+                    <option value=\"phone\">Phone</option>\r\n+                    <option value=\"email\">Email</option>\r\n+                    <option value=\"in_person\">In Person</option>\r\n+                  </select>\r\n+                </div>\r\n+\r\n+                {formData.contact_method !== 'none' && (\r\n+                  <motion.div\r\n+                    initial={{ opacity: 0, height: 0 }}\r\n+                    animate={{ opacity: 1, height: 'auto' }}\r\n+                    className=\"space-y-4\"\r\n+                  >\r\n+                    <div>\r\n+                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Your Name</label>\r\n+                      <input\r\n+                        type=\"text\"\r\n+                        name=\"name\"\r\n+                        value={formData.name}\r\n+                        onChange={handleInputChange}\r\n+                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                      />\r\n+                    </div>\r\n+                    \r\n+                    {(formData.contact_method === 'email' || formData.contact_method === 'phone') && (\r\n+                      <div>\r\n+                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                          {formData.contact_method === 'email' ? 'Email Address' : 'Phone Number'}\r\n+                        </label>\r\n+                        <input\r\n+                          type={formData.contact_method === 'email' ? 'email' : 'tel'}\r\n+                          name={formData.contact_method}\r\n+                          value={formData[formData.contact_method]}\r\n+                          onChange={handleInputChange}\r\n+                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                          required={formData.contact_method !== 'none'}\r\n+                        />\r\n+                      </div>\r\n+                    )}\r\n+                  </motion.div>\r\n+                )}\r\n+              </div>\r\n+\r\n+              {/* Submit Buttons */}\r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={handleSubmit}\r\n+                  disabled={loading}\r\n+                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n+                >\r\n+                  {loading ? 'Submitting...' : 'Submit Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => setShowForm(false)}\r\n+                  className=\"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Cancel\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Tracking Form */}\r\n+        {showTracking && !submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, x: 100 }}\r\n+            animate={{ opacity: 1, x: 0 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-md mx-auto\"\r\n+          >\r\n+            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Track Your Report</h2>\r\n+            \r\n+            <div className=\"space-y-4\">\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+                  Reference Code\r\n+                </label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  value={trackingCode}\r\n+                  onChange={(e) => setTrackingCode(e.target.value.toUpperCase())}\r\n+                  placeholder=\"e.g., ABC12345\"\r\n+                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              {error && (\r\n+                <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n+                  <p className=\"text-red-800 text-sm\">{error}</p>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              {trackingResult && (\r\n+                <motion.div\r\n+                  initial={{ opacity: 0 }}\r\n+                  animate={{ opacity: 1 }}\r\n+                  className=\"bg-purple-50 rounded-lg p-4\"\r\n+                >\r\n+                  <h3 className=\"font-semibold text-gray-800 mb-2\">Report Status</h3>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Status: <span className=\"font-semibold\">{trackingResult.report.status_display}</span>\r\n+                  </p>\r\n+                  <p className=\"text-gray-600\">\r\n+                    Submitted: {new Date(trackingResult.report.created_at).toLocaleDateString()}\r\n+                  </p>\r\n+                  {trackingResult.can_create_account && (\r\n+                    <p className=\"mt-2 text-green-600 text-sm\">\r\n+                      Your report has been reviewed. You can now create an account for more features.\r\n+                    </p>\r\n+                  )}\r\n+                </motion.div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex gap-4\">\r\n+                <button\r\n+                  onClick={trackReport}\r\n+                  disabled={loading || !trackingCode}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-all disabled:opacity-50\"\r\n+                >\r\n+                  {loading ? 'Checking...' : 'Track Report'}\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(false);\r\n+                    setTrackingResult(null);\r\n+                    setTrackingCode('');\r\n+                    setError(null);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Back\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+\r\n+        {/* Success Message */}\r\n+        {submitted && (\r\n+          <motion.div\r\n+            initial={{ opacity: 0, scale: 0.9 }}\r\n+            animate={{ opacity: 1, scale: 1 }}\r\n+            className=\"bg-white rounded-xl shadow-xl p-8 mt-10 max-w-2xl mx-auto\"\r\n+          >\r\n+            <div className=\"text-center\">\r\n+              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n+                <Check className=\"w-10 h-10 text-green-600\" />\r\n+              </div>\r\n+              \r\n+              <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">\r\n+                Report Submitted Successfully\r\n+              </h2>\r\n+              \r\n+              <div className=\"bg-purple-50 rounded-lg p-6 mb-6\">\r\n+                <p className=\"text-lg font-semibold text-purple-800 mb-2\">\r\n+                  Your Reference Code:\r\n+                </p>\r\n+                <p className=\"text-3xl font-mono font-bold text-purple-600\">\r\n+                  {referenceCode}\r\n+                </p>\r\n+                <p className=\"text-sm text-gray-600 mt-2\">\r\n+                  Please save this code to track your report\r\n+                </p>\r\n+              </div>\r\n+              \r\n+              <div className=\"text-left bg-gray-50 rounded-lg p-6 mb-6\">\r\n+                <h3 className=\"font-semibold text-gray-800 mb-3\">What happens next?</h3>\r\n+                <ul className=\"space-y-2 text-gray-600\">\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    Your report will be reviewed within 24 hours\r\n+                  </li>\r\n+                  {formData.contact_method !== 'none' && (\r\n+                    <li className=\"flex items-start gap-2\">\r\n+                      <span className=\"text-purple-600 mt-1\">•</span>\r\n+                      We will contact you via {formData.contact_method} within 24-48 hours\r\n+                    </li>\r\n+                  )}\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    You can track your report status using the reference code\r\n+                  </li>\r\n+                  <li className=\"flex items-start gap-2\">\r\n+                    <span className=\"text-purple-600 mt-1\">•</span>\r\n+                    All information is kept strictly confidential\r\n+                  </li>\r\n+                </ul>\r\n+              </div>\r\n+              \r\n+              {(formData.immediate_danger || formData.needs_medical_attention) && (\r\n+                <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\r\n+                  <h3 className=\"font-semibold text-red-800 mb-2\">\r\n+                    Immediate Assistance Required\r\n+                  </h3>\r\n+                  <p className=\"text-red-700 mb-3\">\r\n+                    Based on your responses, please contact emergency services immediately:\r\n+                  </p>\r\n+                  <div className=\"space-y-2\">\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Police: 999\r\n+                    </a>\r\n+                    <a href=\"tel:999\" className=\"flex items-center gap-2 text-red-800 font-semibold\">\r\n+                      <Phone className=\"w-5 h-5\" /> Medical Emergency: 999\r\n+                    </a>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setSubmitted(false);\r\n+                    setShowForm(false);\r\n+                    setFormData({\r\n+                      incident_date: '',\r\n+                      incident_location: '',\r\n+                      incident_type: 'physical',\r\n+                      description: '',\r\n+                      immediate_danger: false,\r\n+                      needs_medical_attention: false,\r\n+                      contact_method: 'none',\r\n+                      contact_info: '',\r\n+                      name: '',\r\n+                      email: '',\r\n+                      phone: ''\r\n+                    });\r\n+                  }}\r\n+                  className=\"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-all\"\r\n+                >\r\n+                  Submit Another Report\r\n+                </button>\r\n+                <button\r\n+                  onClick={() => {\r\n+                    setShowTracking(true);\r\n+                    setSubmitted(false);\r\n+                    setTrackingCode(referenceCode);\r\n+                  }}\r\n+                  className=\"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n+                >\r\n+                  Track This Report\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </motion.div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1752496310194,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Report() {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const handleEmergencyExit = () => {\r\n    window.location.href = \"https://tetris.com\"; // redirect to safe game\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // Optionally send data to a server here2\r\n    setSubmitted(true); // Show thank you card\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-xl mx-auto py-10 px-4 relative\">\r\n      {/* Emergency Exit Button */}\r\n      <button\r\n        onClick={handleEmergencyExit}\r\n        className=\"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700 transition\"\r\n      >\r\n        Quick Exit\r\n      </button>\r\n\r\n      {/* Initial View */}\r\n      {!showForm && !submitted && (\r\n        <div className=\"text-center mt-20\">\r\n          <h2 className=\"text-2xl font-bold text- mb-6\">Need to Report Gender-Based Violence?</h2>\r\n          <button\r\n            onClick={() => setShowForm(true)}\r\n            c\r\n          >\r\n            Start Reporting\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Report Form */}\r\n      {showForm && !submitted && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n        >\r\n          <h2 className=\"text-2xl font-bold text-[#5B3C5A] mb-6\">Report GBV Incident</h2>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Your Name</label>\r\n              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Your Email</label>\r\n              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\r\n              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Incident Location</label>\r\n              <input type=\"text\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" required />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Date of Incident</label>\r\n              <input type=\"date\" className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" required />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Describe What Happened</label>\r\n              <textarea className=\"w-full mt-1 border border-gray-700 rounded px-3 py-2\" rows=\"5\" required></textarea>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 transition duration-200 ease-in-out transform hover:scale-105 text-white px-4 py-2 rounded\"\r\n            >\r\n              Submit Report\r\n            </button>\r\n          </form>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Thank You Card */}\r\n      {submitted && (\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"bg-purple-100 border-l-4 border-purple-500 p-6 rounded-lg text-center mt-10\"\r\n        >\r\n          <h3 className=\"text-2xl font-bold text-white-700 mb-2\">Thank you for your report</h3>\r\n          <p className=\"text-white-800\">\r\n            We've received your information. You're not alone we've got your back and will get back to you as soon as possible.\r\n          </p>\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}