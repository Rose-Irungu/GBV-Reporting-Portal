{
    "sourceFile": "src/components/AdminComponents/UserManagement.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1756122150548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756122166316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n               </p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={onCreateUser}\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add User\r\n"
                },
                {
                    "date": 1756122182319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n               </p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add User\r\n"
                },
                {
                    "date": 1756122841525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,9 +277,9 @@\n           <div className=\"flex space-x-1\">\r\n             <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n               Previous\r\n             </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n               1\r\n             </button>\r\n             <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n               2\r\n"
                }
            ],
            "date": 1756122150548,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport {\r\n  Users as UserIcon,\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  MoreHorizontal,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  UserCheck,\r\n  UserX,\r\n  Shield,\r\n  Stethoscope,\r\n  Scale,\r\n  Heart,\r\n  User,\r\n} from \"lucide-react\";\r\n\r\nexport default function UsersManagement({ onCreateUser, Users }) {\r\n  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n  const getRoleIcon = (role) => {\r\n    const icons = {\r\n      counselor: Heart,\r\n      doctor: Stethoscope,\r\n      lawyer: Scale,\r\n      survivor: User,\r\n      admin: Shield,\r\n    };\r\n    const IconComponent = icons[role] || User;\r\n    return <IconComponent className=\"w-4 h-4\" />;\r\n  };\r\n\r\n  const getRoleBadgeColor = (role) => {\r\n    const colors = {\r\n      counselor: \"bg-green-100 text-green-800\",\r\n      doctor: \"bg-blue-100 text-blue-800\",\r\n      lawyer: \"bg-purple-100 text-purple-800\",\r\n      survivor: \"bg-orange-100 text-orange-800\",\r\n      admin: \"bg-red-100 text-red-800\",\r\n    };\r\n    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n  };\r\n\r\n  const getStatusBadge = (is_active) => {\r\n    return is_active ? (\r\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n        Active\r\n      </span>\r\n    ) : (\r\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n        <UserX className=\"w-3 h-3 mr-1\" />\r\n        Inactive\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const filteredUsers = Users.filter((user) => {\r\n    const matchesSearch =\r\n      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n    if (selectedTab === \"all\") return matchesSearch;\r\n    return matchesSearch && user.role === selectedTab;\r\n  });\r\n\r\n  const tabs = [\r\n    { id: \"all\", label: \"All Users\", count: Users.length },\r\n    {\r\n      id: \"counselor\",\r\n      label: \"Counselors\",\r\n      count: Users.filter((u) => u.role === \"counselor\").length,\r\n    },\r\n    {\r\n      id: \"doctor\",\r\n      label: \"Doctors\",\r\n      count: Users.filter((u) => u.role === \"doctor\").length,\r\n    },\r\n    {\r\n      id: \"lawyer\",\r\n      label: \"Lawyers\",\r\n      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n    },\r\n    {\r\n      id: \"survivor\",\r\n      label: \"Survivors\",\r\n      count: Users.filter((u) => u.role === \"survivor\").length,\r\n    },\r\n    {\r\n      id: \"admin\",\r\n      label: \"Admins\",\r\n      count: Users.filter((u) => u.role === \"admin\").length,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* Header */}\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                User Management\r\n              </h2>\r\n              <p className=\"text-gray-600\">\r\n                Manage platform users and their roles\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onCreateUser}\r\n            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            Add User\r\n          </button>\r\n        </div>\r\n\r\n        {/* Search and Filter */}\r\n        <div className=\"flex items-center space-x-4 mb-6\">\r\n          <div className=\"relative flex-1 max-w-md\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n            <Filter className=\"w-4 h-4 mr-2\" />\r\n            Filter\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex space-x-1\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setSelectedTab(tab.id)}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n                selectedTab === tab.id\r\n                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n              }`}\r\n            >\r\n              {tab.label}\r\n              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n                {tab.count}\r\n              </span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                User\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Role\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Status\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Activity\r\n              </th>\r\n              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Last Login\r\n                            </th> */}\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {filteredUsers.map((user) => (\r\n              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n                      {user.first_name.charAt(0)}\r\n                      {user.last_name.charAt(0)}\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {user.first_name} {user.last_name}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n                      <div className=\"text-xs text-gray-400\">\r\n                        {user.phone_number}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <span\r\n                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n                      user.role\r\n                    )}`}\r\n                  >\r\n                    {getRoleIcon(user.role)}\r\n                    <span className=\"ml-1\">{user.role}</span>\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  {getStatusBadge(user.is_active)}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                  <div className=\"flex space-x-4\">\r\n                    {(user.appointments_count > 0) |\r\n                      (user.reports_count > 0) && (\r\n                      <>\r\n                        <span className=\"text-blue-600\">\r\n                          {user.appointments_count} appointments\r\n                        </span>\r\n                        <span className=\"text-green-600\">\r\n                          {user.reports_count} reports\r\n                        </span>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                    {formatDate(user.last_login)}\r\n                                </td> */}\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n                      <Eye className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n                      <Edit className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n                      <MoreHorizontal className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Footer with pagination */}\r\n      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"text-sm text-gray-500\">\r\n            Showing {filteredUsers.length} of {Users.length} users\r\n          </div>\r\n          <div className=\"flex space-x-1\">\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              Previous\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n              1\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              2\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}