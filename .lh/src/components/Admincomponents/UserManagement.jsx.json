{
    "sourceFile": "src/components/AdminComponents/UserManagement.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 37,
            "patches": [
                {
                    "date": 1756122150548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756122166316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n               </p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={onCreateUser}\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add User\r\n"
                },
                {
                    "date": 1756122182319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n               </p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add User\r\n"
                },
                {
                    "date": 1756122841525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,9 +277,9 @@\n           <div className=\"flex space-x-1\">\r\n             <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n               Previous\r\n             </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n               1\r\n             </button>\r\n             <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n               2\r\n"
                },
                {
                    "date": 1756739658449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,11 +116,9 @@\n             <div>\r\n               <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                 User Management\r\n               </h2>\r\n-              <p className=\"text-gray-600\">\r\n-                Manage platform users and their roles\r\n-              </p>\r\n+             \r\n             </div>\r\n           </div>\r\n           <button\r\n             onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n"
                },
                {
                    "date": 1756739684376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,12 +140,9 @@\n               onChange={(e) => setSearchTerm(e.target.value)}\r\n               className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n             />\r\n           </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n+         \r\n         </div>\r\n \r\n         {/* Tabs */}\r\n         <div className=\"flex space-x-1\">\r\n"
                },
                {
                    "date": 1756741409832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,9 @@\n   Heart,\r\n   User,\r\n } from \"lucide-react\";\r\n \r\n+\r\n export default function UsersManagement({ onCreateUser, Users }) {\r\n   const [selectedTab, setSelectedTab] = useState(\"all\");\r\n   const [searchTerm, setSearchTerm] = useState(\"\");\r\n   // const [selectedUsers, setSelectedUsers] = useState([]);\r\n"
                },
                {
                    "date": 1756741419788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,291 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../ReportModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741424863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,291 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741466836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,294 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+\r\n+  \r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741500162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,301 +107,32 @@\n     },\r\n   ];\r\n \r\n \r\n-  \r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [modalType, setModalType] = useState(null);\r\n \r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n+const openModal = (type, user) => {\r\n+  setSelectedUser(user);\r\n+  setModalType(type);\r\n+};\r\n \r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n+const closeModal = () => {\r\n+  setSelectedUser(null);\r\n+  setModalType(null);\r\n+};\r\n \r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n+const handleSave = (updatedUser) => {\r\n+  console.log(\"Saving...\", updatedUser);\r\n+  closeModal();\r\n+};\r\n \r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n+const handleDelete = (id) => {\r\n+  console.log(\"Deleting user with id:\", id);\r\n+  closeModal();\r\n+};\r\n \r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n \r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n   return (\r\n     <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n       {/* Header */}\r\n       <div className=\"p-6 border-b border-gray-200\">\r\n@@ -537,9 +268,11 @@\n                                     {formatDate(user.last_login)}\r\n                                 </td> */}\r\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                   <div className=\"flex items-center space-x-2\">\r\n-                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                    <button \r\n+                    \r\n+                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n                       <Eye className=\"w-4 h-4\" />\r\n                     </button>\r\n                     <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n                       <Edit className=\"w-4 h-4\" />\r\n@@ -582,586 +315,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../ReportModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756741511884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,318 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [modalType, setModalType] = useState(null);\r\n+\r\n+const openModal = (type, user) => {\r\n+  setSelectedUser(user);\r\n+  setModalType(type);\r\n+};\r\n+\r\n+const closeModal = () => {\r\n+  setSelectedUser(null);\r\n+  setModalType(null);\r\n+};\r\n+\r\n+const handleSave = (updatedUser) => {\r\n+  console.log(\"Saving...\", updatedUser);\r\n+  closeModal();\r\n+};\r\n+\r\n+const handleDelete = (id) => {\r\n+  console.log(\"Deleting user with id:\", id);\r\n+  closeModal();\r\n+};\r\n+\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button \r\n+                     onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741525832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,9 +273,11 @@\n                      onClick={() => openModal(\"view\", user)}\r\n                     className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n                       <Eye className=\"w-4 h-4\" />\r\n                     </button>\r\n-                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                    <button\r\n+                     onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n                       <Edit className=\"w-4 h-4\" />\r\n                     </button>\r\n                     <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n                       <Trash2 className=\"w-4 h-4\" />\r\n@@ -315,322 +317,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [modalType, setModalType] = useState(null);\r\n-\r\n-const openModal = (type, user) => {\r\n-  setSelectedUser(user);\r\n-  setModalType(type);\r\n-};\r\n-\r\n-const closeModal = () => {\r\n-  setSelectedUser(null);\r\n-  setModalType(null);\r\n-};\r\n-\r\n-const handleSave = (updatedUser) => {\r\n-  console.log(\"Saving...\", updatedUser);\r\n-  closeModal();\r\n-};\r\n-\r\n-const handleDelete = (id) => {\r\n-  console.log(\"Deleting user with id:\", id);\r\n-  closeModal();\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button \r\n-                    \r\n-                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756741531309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,321 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [modalType, setModalType] = useState(null);\r\n+\r\n+const openModal = (type, user) => {\r\n+  setSelectedUser(user);\r\n+  setModalType(type);\r\n+};\r\n+\r\n+const closeModal = () => {\r\n+  setSelectedUser(null);\r\n+  setModalType(null);\r\n+};\r\n+\r\n+const handleSave = (updatedUser) => {\r\n+  console.log(\"Saving...\", updatedUser);\r\n+  closeModal();\r\n+};\r\n+\r\n+const handleDelete = (id) => {\r\n+  console.log(\"Deleting user with id:\", id);\r\n+  closeModal();\r\n+};\r\n+\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button \r\n+                     onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                     onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button \r\n+                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741543235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,322 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [modalType, setModalType] = useState(null);\r\n+\r\n+const openModal = (type, user) => {\r\n+  setSelectedUser(user);\r\n+  setModalType(type);\r\n+};\r\n+\r\n+const closeModal = () => {\r\n+  setSelectedUser(null);\r\n+  setModalType(null);\r\n+};\r\n+\r\n+const handleSave = (updatedUser) => {\r\n+  console.log(\"Saving...\", updatedUser);\r\n+  closeModal();\r\n+};\r\n+\r\n+const handleDelete = (id) => {\r\n+  console.log(\"Deleting user with id:\", id);\r\n+  closeModal();\r\n+};\r\n+\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button \r\n+                     onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                     onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button \r\n+                    onClick={() => openModal(\"delete\", user)}\r\n+                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n+                      <MoreHorizontal className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741563754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,322 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [modalType, setModalType] = useState(null);\r\n+\r\n+const openModal = (type, user) => {\r\n+  setSelectedUser(user);\r\n+  setModalType(type);\r\n+};\r\n+\r\n+const closeModal = () => {\r\n+  setSelectedUser(null);\r\n+  setModalType(null);\r\n+};\r\n+\r\n+const handleSave = (updatedUser) => {\r\n+  console.log(\"Saving...\", updatedUser);\r\n+  closeModal();\r\n+};\r\n+\r\n+const handleDelete = (id) => {\r\n+  console.log(\"Deleting user with id:\", id);\r\n+  closeModal();\r\n+};\r\n+\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+             \r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+         \r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button \r\n+                     onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                     onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button \r\n+                    onClick={() => openModal(\"delete\", user)}\r\n+                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    \r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      \r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741572232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"short\",\r\n+      day: \"numeric\",\r\n+    });\r\n+  };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741631888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741648327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+// export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741664280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,327 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({  Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741796848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,662 +17,8 @@\n   User,\r\n } from \"lucide-react\";\r\n import UserModal from \"../UserModal\";\r\n \r\n-export default function UsersManagement({  Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-// export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n export default function UsersManagement({ onCreateUser, Users }) {\r\n   const [selectedTab, setSelectedTab] = useState(\"all\");\r\n   const [searchTerm, setSearchTerm] = useState(\"\");\r\n   // const [selectedUsers, setSelectedUsers] = useState([]);\r\n@@ -978,1616 +324,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [modalType, setModalType] = useState(null);\r\n-\r\n-const openModal = (type, user) => {\r\n-  setSelectedUser(user);\r\n-  setModalType(type);\r\n-};\r\n-\r\n-const closeModal = () => {\r\n-  setSelectedUser(null);\r\n-  setModalType(null);\r\n-};\r\n-\r\n-const handleSave = (updatedUser) => {\r\n-  console.log(\"Saving...\", updatedUser);\r\n-  closeModal();\r\n-};\r\n-\r\n-const handleDelete = (id) => {\r\n-  console.log(\"Deleting user with id:\", id);\r\n-  closeModal();\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button \r\n-                     onClick={() => openModal(\"view\", user)}\r\n-                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                     onClick={() => openModal(\"edit\", user)}\r\n-                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button \r\n-                    onClick={() => openModal(\"delete\", user)}\r\n-                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    \r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      \r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [modalType, setModalType] = useState(null);\r\n-\r\n-const openModal = (type, user) => {\r\n-  setSelectedUser(user);\r\n-  setModalType(type);\r\n-};\r\n-\r\n-const closeModal = () => {\r\n-  setSelectedUser(null);\r\n-  setModalType(null);\r\n-};\r\n-\r\n-const handleSave = (updatedUser) => {\r\n-  console.log(\"Saving...\", updatedUser);\r\n-  closeModal();\r\n-};\r\n-\r\n-const handleDelete = (id) => {\r\n-  console.log(\"Deleting user with id:\", id);\r\n-  closeModal();\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button \r\n-                     onClick={() => openModal(\"view\", user)}\r\n-                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                     onClick={() => openModal(\"edit\", user)}\r\n-                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button \r\n-                    onClick={() => openModal(\"delete\", user)}\r\n-                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [modalType, setModalType] = useState(null);\r\n-\r\n-const openModal = (type, user) => {\r\n-  setSelectedUser(user);\r\n-  setModalType(type);\r\n-};\r\n-\r\n-const closeModal = () => {\r\n-  setSelectedUser(null);\r\n-  setModalType(null);\r\n-};\r\n-\r\n-const handleSave = (updatedUser) => {\r\n-  console.log(\"Saving...\", updatedUser);\r\n-  closeModal();\r\n-};\r\n-\r\n-const handleDelete = (id) => {\r\n-  console.log(\"Deleting user with id:\", id);\r\n-  closeModal();\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button \r\n-                     onClick={() => openModal(\"view\", user)}\r\n-                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                     onClick={() => openModal(\"edit\", user)}\r\n-                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button \r\n-                    className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDate = (dateString) => {\r\n-    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"short\",\r\n-      day: \"numeric\",\r\n-    });\r\n-  };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [modalType, setModalType] = useState(null);\r\n-\r\n-const openModal = (type, user) => {\r\n-  setSelectedUser(user);\r\n-  setModalType(type);\r\n-};\r\n-\r\n-const closeModal = () => {\r\n-  setSelectedUser(null);\r\n-  setModalType(null);\r\n-};\r\n-\r\n-const handleSave = (updatedUser) => {\r\n-  console.log(\"Saving...\", updatedUser);\r\n-  closeModal();\r\n-};\r\n-\r\n-const handleDelete = (id) => {\r\n-  console.log(\"Deleting user with id:\", id);\r\n-  closeModal();\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-             \r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-         \r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button \r\n-                     onClick={() => openModal(\"view\", user)}\r\n-                    className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                     onClick={() => openModal(\"edit\", user)}\r\n-                    className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n-                      <MoreHorizontal className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756741932248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,331 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+const [showUserModal, setShowUserModal] = useState(false);\r\n+const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741939445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,329 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      onClick={() => openModal(\"view\", user)}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741967049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,334 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                     title=\"View User\"\r\n+  onClick={() => {\r\n+    setSelectedUser(user);\r\n+    setModalType(\"view\");\r\n+    setShowUserModal(true);\r\n+  }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"edit\", user)}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756741986540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,339 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                       title=\"Edit User\"\r\n+  onClick={() => {\r\n+    setSelectedUser(user);\r\n+    setModalType(\"edit\");\r\n+    setShowUserModal(true);\r\n+  }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => openModal(\"delete\", user)}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756742000459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -289,9 +289,14 @@\n                     >\r\n                       <Edit className=\"w-4 h-4\" />\r\n                     </button>\r\n                     <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n+                      title=\"Delete User\"\r\n+  onClick={() => {\r\n+    setSelectedUser(user);\r\n+    setModalType(\"delete\");\r\n+    setShowUserModal(true);\r\n+  }}\r\n                       className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n                     >\r\n                       <Trash2 className=\"w-4 h-4\" />\r\n                     </button>\r\n"
                },
                {
                    "date": 1756742006906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,344 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756742044821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,16 +308,23 @@\n         </table>\r\n       </div>\r\n \r\n       <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n+  isOpen={showUserModal}\r\n+  onClose={() => setShowUserModal(false)}\r\n+  type={modalType}\r\n+  user={selectedUser}\r\n+  onSave={(updatedUser) => {\r\n+    console.log(\"Save user:\", updatedUser);\r\n+    setShowUserModal(false);\r\n+  }}\r\n+  onDelete={(id) => {\r\n+    console.log(\"Delete user id:\", id);\r\n+    setShowUserModal(false);\r\n+  }}\r\n+/>\r\n \r\n+\r\n       {/* Footer with pagination */}\r\n       <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n         <div className=\"flex items-center justify-between\">\r\n           <div className=\"text-sm text-gray-500\">\r\n"
                },
                {
                    "date": 1756742070898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,349 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  \r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Saving...\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (id) => {\r\n+    console.log(\"Deleting user with id:\", id);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756769756107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,12 +125,9 @@\n     console.log(\"Saving...\", updatedUser);\r\n     closeModal();\r\n   };\r\n \r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n+ \r\n \r\n   return (\r\n     <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n       {/* Header */}\r\n"
                },
                {
                    "date": 1756769764040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,339 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  \r\n+\r\n+  const openModal = (type, user) => {\r\n+    setSelectedUser(user);\r\n+    setModalType(type);\r\n+  };\r\n+\r\n+\r\n+\r\n+ \r\n+ \r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756769769172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,336 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  \r\n+\r\n+\r\n+\r\n+\r\n+\r\n+ \r\n+ \r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                                Last Login\r\n+                            </th> */}\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756770149469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,325 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+             \r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n+                                    {formatDate(user.last_login)}\r\n+                                </td> */}\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756770171801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,323 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+             \r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+               \r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"view\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"edit\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756770204173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,9 +254,8 @@\n                     <button\r\n                       title=\"Edit User\"\r\n                       onClick={() => {\r\n                         setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n                         setShowUserModal(true);\r\n                       }}\r\n                       className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n                     >\r\n@@ -320,3366 +319,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-             \r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Edit User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"delete\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={showUserModal}\r\n-        onClose={() => setShowUserModal(false)}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={(updatedUser) => {\r\n-          console.log(\"Save user:\", updatedUser);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-        onDelete={(id) => {\r\n-          console.log(\"Delete user id:\", id);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  \r\n-\r\n-\r\n-\r\n-\r\n-\r\n- \r\n- \r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Edit User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"delete\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={showUserModal}\r\n-        onClose={() => setShowUserModal(false)}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={(updatedUser) => {\r\n-          console.log(\"Save user:\", updatedUser);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-        onDelete={(id) => {\r\n-          console.log(\"Delete user id:\", id);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  \r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-\r\n-\r\n- \r\n- \r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Edit User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"delete\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={showUserModal}\r\n-        onClose={() => setShowUserModal(false)}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={(updatedUser) => {\r\n-          console.log(\"Save user:\", updatedUser);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-        onDelete={(id) => {\r\n-          console.log(\"Delete user id:\", id);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  \r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n- \r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Edit User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"delete\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={showUserModal}\r\n-        onClose={() => setShowUserModal(false)}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={(updatedUser) => {\r\n-          console.log(\"Save user:\", updatedUser);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-        onDelete={(id) => {\r\n-          console.log(\"Delete user id:\", id);\r\n-          setShowUserModal(false);\r\n-        }}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Edit User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"edit\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"delete\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-  isOpen={showUserModal}\r\n-  onClose={() => setShowUserModal(false)}\r\n-  type={modalType}\r\n-  user={selectedUser}\r\n-  onSave={(updatedUser) => {\r\n-    console.log(\"Save user:\", updatedUser);\r\n-    setShowUserModal(false);\r\n-  }}\r\n-  onDelete={(id) => {\r\n-    console.log(\"Delete user id:\", id);\r\n-    setShowUserModal(false);\r\n-  }}\r\n-/>\r\n-\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      title=\"View User\"\r\n-                      onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                        setModalType(\"view\");\r\n-                        setShowUserModal(true);\r\n-                      }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                       title=\"Edit User\"\r\n-  onClick={() => {\r\n-    setSelectedUser(user);\r\n-    setModalType(\"edit\");\r\n-    setShowUserModal(true);\r\n-  }}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      title=\"Delete User\"\r\n-  onClick={() => {\r\n-    setSelectedUser(user);\r\n-    setModalType(\"delete\");\r\n-    setShowUserModal(true);\r\n-  }}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                     title=\"View User\"\r\n-  onClick={() => {\r\n-    setSelectedUser(user);\r\n-    setModalType(\"view\");\r\n-    setShowUserModal(true);\r\n-  }}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [showUserModal, setShowUserModal] = useState(false);\r\n-  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-const [showUserModal, setShowUserModal] = useState(false);\r\n-const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n-\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Users as UserIcon,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  UserCheck,\r\n-  UserX,\r\n-  Shield,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-  User,\r\n-} from \"lucide-react\";\r\n-import UserModal from \"../UserModal\";\r\n-\r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n-\r\n-  const getRoleIcon = (role) => {\r\n-    const icons = {\r\n-      counselor: Heart,\r\n-      doctor: Stethoscope,\r\n-      lawyer: Scale,\r\n-      survivor: User,\r\n-      admin: Shield,\r\n-    };\r\n-    const IconComponent = icons[role] || User;\r\n-    return <IconComponent className=\"w-4 h-4\" />;\r\n-  };\r\n-\r\n-  const getRoleBadgeColor = (role) => {\r\n-    const colors = {\r\n-      counselor: \"bg-green-100 text-green-800\",\r\n-      doctor: \"bg-blue-100 text-blue-800\",\r\n-      lawyer: \"bg-purple-100 text-purple-800\",\r\n-      survivor: \"bg-orange-100 text-orange-800\",\r\n-      admin: \"bg-red-100 text-red-800\",\r\n-    };\r\n-    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (is_active) => {\r\n-    return is_active ? (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n-        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n-        Active\r\n-      </span>\r\n-    ) : (\r\n-      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n-        <UserX className=\"w-3 h-3 mr-1\" />\r\n-        Inactive\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  // const formatDate = (dateString) => {\r\n-  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n-  //     year: \"numeric\",\r\n-  //     month: \"short\",\r\n-  //     day: \"numeric\",\r\n-  //   });\r\n-  // };\r\n-\r\n-  const filteredUsers = Users.filter((user) => {\r\n-    const matchesSearch =\r\n-      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    return matchesSearch && user.role === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    { id: \"all\", label: \"All Users\", count: Users.length },\r\n-    {\r\n-      id: \"counselor\",\r\n-      label: \"Counselors\",\r\n-      count: Users.filter((u) => u.role === \"counselor\").length,\r\n-    },\r\n-    {\r\n-      id: \"doctor\",\r\n-      label: \"Doctors\",\r\n-      count: Users.filter((u) => u.role === \"doctor\").length,\r\n-    },\r\n-    {\r\n-      id: \"lawyer\",\r\n-      label: \"Lawyers\",\r\n-      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n-    },\r\n-    {\r\n-      id: \"survivor\",\r\n-      label: \"Survivors\",\r\n-      count: Users.filter((u) => u.role === \"survivor\").length,\r\n-    },\r\n-    {\r\n-      id: \"admin\",\r\n-      label: \"Admins\",\r\n-      count: Users.filter((u) => u.role === \"admin\").length,\r\n-    },\r\n-  ];\r\n-\r\n-  const [selectedUser, setSelectedUser] = useState(null);\r\n-  const [modalType, setModalType] = useState(null);\r\n-\r\n-  const openModal = (type, user) => {\r\n-    setSelectedUser(user);\r\n-    setModalType(type);\r\n-  };\r\n-\r\n-  const closeModal = () => {\r\n-    setSelectedUser(null);\r\n-    setModalType(null);\r\n-  };\r\n-\r\n-  const handleSave = (updatedUser) => {\r\n-    console.log(\"Saving...\", updatedUser);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  const handleDelete = (id) => {\r\n-    console.log(\"Deleting user with id:\", id);\r\n-    closeModal();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                User Management\r\n-              </h2>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add User\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search users...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                User\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Role\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Activity\r\n-              </th>\r\n-              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Last Login\r\n-                            </th> */}\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredUsers.map((user) => (\r\n-              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <div className=\"flex items-center\">\r\n-                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n-                      {user.first_name.charAt(0)}\r\n-                      {user.last_name.charAt(0)}\r\n-                    </div>\r\n-                    <div className=\"ml-4\">\r\n-                      <div className=\"text-sm font-medium text-gray-900\">\r\n-                        {user.first_name} {user.last_name}\r\n-                      </div>\r\n-                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n-                      <div className=\"text-xs text-gray-400\">\r\n-                        {user.phone_number}\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span\r\n-                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n-                      user.role\r\n-                    )}`}\r\n-                  >\r\n-                    {getRoleIcon(user.role)}\r\n-                    <span className=\"ml-1\">{user.role}</span>\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  {getStatusBadge(user.is_active)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n-                  <div className=\"flex space-x-4\">\r\n-                    {(user.appointments_count > 0) |\r\n-                      (user.reports_count > 0) && (\r\n-                      <>\r\n-                        <span className=\"text-blue-600\">\r\n-                          {user.appointments_count} appointments\r\n-                        </span>\r\n-                        <span className=\"text-green-600\">\r\n-                          {user.reports_count} reports\r\n-                        </span>\r\n-                      </>\r\n-                    )}\r\n-                  </div>\r\n-                </td>\r\n-                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                                    {formatDate(user.last_login)}\r\n-                                </td> */}\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                  <div className=\"flex items-center space-x-2\">\r\n-                    <button\r\n-                      onClick={() => openModal(\"view\", user)}\r\n-                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                    >\r\n-                      <Eye className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"edit\", user)}\r\n-                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                    >\r\n-                      <Edit className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => openModal(\"delete\", user)}\r\n-                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                    >\r\n-                      <Trash2 className=\"w-4 h-4\" />\r\n-                    </button>\r\n-                  </div>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      <UserModal\r\n-        isOpen={!!modalType}\r\n-        onClose={closeModal}\r\n-        type={modalType}\r\n-        user={selectedUser}\r\n-        onSave={handleSave}\r\n-        onDelete={handleDelete}\r\n-      />\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredUsers.length} of {Users.length} users\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756770211558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,321 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType, setModalType] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+             \r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+               \r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);                        \r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setModalType(\"delete\");\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756770220051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -262,10 +262,9 @@\n                     </button>\r\n                     <button\r\n                       title=\"Delete User\"\r\n                       onClick={() => {\r\n-                        setSelectedUser(user);\r\n-                       \r\n+                        setSelectedUser(user);                       \r\n                         setShowUserModal(true);\r\n                       }}\r\n                       className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n                     >\r\n"
                },
                {
                    "date": 1756770307923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,320 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+import UserModal from \"../UserModal\";\r\n+\r\n+export default function UsersManagement({ onCreateUser, Users }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [showUserModal, setShowUserModal] = useState(false);\r\n+  const [modalType,] = useState(null); // \"view\", \"edit\", \"delete\"\r\n+\r\n+  const getRoleIcon = (role) => {\r\n+    const icons = {\r\n+      counselor: Heart,\r\n+      doctor: Stethoscope,\r\n+      lawyer: Scale,\r\n+      survivor: User,\r\n+      admin: Shield,\r\n+    };\r\n+    const IconComponent = icons[role] || User;\r\n+    return <IconComponent className=\"w-4 h-4\" />;\r\n+  };\r\n+\r\n+  const getRoleBadgeColor = (role) => {\r\n+    const colors = {\r\n+      counselor: \"bg-green-100 text-green-800\",\r\n+      doctor: \"bg-blue-100 text-blue-800\",\r\n+      lawyer: \"bg-purple-100 text-purple-800\",\r\n+      survivor: \"bg-orange-100 text-orange-800\",\r\n+      admin: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (is_active) => {\r\n+    return is_active ? (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n+        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n+        Active\r\n+      </span>\r\n+    ) : (\r\n+      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n+        <UserX className=\"w-3 h-3 mr-1\" />\r\n+        Inactive\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  // const formatDate = (dateString) => {\r\n+  //   return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n+  //     year: \"numeric\",\r\n+  //     month: \"short\",\r\n+  //     day: \"numeric\",\r\n+  //   });\r\n+  // };\r\n+\r\n+  const filteredUsers = Users.filter((user) => {\r\n+    const matchesSearch =\r\n+      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    return matchesSearch && user.role === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    { id: \"all\", label: \"All Users\", count: Users.length },\r\n+    {\r\n+      id: \"counselor\",\r\n+      label: \"Counselors\",\r\n+      count: Users.filter((u) => u.role === \"counselor\").length,\r\n+    },\r\n+    {\r\n+      id: \"doctor\",\r\n+      label: \"Doctors\",\r\n+      count: Users.filter((u) => u.role === \"doctor\").length,\r\n+    },\r\n+    {\r\n+      id: \"lawyer\",\r\n+      label: \"Lawyers\",\r\n+      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n+    },\r\n+    {\r\n+      id: \"survivor\",\r\n+      label: \"Survivors\",\r\n+      count: Users.filter((u) => u.role === \"survivor\").length,\r\n+    },\r\n+    {\r\n+      id: \"admin\",\r\n+      label: \"Admins\",\r\n+      count: Users.filter((u) => u.role === \"admin\").length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                User Management\r\n+              </h2>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/user-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add User\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search users...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                User\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Role\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Activity\r\n+              </th>\r\n+             \r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredUsers.map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <div className=\"flex items-center\">\r\n+                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n+                      {user.first_name.charAt(0)}\r\n+                      {user.last_name.charAt(0)}\r\n+                    </div>\r\n+                    <div className=\"ml-4\">\r\n+                      <div className=\"text-sm font-medium text-gray-900\">\r\n+                        {user.first_name} {user.last_name}\r\n+                      </div>\r\n+                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n+                      <div className=\"text-xs text-gray-400\">\r\n+                        {user.phone_number}\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  <span\r\n+                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n+                      user.role\r\n+                    )}`}\r\n+                  >\r\n+                    {getRoleIcon(user.role)}\r\n+                    <span className=\"ml-1\">{user.role}</span>\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                  {getStatusBadge(user.is_active)}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n+                  <div className=\"flex space-x-4\">\r\n+                    {(user.appointments_count > 0) |\r\n+                      (user.reports_count > 0) && (\r\n+                      <>\r\n+                        <span className=\"text-blue-600\">\r\n+                          {user.appointments_count} appointments\r\n+                        </span>\r\n+                        <span className=\"text-green-600\">\r\n+                          {user.reports_count} reports\r\n+                        </span>\r\n+                      </>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+               \r\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                  <div className=\"flex items-center space-x-2\">\r\n+                    <button\r\n+                      title=\"View User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);                        \r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                    >\r\n+                      <Eye className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Edit User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);\r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                    >\r\n+                      <Edit className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                    <button\r\n+                      title=\"Delete User\"\r\n+                      onClick={() => {\r\n+                        setSelectedUser(user);                       \r\n+                        setShowUserModal(true);\r\n+                      }}\r\n+                      className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                    >\r\n+                      <Trash2 className=\"w-4 h-4\" />\r\n+                    </button>\r\n+                  </div>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <UserModal\r\n+        isOpen={showUserModal}\r\n+        onClose={() => setShowUserModal(false)}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={(updatedUser) => {\r\n+          console.log(\"Save user:\", updatedUser);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+        onDelete={(id) => {\r\n+          console.log(\"Delete user id:\", id);\r\n+          setShowUserModal(false);\r\n+        }}\r\n+      />\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredUsers.length} of {Users.length} users\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1756122150548,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport {\r\n  Users as UserIcon,\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  MoreHorizontal,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  UserCheck,\r\n  UserX,\r\n  Shield,\r\n  Stethoscope,\r\n  Scale,\r\n  Heart,\r\n  User,\r\n} from \"lucide-react\";\r\n\r\nexport default function UsersManagement({ onCreateUser, Users }) {\r\n  const [selectedTab, setSelectedTab] = useState(\"all\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  // const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n  const getRoleIcon = (role) => {\r\n    const icons = {\r\n      counselor: Heart,\r\n      doctor: Stethoscope,\r\n      lawyer: Scale,\r\n      survivor: User,\r\n      admin: Shield,\r\n    };\r\n    const IconComponent = icons[role] || User;\r\n    return <IconComponent className=\"w-4 h-4\" />;\r\n  };\r\n\r\n  const getRoleBadgeColor = (role) => {\r\n    const colors = {\r\n      counselor: \"bg-green-100 text-green-800\",\r\n      doctor: \"bg-blue-100 text-blue-800\",\r\n      lawyer: \"bg-purple-100 text-purple-800\",\r\n      survivor: \"bg-orange-100 text-orange-800\",\r\n      admin: \"bg-red-100 text-red-800\",\r\n    };\r\n    return colors[role] || \"bg-gray-100 text-gray-800\";\r\n  };\r\n\r\n  const getStatusBadge = (is_active) => {\r\n    return is_active ? (\r\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n        <UserCheck className=\"w-3 h-3 mr-1\" />\r\n        Active\r\n      </span>\r\n    ) : (\r\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n        <UserX className=\"w-3 h-3 mr-1\" />\r\n        Inactive\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const filteredUsers = Users.filter((user) => {\r\n    const matchesSearch =\r\n      user.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n    if (selectedTab === \"all\") return matchesSearch;\r\n    return matchesSearch && user.role === selectedTab;\r\n  });\r\n\r\n  const tabs = [\r\n    { id: \"all\", label: \"All Users\", count: Users.length },\r\n    {\r\n      id: \"counselor\",\r\n      label: \"Counselors\",\r\n      count: Users.filter((u) => u.role === \"counselor\").length,\r\n    },\r\n    {\r\n      id: \"doctor\",\r\n      label: \"Doctors\",\r\n      count: Users.filter((u) => u.role === \"doctor\").length,\r\n    },\r\n    {\r\n      id: \"lawyer\",\r\n      label: \"Lawyers\",\r\n      count: Users.filter((u) => u.role === \"lawyer\").length,\r\n    },\r\n    {\r\n      id: \"survivor\",\r\n      label: \"Survivors\",\r\n      count: Users.filter((u) => u.role === \"survivor\").length,\r\n    },\r\n    {\r\n      id: \"admin\",\r\n      label: \"Admins\",\r\n      count: Users.filter((u) => u.role === \"admin\").length,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* Header */}\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <UserIcon className=\"h-8 w-8 text-purple-600\" />\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                User Management\r\n              </h2>\r\n              <p className=\"text-gray-600\">\r\n                Manage platform users and their roles\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onCreateUser}\r\n            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            Add User\r\n          </button>\r\n        </div>\r\n\r\n        {/* Search and Filter */}\r\n        <div className=\"flex items-center space-x-4 mb-6\">\r\n          <div className=\"relative flex-1 max-w-md\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n            <Filter className=\"w-4 h-4 mr-2\" />\r\n            Filter\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex space-x-1\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setSelectedTab(tab.id)}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n                selectedTab === tab.id\r\n                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n              }`}\r\n            >\r\n              {tab.label}\r\n              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n                {tab.count}\r\n              </span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                User\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Role\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Status\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Activity\r\n              </th>\r\n              {/* <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Last Login\r\n                            </th> */}\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {filteredUsers.map((user) => (\r\n              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold\">\r\n                      {user.first_name.charAt(0)}\r\n                      {user.last_name.charAt(0)}\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {user.first_name} {user.last_name}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n                      <div className=\"text-xs text-gray-400\">\r\n                        {user.phone_number}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <span\r\n                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getRoleBadgeColor(\r\n                      user.role\r\n                    )}`}\r\n                  >\r\n                    {getRoleIcon(user.role)}\r\n                    <span className=\"ml-1\">{user.role}</span>\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  {getStatusBadge(user.is_active)}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                  <div className=\"flex space-x-4\">\r\n                    {(user.appointments_count > 0) |\r\n                      (user.reports_count > 0) && (\r\n                      <>\r\n                        <span className=\"text-blue-600\">\r\n                          {user.appointments_count} appointments\r\n                        </span>\r\n                        <span className=\"text-green-600\">\r\n                          {user.reports_count} reports\r\n                        </span>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n                {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                    {formatDate(user.last_login)}\r\n                                </td> */}\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button className=\"text-blue-600 hover:text-blue-900 p-1 rounded\">\r\n                      <Eye className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-gray-600 hover:text-gray-900 p-1 rounded\">\r\n                      <Edit className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-red-600 hover:text-red-900 p-1 rounded\">\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button className=\"text-gray-400 hover:text-gray-600 p-1 rounded\">\r\n                      <MoreHorizontal className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Footer with pagination */}\r\n      <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"text-sm text-gray-500\">\r\n            Showing {filteredUsers.length} of {Users.length} users\r\n          </div>\r\n          <div className=\"flex space-x-1\">\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              Previous\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n              1\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              2\r\n            </button>\r\n            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}