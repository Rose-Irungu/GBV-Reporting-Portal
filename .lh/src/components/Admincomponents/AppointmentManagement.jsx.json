{
    "sourceFile": "src/components/AdminComponents/AppointmentManagement.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 31,
            "patches": [
                {
                    "date": 1756122022580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756122028232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,448 +1,488 @@\n-import { useState } from 'react';\r\n+import { useState } from \"react\";\r\n import {\r\n-    Clock,\r\n-    Plus,\r\n-    Search,\r\n-    Filter,\r\n-    Calendar,\r\n-    MapPin,\r\n-    Video,\r\n-    User,\r\n-    FileText,\r\n-    MoreHorizontal,\r\n-    Edit,\r\n-    Trash2,\r\n-    Eye,\r\n-    CheckCircle,\r\n-    XCircle,\r\n-    AlertCircle\r\n-} from 'lucide-react';\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n \r\n-export default function AppointmentsManagement({ onCreateAppointment, appointments }) {\r\n-    const [selectedTab, setSelectedTab] = useState('upcoming');\r\n-    const [searchTerm, setSearchTerm] = useState('');\r\n-    // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n \r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n \r\n-    const getAppointmentTypeColor = (type) => {\r\n-        const colors = {\r\n-            counseling: \"bg-green-100 text-green-800\",\r\n-            medical: \"bg-blue-100 text-blue-800\",\r\n-            legal: \"bg-purple-100 text-purple-800\"\r\n-        };\r\n-        return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n     };\r\n \r\n-    const getStatusBadge = (status) => {\r\n-        const statusConfig = {\r\n-            scheduled: {\r\n-                color: \"bg-blue-100 text-blue-800\",\r\n-                icon: Clock,\r\n-                label: \"Scheduled\"\r\n-            },\r\n-            completed: {\r\n-                color: \"bg-green-100 text-green-800\",\r\n-                icon: CheckCircle,\r\n-                label: \"Completed\"\r\n-            },\r\n-            cancelled: {\r\n-                color: \"bg-red-100 text-red-800\",\r\n-                icon: XCircle,\r\n-                label: \"Cancelled\"\r\n-            },\r\n-            rescheduled: {\r\n-                color: \"bg-orange-100 text-orange-800\",\r\n-                icon: AlertCircle,\r\n-                label: \"Rescheduled\"\r\n-            }\r\n-        };\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n \r\n-        const config = statusConfig[status] || statusConfig.scheduled;\r\n-        const IconComponent = config.icon;\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n \r\n-        return (\r\n-            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}>\r\n-                <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-                {config.label}\r\n-            </span>\r\n-        );\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n     };\r\n+  };\r\n \r\n-    const formatDateTime = (dateString) => {\r\n-        const date = new Date(dateString);\r\n-        return {\r\n-            date: date.toLocaleDateString('en-US', {\r\n-                year: 'numeric',\r\n-                month: 'short',\r\n-                day: 'numeric'\r\n-            }),\r\n-            time: date.toLocaleTimeString('en-US', {\r\n-                hour: '2-digit',\r\n-                minute: '2-digit',\r\n-                hour12: true\r\n-            })\r\n-        };\r\n-    };\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n \r\n-    const isUpcoming = (dateString) => {\r\n-        return new Date(dateString) > new Date();\r\n-    };\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+      // appointment.client_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n \r\n-    const filteredAppointments = appointments.filter(appointment => {\r\n-        const matchesSearch =\r\n-            appointment.professional_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-            // appointment.client_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n-            appointment.report_reference.toLowerCase().includes(searchTerm.toLowerCase());\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n \r\n-        if (selectedTab === 'all') return matchesSearch;\r\n-        if (selectedTab === 'upcoming') return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-        if (selectedTab === 'past') return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-        return matchesSearch && appointment.status === selectedTab;\r\n-    });\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n \r\n-    const tabs = [\r\n-        {\r\n-            id: 'upcoming',\r\n-            label: 'Upcoming',\r\n-            count: appointments.filter(a => isUpcoming(a.scheduled_date)).length\r\n-        },\r\n-        {\r\n-            id: 'past',\r\n-            label: 'Past',\r\n-            count: appointments.filter(a => !isUpcoming(a.scheduled_date)).length\r\n-        },\r\n-        {\r\n-            id: 'completed',\r\n-            label: 'Completed',\r\n-            count: appointments.filter(a => a.status === 'completed').length\r\n-        },\r\n-        {\r\n-            id: 'cancelled',\r\n-            label: 'Cancelled',\r\n-            count: appointments.filter(a => a.status === 'cancelled').length\r\n-        },\r\n-        {\r\n-            id: 'all',\r\n-            label: 'All',\r\n-            count: appointments.length\r\n-        }\r\n-    ];\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointments/new\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n \r\n-    return (\r\n-        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-            {/* Header */}\r\n-            <div className=\"p-6 border-b border-gray-200\">\r\n-                <div className=\"flex items-center justify-between mb-6\">\r\n-                    <div className=\"flex items-center space-x-3\">\r\n-                        <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-                        <div>\r\n-                            <h2 className=\"text-2xl font-bold text-gray-900\">Appointments Management</h2>\r\n-                            <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n                         </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n                     </div>\r\n-                    <button\r\n-  onClick={() => window.open(\"/appointments/new\", \"_blank\")}\r\n-  className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n->\r\n-  <Plus className=\"w-4 h-4 mr-2\" />\r\n-  Add Appointment\r\n-</button>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n\\ No newline at end of file\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n \r\n-                </div>\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={onCreateAppointment}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n \r\n-                {/* Search and Filter */}\r\n-                <div className=\"flex items-center space-x-4 mb-6\">\r\n-                    <div className=\"relative flex-1 max-w-md\">\r\n-                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-                        <input\r\n-                            type=\"text\"\r\n-                            placeholder=\"Search appointments...\"\r\n-                            value={searchTerm}\r\n-                            onChange={(e) => setSearchTerm(e.target.value)}\r\n-                            className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-                        />\r\n-                    </div>\r\n-                    <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-                        <Filter className=\"w-4 h-4 mr-2\" />\r\n-                        Filter\r\n-                    </button>\r\n-                    <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-                        <Calendar className=\"w-4 h-4 mr-2\" />\r\n-                        Date Range\r\n-                    </button>\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n                 </div>\r\n-\r\n-                {/* Tabs */}\r\n-                <div className=\"flex space-x-1\">\r\n-                    {tabs.map(tab => (\r\n-                        <button\r\n-                            key={tab.id}\r\n-                            onClick={() => setSelectedTab(tab.id)}\r\n-                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${selectedTab === tab.id\r\n-                                    ? 'text-purple-600 bg-purple-50 border border-purple-200'\r\n-                                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\r\n-                                }`}\r\n-                        >\r\n-                            {tab.label}\r\n-                            <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                                {tab.count}\r\n-                            </span>\r\n-                        </button>\r\n-                    ))}\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n                 </div>\r\n+              </div>\r\n             </div>\r\n \r\n-            {/* Table */}\r\n-            <div className=\"overflow-x-auto\">\r\n-                <table className=\"w-full\">\r\n-                    <thead className=\"bg-gray-50\">\r\n-                        <tr>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Appointment Details\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Professional\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Client\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Type\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Date & Time\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Status\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Location\r\n-                            </th>\r\n-                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                                Actions\r\n-                            </th>\r\n-                        </tr>\r\n-                    </thead>\r\n-                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-                        {filteredAppointments.map(appointment => {\r\n-                            const dateTime = formatDateTime(appointment.scheduled_date);\r\n-                            return (\r\n-                                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <div className=\"flex items-center\">\r\n-                                            <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                                                #{appointment.id}\r\n-                                            </div>\r\n-                                            <div className=\"ml-4\">\r\n-                                                <div className=\"text-sm font-medium text-gray-900\">\r\n-                                                    Ref: {appointment.report_reference}\r\n-                                                </div>\r\n-                                                <div className=\"text-sm text-gray-500\">\r\n-                                                    Duration: {appointment.duration_minutes} mins\r\n-                                                </div>\r\n-                                            </div>\r\n-                                        </div>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                                            {appointment.professional_name}\r\n-                                        </div>\r\n-                                        <div className=\"text-sm text-gray-500\">\r\n-                                            ID: {appointment.professional}\r\n-                                        </div>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <div className=\"flex items-center\">\r\n-                                            <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                                                {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                                            </div>\r\n-                                            <div className=\"ml-3\">\r\n-                                                <div className=\"text-sm font-medium text-gray-900\">\r\n-                                                    {appointment.client_name}\r\n-                                                </div>\r\n-                                            </div>\r\n-                                        </div>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(appointment.appointment_type)}`}>\r\n-                                            {appointment.appointment_type}\r\n-                                        </span>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                                        <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        {getStatusBadge(appointment.status)}\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                                        <div className=\"flex items-center text-sm text-gray-900\">\r\n-                                            {appointment.is_virtual ? (\r\n-                                                <div className=\"flex items-center text-blue-600\">\r\n-                                                    <Video className=\"w-4 h-4 mr-1\" />\r\n-                                                    Virtual\r\n-                                                </div>\r\n-                                            ) : appointment.location ? (\r\n-                                                <div className=\"flex items-center text-gray-600\">\r\n-                                                    <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                                                    <span className=\"truncate max-w-32\">{appointment.location}</span>\r\n-                                                </div>\r\n-                                            ) : (\r\n-                                                <span className=\"text-gray-400\">TBD</span>\r\n-                                            )}\r\n-                                        </div>\r\n-                                    </td>\r\n-                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                                        <div className=\"flex items-center space-x-2\">\r\n-                                            <button\r\n-                                                className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                                                title=\"View Details\"\r\n-                                            >\r\n-                                                <Eye className=\"w-4 h-4\" />\r\n-                                            </button>\r\n-                                            <button\r\n-                                                className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                                                title=\"Edit Appointment\"\r\n-                                            >\r\n-                                                <Edit className=\"w-4 h-4\" />\r\n-                                            </button>\r\n-                                            <button\r\n-                                                className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                                                title=\"View Report\"\r\n-                                            >\r\n-                                                <FileText className=\"w-4 h-4\" />\r\n-                                            </button>\r\n-                                            <button\r\n-                                                className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                                                title=\"Cancel Appointment\"\r\n-                                            >\r\n-                                                <Trash2 className=\"w-4 h-4\" />\r\n-                                            </button>\r\n-                                            <button\r\n-                                                className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                                                title=\"More Options\"\r\n-                                            >\r\n-                                                <MoreHorizontal className=\"w-4 h-4\" />\r\n-                                            </button>\r\n-                                        </div>\r\n-                                    </td>\r\n-                                </tr>\r\n-                            );\r\n-                        })}\r\n-                    </tbody>\r\n-                </table>\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n             </div>\r\n \r\n-            {/* Empty State */}\r\n-            {filteredAppointments.length === 0 && (\r\n-                <div className=\"text-center py-12\">\r\n-                    <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-                    <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No appointments found</h3>\r\n-                    <p className=\"mt-1 text-sm text-gray-500\">\r\n-                        {searchTerm ? 'Try adjusting your search criteria.' : 'Get started by creating a new appointment.'}\r\n-                    </p>\r\n-                    {!searchTerm && (\r\n-                        <div className=\"mt-6\">\r\n-                            <button\r\n-                                onClick={onCreateAppointment}\r\n-                                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n-                            >\r\n-                                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                                New Appointment\r\n-                            </button>\r\n-                        </div>\r\n-                    )}\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n                 </div>\r\n-            )}\r\n-\r\n-            {/* Summary Cards */}\r\n-            {filteredAppointments.length > 0 && (\r\n-                <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-                            <div className=\"flex items-center\">\r\n-                                <div className=\"flex-shrink-0\">\r\n-                                    <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                                </div>\r\n-                                <div className=\"ml-3\">\r\n-                                    <p className=\"text-sm font-medium text-gray-500\">Today's Appointments</p>\r\n-                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                                        {appointments.filter(a => {\r\n-                                            const today = new Date().toDateString();\r\n-                                            return new Date(a.scheduled_date).toDateString() === today;\r\n-                                        }).length}\r\n-                                    </p>\r\n-                                </div>\r\n-                            </div>\r\n-                        </div>\r\n-\r\n-                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-                            <div className=\"flex items-center\">\r\n-                                <div className=\"flex-shrink-0\">\r\n-                                    <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                                </div>\r\n-                                <div className=\"ml-3\">\r\n-                                    <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                                        {appointments.filter(a => a.status === 'completed').length}\r\n-                                    </p>\r\n-                                </div>\r\n-                            </div>\r\n-                        </div>\r\n-\r\n-                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-                            <div className=\"flex items-center\">\r\n-                                <div className=\"flex-shrink-0\">\r\n-                                    <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                                </div>\r\n-                                <div className=\"ml-3\">\r\n-                                    <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                                        {appointments.filter(a => isUpcoming(a.scheduled_date) && a.status === 'scheduled').length}\r\n-                                    </p>\r\n-                                </div>\r\n-                            </div>\r\n-                        </div>\r\n-\r\n-                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-                            <div className=\"flex items-center\">\r\n-                                <div className=\"flex-shrink-0\">\r\n-                                    <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                                </div>\r\n-                                <div className=\"ml-3\">\r\n-                                    <p className=\"text-sm font-medium text-gray-500\">Virtual Sessions</p>\r\n-                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                                        {appointments.filter(a => a.is_virtual).length}\r\n-                                    </p>\r\n-                                </div>\r\n-                            </div>\r\n-                        </div>\r\n-                    </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n                 </div>\r\n-            )}\r\n+              </div>\r\n+            </div>\r\n \r\n-            {/* Footer with pagination */}\r\n-            <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-                <div className=\"flex items-center justify-between\">\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                        Showing {filteredAppointments.length} of {appointments.length} appointments\r\n-                    </div>\r\n-                    <div className=\"flex space-x-1\">\r\n-                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-                            Previous\r\n-                        </button>\r\n-                        <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n-                            1\r\n-                        </button>\r\n-                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-                            2\r\n-                        </button>\r\n-                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-                            Next\r\n-                        </button>\r\n-                    </div>\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n                 </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n             </div>\r\n+          </div>\r\n         </div>\r\n-    );\r\n-}\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756122035145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n     const matchesSearch =\r\n       appointment.professional_name\r\n         .toLowerCase()\r\n         .includes(searchTerm.toLowerCase()) ||\r\n-      // appointment.client_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+   \r\n       appointment.report_reference\r\n         .toLowerCase()\r\n         .includes(searchTerm.toLowerCase());\r\n \r\n@@ -484,5 +484,5 @@\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n-}\n\\ No newline at end of file\n+}\r\n"
                },
                {
                    "date": 1756122061498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n               <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={() => window.open(\"/appointments/new\", \"_blank\")}\r\n+            onClick={() => window.open(\"/appointments\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add Appointment\r\n"
                },
                {
                    "date": 1756122076176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n               <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n             </div>\r\n           </div>\r\n           <button\r\n-            onClick={() => window.open(\"/appointments\", \"_blank\")}\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n             className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n           >\r\n             <Plus className=\"w-4 h-4 mr-2\" />\r\n             Add Appointment\r\n"
                },
                {
                    "date": 1756122112717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,488 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756122759511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,488 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-whitebg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756122777517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -366,9 +366,9 @@\n           {!searchTerm && (\r\n             <div className=\"mt-6\">\r\n               <button\r\n                 onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-whitebg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n               >\r\n                 <Plus className=\"w-4 h-4 mr-2\" />\r\n                 New Appointment\r\n               </button>\r\n@@ -485,980 +485,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-\r\n-export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-\r\n-export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={onCreateAppointment}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756122807210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,488 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756214308311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n   XCircle,\r\n   AlertCircle,\r\n } from \"lucide-react\";\r\n \r\n+\r\n export default function AppointmentsManagement({\r\n   onCreateAppointment,\r\n   appointments,\r\n }) {\r\n@@ -485,492 +486,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-\r\n-export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756214323810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,10 +16,10 @@\n   CheckCircle,\r\n   XCircle,\r\n   AlertCircle,\r\n } from \"lucide-react\";\r\n+import useReports from \"../hooks/useReportStats\";\r\n \r\n-\r\n export default function AppointmentsManagement({\r\n   onCreateAppointment,\r\n   appointments,\r\n }) {\r\n"
                },
                {
                    "date": 1756214370607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,10 @@\n   appointments,\r\n }) {\r\n   const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n   const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n \r\n+\r\n   const getAppointmentTypeColor = (type) => {\r\n     const colors = {\r\n       counseling: \"bg-green-100 text-green-800\",\r\n       medical: \"bg-blue-100 text-blue-800\",\r\n"
                },
                {
                    "date": 1756214410436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n   XCircle,\r\n   AlertCircle,\r\n } from \"lucide-react\";\r\n import useReports from \"../hooks/useReportStats\";\r\n+import { getDashboardStats, getAppointments, getAllReports, getReport as gR, getProfessionals } from \"../services/adminDashboardService\";\r\n \r\n export default function AppointmentsManagement({\r\n   onCreateAppointment,\r\n   appointments,\r\n"
                },
                {
                    "date": 1756214416098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n   XCircle,\r\n   AlertCircle,\r\n } from \"lucide-react\";\r\n import useReports from \"../hooks/useReportStats\";\r\n-import { getDashboardStats, getAppointments, getAllReports, getReport as gR, getProfessionals } from \"../services/adminDashboardService\";\r\n+import {  getAppointments, getAllReports, getReport as gR, getProfessionals } from \"../services/adminDashboardService\";\r\n \r\n export default function AppointmentsManagement({\r\n   onCreateAppointment,\r\n   appointments,\r\n"
                },
                {
                    "date": 1756214421779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,490 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../hooks/useReportStats\";\r\n+import {  getAppointments} from \"../services/adminDashboardService\";\r\n+\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756214466060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,490 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  onCreateAppointment,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756236374017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n   CheckCircle,\r\n   XCircle,\r\n   AlertCircle,\r\n } from \"lucide-react\";\r\n-import useReports from \"../hooks/useReportStats\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n \r\n \r\n export default function AppointmentsManagement({\r\n   onCreateAppointment,\r\n@@ -487,984 +487,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-import useReports from \"../hooks/useReportStats\";\r\n-import {  getAppointments} from \"../services/adminDashboardService\";\r\n-\r\n-export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-import useReports from \"../hooks/useReportStats\";\r\n-import {  getAppointments, getAllReports, getReport as gR, getProfessionals } from \"../services/adminDashboardService\";\r\n-\r\n-export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756237029970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n import useReports from \"../../hooks/useReportStats\";\r\n \r\n \r\n export default function AppointmentsManagement({\r\n-  onCreateAppointment,\r\n+  getAppointment,\r\n   appointments,\r\n }) {\r\n   const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n   const [searchTerm, setSearchTerm] = useState(\"\");\r\n"
                },
                {
                    "date": 1756237041763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,491 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  getAppointments,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237048306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n   appointments,\r\n }) {\r\n   const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n   const [searchTerm, setSearchTerm] = useState(\"\");\r\n-  const\r\n+  const [appo]\r\n \r\n \r\n   const getAppointmentTypeColor = (type) => {\r\n     const colors = {\r\n@@ -488,494 +488,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-import { useState } from \"react\";\r\n-import {\r\n-  Clock,\r\n-  Plus,\r\n-  Search,\r\n-  Filter,\r\n-  Calendar,\r\n-  MapPin,\r\n-  Video,\r\n-  User,\r\n-  FileText,\r\n-  MoreHorizontal,\r\n-  Edit,\r\n-  Trash2,\r\n-  Eye,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-} from \"lucide-react\";\r\n-import useReports from \"../../hooks/useReportStats\";\r\n-\r\n-\r\n-export default function AppointmentsManagement({\r\n-  getAppointment,\r\n-  appointments,\r\n-}) {\r\n-  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n-  const [searchTerm, setSearchTerm] = useState(\"\");\r\n-\r\n-\r\n-  const getAppointmentTypeColor = (type) => {\r\n-    const colors = {\r\n-      counseling: \"bg-green-100 text-green-800\",\r\n-      medical: \"bg-blue-100 text-blue-800\",\r\n-      legal: \"bg-purple-100 text-purple-800\",\r\n-    };\r\n-    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n-  };\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      scheduled: {\r\n-        color: \"bg-blue-100 text-blue-800\",\r\n-        icon: Clock,\r\n-        label: \"Scheduled\",\r\n-      },\r\n-      completed: {\r\n-        color: \"bg-green-100 text-green-800\",\r\n-        icon: CheckCircle,\r\n-        label: \"Completed\",\r\n-      },\r\n-      cancelled: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        icon: XCircle,\r\n-        label: \"Cancelled\",\r\n-      },\r\n-      rescheduled: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        icon: AlertCircle,\r\n-        label: \"Rescheduled\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.scheduled;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    const date = new Date(dateString);\r\n-    return {\r\n-      date: date.toLocaleDateString(\"en-US\", {\r\n-        year: \"numeric\",\r\n-        month: \"short\",\r\n-        day: \"numeric\",\r\n-      }),\r\n-      time: date.toLocaleTimeString(\"en-US\", {\r\n-        hour: \"2-digit\",\r\n-        minute: \"2-digit\",\r\n-        hour12: true,\r\n-      }),\r\n-    };\r\n-  };\r\n-\r\n-  const isUpcoming = (dateString) => {\r\n-    return new Date(dateString) > new Date();\r\n-  };\r\n-\r\n-  const filteredAppointments = appointments.filter((appointment) => {\r\n-    const matchesSearch =\r\n-      appointment.professional_name\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase()) ||\r\n-   \r\n-      appointment.report_reference\r\n-        .toLowerCase()\r\n-        .includes(searchTerm.toLowerCase());\r\n-\r\n-    if (selectedTab === \"all\") return matchesSearch;\r\n-    if (selectedTab === \"upcoming\")\r\n-      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n-    if (selectedTab === \"past\")\r\n-      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n-    return matchesSearch && appointment.status === selectedTab;\r\n-  });\r\n-\r\n-  const tabs = [\r\n-    {\r\n-      id: \"upcoming\",\r\n-      label: \"Upcoming\",\r\n-      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"past\",\r\n-      label: \"Past\",\r\n-      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n-    },\r\n-    {\r\n-      id: \"completed\",\r\n-      label: \"Completed\",\r\n-      count: appointments.filter((a) => a.status === \"completed\").length,\r\n-    },\r\n-    {\r\n-      id: \"cancelled\",\r\n-      label: \"Cancelled\",\r\n-      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n-    },\r\n-    {\r\n-      id: \"all\",\r\n-      label: \"All\",\r\n-      count: appointments.length,\r\n-    },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n-      {/* Header */}\r\n-      <div className=\"p-6 border-b border-gray-200\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <div className=\"flex items-center space-x-3\">\r\n-            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n-            <div>\r\n-              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n-                Appointments Management\r\n-              </h2>\r\n-              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n-            </div>\r\n-          </div>\r\n-          <button\r\n-            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-          >\r\n-            <Plus className=\"w-4 h-4 mr-2\" />\r\n-            Add Appointment\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Search and Filter */}\r\n-        <div className=\"flex items-center space-x-4 mb-6\">\r\n-          <div className=\"relative flex-1 max-w-md\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search appointments...\"\r\n-              value={searchTerm}\r\n-              onChange={(e) => setSearchTerm(e.target.value)}\r\n-              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n-            />\r\n-          </div>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Filter className=\"w-4 h-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n-            <Calendar className=\"w-4 h-4 mr-2\" />\r\n-            Date Range\r\n-          </button>\r\n-        </div>\r\n-\r\n-        {/* Tabs */}\r\n-        <div className=\"flex space-x-1\">\r\n-          {tabs.map((tab) => (\r\n-            <button\r\n-              key={tab.id}\r\n-              onClick={() => setSelectedTab(tab.id)}\r\n-              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n-                selectedTab === tab.id\r\n-                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n-                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n-              }`}\r\n-            >\r\n-              {tab.label}\r\n-              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n-                {tab.count}\r\n-              </span>\r\n-            </button>\r\n-          ))}\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"w-full\">\r\n-          <thead className=\"bg-gray-50\">\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Appointment Details\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Professional\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Client\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Type\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date & Time\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Location\r\n-              </th>\r\n-              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {filteredAppointments.map((appointment) => {\r\n-              const dateTime = formatDateTime(appointment.scheduled_date);\r\n-              return (\r\n-                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n-                        #{appointment.id}\r\n-                      </div>\r\n-                      <div className=\"ml-4\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          Ref: {appointment.report_reference}\r\n-                        </div>\r\n-                        <div className=\"text-sm text-gray-500\">\r\n-                          Duration: {appointment.duration_minutes} mins\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm font-medium text-gray-900\">\r\n-                      {appointment.professional_name}\r\n-                    </div>\r\n-                    <div className=\"text-sm text-gray-500\">\r\n-                      ID: {appointment.professional}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center\">\r\n-                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n-                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n-                      </div>\r\n-                      <div className=\"ml-3\">\r\n-                        <div className=\"text-sm font-medium text-gray-900\">\r\n-                          {appointment.client_name}\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <span\r\n-                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n-                        appointment.appointment_type\r\n-                      )}`}\r\n-                    >\r\n-                      {appointment.appointment_type}\r\n-                    </span>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    {getStatusBadge(appointment.status)}\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                    <div className=\"flex items-center text-sm text-gray-900\">\r\n-                      {appointment.is_virtual ? (\r\n-                        <div className=\"flex items-center text-blue-600\">\r\n-                          <Video className=\"w-4 h-4 mr-1\" />\r\n-                          Virtual\r\n-                        </div>\r\n-                      ) : appointment.location ? (\r\n-                        <div className=\"flex items-center text-gray-600\">\r\n-                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n-                          <span className=\"truncate max-w-32\">\r\n-                            {appointment.location}\r\n-                          </span>\r\n-                        </div>\r\n-                      ) : (\r\n-                        <span className=\"text-gray-400\">TBD</span>\r\n-                      )}\r\n-                    </div>\r\n-                  </td>\r\n-                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n-                    <div className=\"flex items-center space-x-2\">\r\n-                      <button\r\n-                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n-                        title=\"View Details\"\r\n-                      >\r\n-                        <Eye className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n-                        title=\"Edit Appointment\"\r\n-                      >\r\n-                        <Edit className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n-                        title=\"View Report\"\r\n-                      >\r\n-                        <FileText className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n-                        title=\"Cancel Appointment\"\r\n-                      >\r\n-                        <Trash2 className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                      <button\r\n-                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n-                        title=\"More Options\"\r\n-                      >\r\n-                        <MoreHorizontal className=\"w-4 h-4\" />\r\n-                      </button>\r\n-                    </div>\r\n-                  </td>\r\n-                </tr>\r\n-              );\r\n-            })}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-\r\n-      {/* Empty State */}\r\n-      {filteredAppointments.length === 0 && (\r\n-        <div className=\"text-center py-12\">\r\n-          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n-          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n-            No appointments found\r\n-          </h3>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            {searchTerm\r\n-              ? \"Try adjusting your search criteria.\"\r\n-              : \"Get started by creating a new appointment.\"}\r\n-          </p>\r\n-          {!searchTerm && (\r\n-            <div className=\"mt-6\">\r\n-              <button\r\n-                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n-              >\r\n-                <Plus className=\"w-4 h-4 mr-2\" />\r\n-                New Appointment\r\n-              </button>\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Summary Cards */}\r\n-      {filteredAppointments.length > 0 && (\r\n-        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n-          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Today's Appointments\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => {\r\n-                        const today = new Date().toDateString();\r\n-                        return (\r\n-                          new Date(a.scheduled_date).toDateString() === today\r\n-                        );\r\n-                      }).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter((a) => a.status === \"completed\")\r\n-                        .length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {\r\n-                      appointments.filter(\r\n-                        (a) =>\r\n-                          isUpcoming(a.scheduled_date) &&\r\n-                          a.status === \"scheduled\"\r\n-                      ).length\r\n-                    }\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n-              <div className=\"flex items-center\">\r\n-                <div className=\"flex-shrink-0\">\r\n-                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n-                </div>\r\n-                <div className=\"ml-3\">\r\n-                  <p className=\"text-sm font-medium text-gray-500\">\r\n-                    Virtual Sessions\r\n-                  </p>\r\n-                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                    {appointments.filter((a) => a.is_virtual).length}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Footer with pagination */}\r\n-      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n-        <div className=\"flex items-center justify-between\">\r\n-          <div className=\"text-sm text-gray-500\">\r\n-            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n-            appointments\r\n-          </div>\r\n-          <div className=\"flex space-x-1\">\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Previous\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n-              1\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              2\r\n-            </button>\r\n-            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n-              Next\r\n-            </button>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1756237053905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,491 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  getAppointments,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [appointments, ]\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237134385,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,511 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  getAppointments,\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+const AppointmentList = () => {\r\n+  const { appointments, loading, error, getAppointments } = useAppointments();\r\n+\r\n+  useEffect(() => {\r\n+    getAppointments();\r\n+  }, []);\r\n+\r\n+  if (loading) return <p>Loading appointments...</p>;\r\n+  if (error) return <p className=\"text-red-600\">{error}</p>;\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237143757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,511 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+const AppointmentList = () => {\r\n+  const { appointments, loading, error, getAppointments } = useAppointments();\r\n+\r\n+  useEffect(() => {\r\n+    getAppointments();\r\n+  }, []);\r\n+\r\n+  if (loading) return <p>Loading appointments...</p>;\r\n+  if (error) return <p className=\"text-red-600\">{error}</p>;\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237243085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,502 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237249147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,503 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  \r\n+\r\n+\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237257133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,503 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const { getAppointments } = useReports();\r\n+\r\n+\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237264528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,504 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const { getAppointments } = useReports();\r\n+  \r\n+\r\n+\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237308058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,510 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+\r\n+const AppointmentList = () => {\r\n+  const { appointments, loading, error, getAppointments } = useAppointments();\r\n+\r\n+  useEffect(() => {\r\n+    getAppointments();\r\n+  }, []);\r\n+\r\n+  if (loading) return <p>Loading appointments...</p>;\r\n+  if (error) return <p className=\"text-red-600\">{error}</p>;\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237316874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,503 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function AppointmentsManagement({\r\n+  appointments,\r\n+}) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const { getAppointments } = useReports();\r\n+\r\n+\r\n+\r\n+  return (\r\n+    <ul>\r\n+      {appointments.map((a) => (\r\n+        <li key={a.id}>\r\n+          {a.client_name} - {a.date} at {a.time}\r\n+        </li>\r\n+      ))}\r\n+    </ul>\r\n+  );\r\n+};\r\n+\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+   \r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237325828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,485 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+export default function AppointmentsManagement({ appointments }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const { getAppointments } = useReports();\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237393008,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,486 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+export default function AppointmentsManagement({ appointments }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+    useEffect(() => {\r\n+    getAppointments();\r\n+  }, []);\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756237423218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,485 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Clock,\r\n+  Plus,\r\n+  Search,\r\n+  Filter,\r\n+  Calendar,\r\n+  MapPin,\r\n+  Video,\r\n+  User,\r\n+  FileText,\r\n+  MoreHorizontal,\r\n+  Edit,\r\n+  Trash2,\r\n+  Eye,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../../hooks/useReportStats\";\r\n+\r\n+export default function AppointmentsManagement({ appointments }) {\r\n+  const [selectedTab, setSelectedTab] = useState(\"upcoming\");\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const { getAppointments } = useReports();\r\n+\r\n+  const getAppointmentTypeColor = (type) => {\r\n+    const colors = {\r\n+      counseling: \"bg-green-100 text-green-800\",\r\n+      medical: \"bg-blue-100 text-blue-800\",\r\n+      legal: \"bg-purple-100 text-purple-800\",\r\n+    };\r\n+    return colors[type] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      scheduled: {\r\n+        color: \"bg-blue-100 text-blue-800\",\r\n+        icon: Clock,\r\n+        label: \"Scheduled\",\r\n+      },\r\n+      completed: {\r\n+        color: \"bg-green-100 text-green-800\",\r\n+        icon: CheckCircle,\r\n+        label: \"Completed\",\r\n+      },\r\n+      cancelled: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        icon: XCircle,\r\n+        label: \"Cancelled\",\r\n+      },\r\n+      rescheduled: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        icon: AlertCircle,\r\n+        label: \"Rescheduled\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.scheduled;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-3 h-3 mr-1\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    const date = new Date(dateString);\r\n+    return {\r\n+      date: date.toLocaleDateString(\"en-US\", {\r\n+        year: \"numeric\",\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+      }),\r\n+      time: date.toLocaleTimeString(\"en-US\", {\r\n+        hour: \"2-digit\",\r\n+        minute: \"2-digit\",\r\n+        hour12: true,\r\n+      }),\r\n+    };\r\n+  };\r\n+\r\n+  const isUpcoming = (dateString) => {\r\n+    return new Date(dateString) > new Date();\r\n+  };\r\n+\r\n+  const filteredAppointments = appointments.filter((appointment) => {\r\n+    const matchesSearch =\r\n+      appointment.professional_name\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase()) ||\r\n+      appointment.report_reference\r\n+        .toLowerCase()\r\n+        .includes(searchTerm.toLowerCase());\r\n+\r\n+    if (selectedTab === \"all\") return matchesSearch;\r\n+    if (selectedTab === \"upcoming\")\r\n+      return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n+    if (selectedTab === \"past\")\r\n+      return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n+    return matchesSearch && appointment.status === selectedTab;\r\n+  });\r\n+\r\n+  const tabs = [\r\n+    {\r\n+      id: \"upcoming\",\r\n+      label: \"Upcoming\",\r\n+      count: appointments.filter((a) => isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"past\",\r\n+      label: \"Past\",\r\n+      count: appointments.filter((a) => !isUpcoming(a.scheduled_date)).length,\r\n+    },\r\n+    {\r\n+      id: \"completed\",\r\n+      label: \"Completed\",\r\n+      count: appointments.filter((a) => a.status === \"completed\").length,\r\n+    },\r\n+    {\r\n+      id: \"cancelled\",\r\n+      label: \"Cancelled\",\r\n+      count: appointments.filter((a) => a.status === \"cancelled\").length,\r\n+    },\r\n+    {\r\n+      id: \"all\",\r\n+      label: \"All\",\r\n+      count: appointments.length,\r\n+    },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Header */}\r\n+      <div className=\"p-6 border-b border-gray-200\">\r\n+        <div className=\"flex items-center justify-between mb-6\">\r\n+          <div className=\"flex items-center space-x-3\">\r\n+            <Clock className=\"h-8 w-8 text-purple-600\" />\r\n+            <div>\r\n+              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n+                Appointments Management\r\n+              </h2>\r\n+              <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n+            </div>\r\n+          </div>\r\n+          <button\r\n+            onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+            className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+          >\r\n+            <Plus className=\"w-4 h-4 mr-2\" />\r\n+            Add Appointment\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Search and Filter */}\r\n+        <div className=\"flex items-center space-x-4 mb-6\">\r\n+          <div className=\"relative flex-1 max-w-md\">\r\n+            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n+            <input\r\n+              type=\"text\"\r\n+              placeholder=\"Search appointments...\"\r\n+              value={searchTerm}\r\n+              onChange={(e) => setSearchTerm(e.target.value)}\r\n+              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n+            />\r\n+          </div>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Filter className=\"w-4 h-4 mr-2\" />\r\n+            Filter\r\n+          </button>\r\n+          <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n+            <Calendar className=\"w-4 h-4 mr-2\" />\r\n+            Date Range\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Tabs */}\r\n+        <div className=\"flex space-x-1\">\r\n+          {tabs.map((tab) => (\r\n+            <button\r\n+              key={tab.id}\r\n+              onClick={() => setSelectedTab(tab.id)}\r\n+              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n+                selectedTab === tab.id\r\n+                  ? \"text-purple-600 bg-purple-50 border border-purple-200\"\r\n+                  : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\r\n+              }`}\r\n+            >\r\n+              {tab.label}\r\n+              <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n+                {tab.count}\r\n+              </span>\r\n+            </button>\r\n+          ))}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Appointment Details\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Professional\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Client\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Type\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Date & Time\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Status\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Location\r\n+              </th>\r\n+              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n+                Actions\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n+            {filteredAppointments.map((appointment) => {\r\n+              const dateTime = formatDateTime(appointment.scheduled_date);\r\n+              return (\r\n+                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n+                        #{appointment.id}\r\n+                      </div>\r\n+                      <div className=\"ml-4\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          Ref: {appointment.report_reference}\r\n+                        </div>\r\n+                        <div className=\"text-sm text-gray-500\">\r\n+                          Duration: {appointment.duration_minutes} mins\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm font-medium text-gray-900\">\r\n+                      {appointment.professional_name}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-500\">\r\n+                      ID: {appointment.professional}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center\">\r\n+                      <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n+                        {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n+                      </div>\r\n+                      <div className=\"ml-3\">\r\n+                        <div className=\"text-sm font-medium text-gray-900\">\r\n+                          {appointment.client_name}\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <span\r\n+                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(\r\n+                        appointment.appointment_type\r\n+                      )}`}\r\n+                    >\r\n+                      {appointment.appointment_type}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    {getStatusBadge(appointment.status)}\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n+                    <div className=\"flex items-center text-sm text-gray-900\">\r\n+                      {appointment.is_virtual ? (\r\n+                        <div className=\"flex items-center text-blue-600\">\r\n+                          <Video className=\"w-4 h-4 mr-1\" />\r\n+                          Virtual\r\n+                        </div>\r\n+                      ) : appointment.location ? (\r\n+                        <div className=\"flex items-center text-gray-600\">\r\n+                          <MapPin className=\"w-4 h-4 mr-1\" />\r\n+                          <span className=\"truncate max-w-32\">\r\n+                            {appointment.location}\r\n+                          </span>\r\n+                        </div>\r\n+                      ) : (\r\n+                        <span className=\"text-gray-400\">TBD</span>\r\n+                      )}\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <button\r\n+                        className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <Eye className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n+                        title=\"Edit Appointment\"\r\n+                      >\r\n+                        <Edit className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n+                        title=\"View Report\"\r\n+                      >\r\n+                        <FileText className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n+                        title=\"Cancel Appointment\"\r\n+                      >\r\n+                        <Trash2 className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                      <button\r\n+                        className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n+                        title=\"More Options\"\r\n+                      >\r\n+                        <MoreHorizontal className=\"w-4 h-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Empty State */}\r\n+      {filteredAppointments.length === 0 && (\r\n+        <div className=\"text-center py-12\">\r\n+          <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n+          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n+            No appointments found\r\n+          </h3>\r\n+          <p className=\"mt-1 text-sm text-gray-500\">\r\n+            {searchTerm\r\n+              ? \"Try adjusting your search criteria.\"\r\n+              : \"Get started by creating a new appointment.\"}\r\n+          </p>\r\n+          {!searchTerm && (\r\n+            <div className=\"mt-6\">\r\n+              <button\r\n+                onClick={() => window.open(\"/appointment-form\", \"_blank\")}\r\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n+              >\r\n+                <Plus className=\"w-4 h-4 mr-2\" />\r\n+                New Appointment\r\n+              </button>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Summary Cards */}\r\n+      {filteredAppointments.length > 0 && (\r\n+        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n+          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Clock className=\"h-8 w-8 text-blue-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Today's Appointments\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => {\r\n+                        const today = new Date().toDateString();\r\n+                        return (\r\n+                          new Date(a.scheduled_date).toDateString() === today\r\n+                        );\r\n+                      }).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter((a) => a.status === \"completed\")\r\n+                        .length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {\r\n+                      appointments.filter(\r\n+                        (a) =>\r\n+                          isUpcoming(a.scheduled_date) &&\r\n+                          a.status === \"scheduled\"\r\n+                      ).length\r\n+                    }\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n+              <div className=\"flex items-center\">\r\n+                <div className=\"flex-shrink-0\">\r\n+                  <Video className=\"h-8 w-8 text-purple-500\" />\r\n+                </div>\r\n+                <div className=\"ml-3\">\r\n+                  <p className=\"text-sm font-medium text-gray-500\">\r\n+                    Virtual Sessions\r\n+                  </p>\r\n+                  <p className=\"text-2xl font-semibold text-gray-900\">\r\n+                    {appointments.filter((a) => a.is_virtual).length}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Footer with pagination */}\r\n+      <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div className=\"text-sm text-gray-500\">\r\n+            Showing {filteredAppointments.length} of {appointments.length}{\" \"}\r\n+            appointments\r\n+          </div>\r\n+          <div className=\"flex space-x-1\">\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Previous\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all text-white rounded\">\r\n+              1\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              2\r\n+            </button>\r\n+            <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n+              Next\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1756122022580,
            "name": "Commit-0",
            "content": "import { useState } from 'react';\r\nimport {\r\n    Clock,\r\n    Plus,\r\n    Search,\r\n    Filter,\r\n    Calendar,\r\n    MapPin,\r\n    Video,\r\n    User,\r\n    FileText,\r\n    MoreHorizontal,\r\n    Edit,\r\n    Trash2,\r\n    Eye,\r\n    CheckCircle,\r\n    XCircle,\r\n    AlertCircle\r\n} from 'lucide-react';\r\n\r\nexport default function AppointmentsManagement({ onCreateAppointment, appointments }) {\r\n    const [selectedTab, setSelectedTab] = useState('upcoming');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    // const [selectedAppointments, setSelectedAppointments] = useState([]);\r\n\r\n\r\n    const getAppointmentTypeColor = (type) => {\r\n        const colors = {\r\n            counseling: \"bg-green-100 text-green-800\",\r\n            medical: \"bg-blue-100 text-blue-800\",\r\n            legal: \"bg-purple-100 text-purple-800\"\r\n        };\r\n        return colors[type] || \"bg-gray-100 text-gray-800\";\r\n    };\r\n\r\n    const getStatusBadge = (status) => {\r\n        const statusConfig = {\r\n            scheduled: {\r\n                color: \"bg-blue-100 text-blue-800\",\r\n                icon: Clock,\r\n                label: \"Scheduled\"\r\n            },\r\n            completed: {\r\n                color: \"bg-green-100 text-green-800\",\r\n                icon: CheckCircle,\r\n                label: \"Completed\"\r\n            },\r\n            cancelled: {\r\n                color: \"bg-red-100 text-red-800\",\r\n                icon: XCircle,\r\n                label: \"Cancelled\"\r\n            },\r\n            rescheduled: {\r\n                color: \"bg-orange-100 text-orange-800\",\r\n                icon: AlertCircle,\r\n                label: \"Rescheduled\"\r\n            }\r\n        };\r\n\r\n        const config = statusConfig[status] || statusConfig.scheduled;\r\n        const IconComponent = config.icon;\r\n\r\n        return (\r\n            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}>\r\n                <IconComponent className=\"w-3 h-3 mr-1\" />\r\n                {config.label}\r\n            </span>\r\n        );\r\n    };\r\n\r\n    const formatDateTime = (dateString) => {\r\n        const date = new Date(dateString);\r\n        return {\r\n            date: date.toLocaleDateString('en-US', {\r\n                year: 'numeric',\r\n                month: 'short',\r\n                day: 'numeric'\r\n            }),\r\n            time: date.toLocaleTimeString('en-US', {\r\n                hour: '2-digit',\r\n                minute: '2-digit',\r\n                hour12: true\r\n            })\r\n        };\r\n    };\r\n\r\n    const isUpcoming = (dateString) => {\r\n        return new Date(dateString) > new Date();\r\n    };\r\n\r\n    const filteredAppointments = appointments.filter(appointment => {\r\n        const matchesSearch =\r\n            appointment.professional_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            // appointment.client_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            appointment.report_reference.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n        if (selectedTab === 'all') return matchesSearch;\r\n        if (selectedTab === 'upcoming') return matchesSearch && isUpcoming(appointment.scheduled_date);\r\n        if (selectedTab === 'past') return matchesSearch && !isUpcoming(appointment.scheduled_date);\r\n        return matchesSearch && appointment.status === selectedTab;\r\n    });\r\n\r\n    const tabs = [\r\n        {\r\n            id: 'upcoming',\r\n            label: 'Upcoming',\r\n            count: appointments.filter(a => isUpcoming(a.scheduled_date)).length\r\n        },\r\n        {\r\n            id: 'past',\r\n            label: 'Past',\r\n            count: appointments.filter(a => !isUpcoming(a.scheduled_date)).length\r\n        },\r\n        {\r\n            id: 'completed',\r\n            label: 'Completed',\r\n            count: appointments.filter(a => a.status === 'completed').length\r\n        },\r\n        {\r\n            id: 'cancelled',\r\n            label: 'Cancelled',\r\n            count: appointments.filter(a => a.status === 'cancelled').length\r\n        },\r\n        {\r\n            id: 'all',\r\n            label: 'All',\r\n            count: appointments.length\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            {/* Header */}\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                        <Clock className=\"h-8 w-8 text-purple-600\" />\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold text-gray-900\">Appointments Management</h2>\r\n                            <p className=\"text-gray-600\">Manage and track all appointments</p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n  onClick={() => window.open(\"/appointments/new\", \"_blank\")}\r\n  className=\"flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg transition-all\"\r\n>\r\n  <Plus className=\"w-4 h-4 mr-2\" />\r\n  Add Appointment\r\n</button>\r\n\r\n                </div>\r\n\r\n                {/* Search and Filter */}\r\n                <div className=\"flex items-center space-x-4 mb-6\">\r\n                    <div className=\"relative flex-1 max-w-md\">\r\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search appointments...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                        />\r\n                    </div>\r\n                    <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n                        <Filter className=\"w-4 h-4 mr-2\" />\r\n                        Filter\r\n                    </button>\r\n                    <button className=\"flex items-center px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n                        <Calendar className=\"w-4 h-4 mr-2\" />\r\n                        Date Range\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex space-x-1\">\r\n                    {tabs.map(tab => (\r\n                        <button\r\n                            key={tab.id}\r\n                            onClick={() => setSelectedTab(tab.id)}\r\n                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${selectedTab === tab.id\r\n                                    ? 'text-purple-600 bg-purple-50 border border-purple-200'\r\n                                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\r\n                                }`}\r\n                        >\r\n                            {tab.label}\r\n                            <span className=\"ml-2 px-2 py-0.5 text-xs bg-gray-200 rounded-full\">\r\n                                {tab.count}\r\n                            </span>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                    <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Appointment Details\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Professional\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Client\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Type\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Date & Time\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Status\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Location\r\n                            </th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                Actions\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {filteredAppointments.map(appointment => {\r\n                            const dateTime = formatDateTime(appointment.scheduled_date);\r\n                            return (\r\n                                <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n                                                #{appointment.id}\r\n                                            </div>\r\n                                            <div className=\"ml-4\">\r\n                                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                                    Ref: {appointment.report_reference}\r\n                                                </div>\r\n                                                <div className=\"text-sm text-gray-500\">\r\n                                                    Duration: {appointment.duration_minutes} mins\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-medium text-gray-900\">\r\n                                            {appointment.professional_name}\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-500\">\r\n                                            ID: {appointment.professional}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div className=\"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-semibold text-xs\">\r\n                                                {/* {appointment.client_name.split(' ').map(n => n[0]).join('')} */}\r\n                                            </div>\r\n                                            <div className=\"ml-3\">\r\n                                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                                    {appointment.client_name}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${getAppointmentTypeColor(appointment.appointment_type)}`}>\r\n                                            {appointment.appointment_type}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"text-sm text-gray-900\">{dateTime.date}</div>\r\n                                        <div className=\"text-sm text-gray-500\">{dateTime.time}</div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        {getStatusBadge(appointment.status)}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"flex items-center text-sm text-gray-900\">\r\n                                            {appointment.is_virtual ? (\r\n                                                <div className=\"flex items-center text-blue-600\">\r\n                                                    <Video className=\"w-4 h-4 mr-1\" />\r\n                                                    Virtual\r\n                                                </div>\r\n                                            ) : appointment.location ? (\r\n                                                <div className=\"flex items-center text-gray-600\">\r\n                                                    <MapPin className=\"w-4 h-4 mr-1\" />\r\n                                                    <span className=\"truncate max-w-32\">{appointment.location}</span>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <span className=\"text-gray-400\">TBD</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <button\r\n                                                className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\r\n                                                title=\"Edit Appointment\"\r\n                                            >\r\n                                                <Edit className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"text-green-600 hover:text-green-900 p-1 rounded\"\r\n                                                title=\"View Report\"\r\n                                            >\r\n                                                <FileText className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n                                                title=\"Cancel Appointment\"\r\n                                            >\r\n                                                <Trash2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"text-gray-400 hover:text-gray-600 p-1 rounded\"\r\n                                                title=\"More Options\"\r\n                                            >\r\n                                                <MoreHorizontal className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {/* Empty State */}\r\n            {filteredAppointments.length === 0 && (\r\n                <div className=\"text-center py-12\">\r\n                    <Clock className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No appointments found</h3>\r\n                    <p className=\"mt-1 text-sm text-gray-500\">\r\n                        {searchTerm ? 'Try adjusting your search criteria.' : 'Get started by creating a new appointment.'}\r\n                    </p>\r\n                    {!searchTerm && (\r\n                        <div className=\"mt-6\">\r\n                            <button\r\n                                onClick={onCreateAppointment}\r\n                                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4 mr-2\" />\r\n                                New Appointment\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Summary Cards */}\r\n            {filteredAppointments.length > 0 && (\r\n                <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className=\"flex-shrink-0\">\r\n                                    <Clock className=\"h-8 w-8 text-blue-500\" />\r\n                                </div>\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm font-medium text-gray-500\">Today's Appointments</p>\r\n                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n                                        {appointments.filter(a => {\r\n                                            const today = new Date().toDateString();\r\n                                            return new Date(a.scheduled_date).toDateString() === today;\r\n                                        }).length}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className=\"flex-shrink-0\">\r\n                                    <CheckCircle className=\"h-8 w-8 text-green-500\" />\r\n                                </div>\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm font-medium text-gray-500\">Completed</p>\r\n                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n                                        {appointments.filter(a => a.status === 'completed').length}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className=\"flex-shrink-0\">\r\n                                    <AlertCircle className=\"h-8 w-8 text-orange-500\" />\r\n                                </div>\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm font-medium text-gray-500\">Upcoming</p>\r\n                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n                                        {appointments.filter(a => isUpcoming(a.scheduled_date) && a.status === 'scheduled').length}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className=\"flex-shrink-0\">\r\n                                    <Video className=\"h-8 w-8 text-purple-500\" />\r\n                                </div>\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm font-medium text-gray-500\">Virtual Sessions</p>\r\n                                    <p className=\"text-2xl font-semibold text-gray-900\">\r\n                                        {appointments.filter(a => a.is_virtual).length}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Footer with pagination */}\r\n            <div className=\"px-6 py-4 border-t border-gray-200 bg-white\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"text-sm text-gray-500\">\r\n                        Showing {filteredAppointments.length} of {appointments.length} appointments\r\n                    </div>\r\n                    <div className=\"flex space-x-1\">\r\n                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n                            Previous\r\n                        </button>\r\n                        <button className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded\">\r\n                            1\r\n                        </button>\r\n                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n                            2\r\n                        </button>\r\n                        <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded\">\r\n                            Next\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"
        }
    ]
}