{
    "sourceFile": "src/components/UserModal.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1756741262907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756741688153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n     </div>\r\n   );\r\n }\r\n \r\n-export default function UsersManagement({ onCreateUser, Users }) {\r\n+export default function UsersManagement({ Users }) {\r\n   const [selectedUser, setSelectedUser] = useState(null);\r\n   const [modalType, setModalType] = useState(null);\r\n \r\n   const openModal = (type, user) => {\r\n"
                },
                {
                    "date": 1756741753162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,9 +176,9 @@\n               <th className=\"px-6 py-3 text-left\">Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            {Users.map((user) => (\r\n+            {(Users || []).map((user) => (\r\n               <tr key={user.id} className=\"hover:bg-gray-50\">\r\n                 <td className=\"px-6 py-4\">\r\n                   {user.first_name} {user.last_name}\r\n                 </td>\r\n"
                },
                {
                    "date": 1756741808656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n     </div>\r\n   );\r\n }\r\n \r\n-export default function UsersManagement({ Users }) {\r\n+export default function UsersManagement({onCreateUser,  Users }) {\r\n   const [selectedUser, setSelectedUser] = useState(null);\r\n   const [modalType, setModalType] = useState(null);\r\n \r\n   const openModal = (type, user) => {\r\n"
                },
                {
                    "date": 1756769818592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,230 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Eye,\r\n+  Edit,\r\n+  Trash2,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+\r\n+    export function UserModal({ isOpen, onClose, type, user, onSave, onDelete }) {\r\n+  if (!isOpen || !user) return null;\r\n+\r\n+  return (\r\n+    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n+      <div className=\"bg-white w-full max-w-lg rounded-2xl shadow-lg p-6 relative\">\r\n+        {/* Close button */}\r\n+        <button\r\n+          onClick={onClose}\r\n+          className=\"absolute top-3 right-3 text-gray-400 hover:text-gray-600\"\r\n+        >\r\n+          笨表r\n+        </button>\r\n+\r\n+        {type === \"view\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">User Details</h2>\r\n+            <p>\r\n+              <strong>Name:</strong> {user.first_name} {user.last_name}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Email:</strong> {user.email}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Phone:</strong> {user.phone_number}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Role:</strong> {user.role}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Status:</strong> {user.is_active ? \"Active\" : \"Inactive\"}\r\n+            </p>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"edit\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">Edit User</h2>\r\n+            <form\r\n+              onSubmit={(e) => {\r\n+                e.preventDefault();\r\n+                onSave({ ...user }); // handle updated values\r\n+              }}\r\n+              className=\"space-y-4\"\r\n+            >\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">First Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.first_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Last Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.last_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Email</label>\r\n+                <input\r\n+                  type=\"email\"\r\n+                  defaultValue={user.email}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Role</label>\r\n+                <select\r\n+                  defaultValue={user.role}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                >\r\n+                  <option value=\"survivor\">Survivor</option>\r\n+                  <option value=\"counselor\">Counselor</option>\r\n+                  <option value=\"doctor\">Doctor</option>\r\n+                  <option value=\"lawyer\">Lawyer</option>\r\n+                  <option value=\"admin\">Admin</option>\r\n+                </select>\r\n+              </div>\r\n+\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:shadow\"\r\n+              >\r\n+                Save Changes\r\n+              </button>\r\n+            </form>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"delete\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4 text-red-600\">Delete User</h2>\r\n+            <p>\r\n+              Are you sure you want to delete{\" \"}\r\n+              <strong>\r\n+                {user.first_name} {user.last_name}\r\n+              </strong>\r\n+              ? This action cannot be undone.\r\n+            </p>\r\n+            <div className=\"mt-6 flex justify-end gap-3\">\r\n+              <button\r\n+                onClick={onClose}\r\n+                className=\"px-4 py-2 rounded-lg border border-gray-300\"\r\n+              >\r\n+                Cancel\r\n+              </button>\r\n+              <button\r\n+                onClick={() => onDelete(user.id)}\r\n+                className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n+              >\r\n+                Delete\r\n+              </button>\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function UsersManagement({onCreateUser, Users }) {\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setModalType(type);\r\n+    setSelectedUser(user);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Save user\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (userId) => {\r\n+    console.log(\"Delete user\", userId);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left\">User</th>\r\n+              <th className=\"px-6 py-3 text-left\">Role</th>\r\n+              <th className=\"px-6 py-3 text-left\">Status</th>\r\n+              <th className=\"px-6 py-3 text-left\">Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            {(Users || []).map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.first_name} {user.last_name}\r\n+                </td>\r\n+                <td className=\"px-6 py-4\">{user.role}</td>\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.is_active ? (\r\n+                    <UserCheck className=\"w-4 h-4 text-green-600 inline\" />\r\n+                  ) : (\r\n+                    <UserX className=\"w-4 h-4 text-red-600 inline\" />\r\n+                  )}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 space-x-2\">\r\n+                  <button\r\n+                    onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900\"\r\n+                  >\r\n+                    <Eye className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900\"\r\n+                  >\r\n+                    <Edit className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"delete\", user)}\r\n+                    className=\"text-red-600 hover:text-red-900\"\r\n+                  >\r\n+                    <Trash2 className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Modal */}\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756769851549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,230 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Eye,\r\n+  Edit,\r\n+  Trash2,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+\r\n+    export default function UserModal({ isOpen, onClose, type, user, onSave, onDelete }) {\r\n+  if (!isOpen || !user) return null;\r\n+\r\n+  return (\r\n+    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n+      <div className=\"bg-white w-full max-w-lg rounded-2xl shadow-lg p-6 relative\">\r\n+        \r\n+        <button\r\n+          onClick={onClose}\r\n+          className=\"absolute top-3 right-3 text-gray-400 hover:text-gray-600\"\r\n+        >\r\n+          笨表r\n+        </button>\r\n+\r\n+        {type === \"view\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">User Details</h2>\r\n+            <p>\r\n+              <strong>Name:</strong> {user.first_name} {user.last_name}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Email:</strong> {user.email}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Phone:</strong> {user.phone_number}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Role:</strong> {user.role}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Status:</strong> {user.is_active ? \"Active\" : \"Inactive\"}\r\n+            </p>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"edit\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">Edit User</h2>\r\n+            <form\r\n+              onSubmit={(e) => {\r\n+                e.preventDefault();\r\n+                onSave({ ...user }); // handle updated values\r\n+              }}\r\n+              className=\"space-y-4\"\r\n+            >\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">First Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.first_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Last Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.last_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Email</label>\r\n+                <input\r\n+                  type=\"email\"\r\n+                  defaultValue={user.email}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Role</label>\r\n+                <select\r\n+                  defaultValue={user.role}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                >\r\n+                  <option value=\"survivor\">Survivor</option>\r\n+                  <option value=\"counselor\">Counselor</option>\r\n+                  <option value=\"doctor\">Doctor</option>\r\n+                  <option value=\"lawyer\">Lawyer</option>\r\n+                  <option value=\"admin\">Admin</option>\r\n+                </select>\r\n+              </div>\r\n+\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:shadow\"\r\n+              >\r\n+                Save Changes\r\n+              </button>\r\n+            </form>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"delete\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4 text-red-600\">Delete User</h2>\r\n+            <p>\r\n+              Are you sure you want to delete{\" \"}\r\n+              <strong>\r\n+                {user.first_name} {user.last_name}\r\n+              </strong>\r\n+              ? This action cannot be undone.\r\n+            </p>\r\n+            <div className=\"mt-6 flex justify-end gap-3\">\r\n+              <button\r\n+                onClick={onClose}\r\n+                className=\"px-4 py-2 rounded-lg border border-gray-300\"\r\n+              >\r\n+                Cancel\r\n+              </button>\r\n+              <button\r\n+                onClick={() => onDelete(user.id)}\r\n+                className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n+              >\r\n+                Delete\r\n+              </button>\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function UsersManagement({onCreateUser, Users }) {\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setModalType(type);\r\n+    setSelectedUser(user);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Save user\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (userId) => {\r\n+    console.log(\"Delete user\", userId);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left\">User</th>\r\n+              <th className=\"px-6 py-3 text-left\">Role</th>\r\n+              <th className=\"px-6 py-3 text-left\">Status</th>\r\n+              <th className=\"px-6 py-3 text-left\">Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            {(Users || []).map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.first_name} {user.last_name}\r\n+                </td>\r\n+                <td className=\"px-6 py-4\">{user.role}</td>\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.is_active ? (\r\n+                    <UserCheck className=\"w-4 h-4 text-green-600 inline\" />\r\n+                  ) : (\r\n+                    <UserX className=\"w-4 h-4 text-red-600 inline\" />\r\n+                  )}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 space-x-2\">\r\n+                  <button\r\n+                    onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900\"\r\n+                  >\r\n+                    <Eye className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900\"\r\n+                  >\r\n+                    <Edit className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"delete\", user)}\r\n+                    className=\"text-red-600 hover:text-red-900\"\r\n+                  >\r\n+                    <Trash2 className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Modal */}\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756769985105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,230 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  Users as UserIcon,\r\n+  Plus,\r\n+  Search,\r\n+  Eye,\r\n+  Edit,\r\n+  Trash2,\r\n+  UserCheck,\r\n+  UserX,\r\n+  Shield,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+  User,\r\n+} from \"lucide-react\";\r\n+\r\n+   function UserModal({ isOpen, onClose, type, user, onSave, onDelete }) {\r\n+  if (!isOpen || !user) return null;\r\n+\r\n+  return (\r\n+    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n+      <div className=\"bg-white w-full max-w-lg rounded-2xl shadow-lg p-6 relative\">\r\n+        \r\n+        <button\r\n+          onClick={onClose}\r\n+          className=\"absolute top-3 right-3 text-gray-400 hover:text-gray-600\"\r\n+        >\r\n+          笨表r\n+        </button>\r\n+\r\n+        {type === \"view\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">User Details</h2>\r\n+            <p>\r\n+              <strong>Name:</strong> {user.first_name} {user.last_name}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Email:</strong> {user.email}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Phone:</strong> {user.phone_number}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Role:</strong> {user.role}\r\n+            </p>\r\n+            <p>\r\n+              <strong>Status:</strong> {user.is_active ? \"Active\" : \"Inactive\"}\r\n+            </p>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"edit\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4\">Edit User</h2>\r\n+            <form\r\n+              onSubmit={(e) => {\r\n+                e.preventDefault();\r\n+                onSave({ ...user }); // handle updated values\r\n+              }}\r\n+              className=\"space-y-4\"\r\n+            >\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">First Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.first_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Last Name</label>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  defaultValue={user.last_name}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Email</label>\r\n+                <input\r\n+                  type=\"email\"\r\n+                  defaultValue={user.email}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-sm font-medium\">Role</label>\r\n+                <select\r\n+                  defaultValue={user.role}\r\n+                  className=\"w-full border rounded-lg px-3 py-2\"\r\n+                >\r\n+                  <option value=\"survivor\">Survivor</option>\r\n+                  <option value=\"counselor\">Counselor</option>\r\n+                  <option value=\"doctor\">Doctor</option>\r\n+                  <option value=\"lawyer\">Lawyer</option>\r\n+                  <option value=\"admin\">Admin</option>\r\n+                </select>\r\n+              </div>\r\n+\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:shadow\"\r\n+              >\r\n+                Save Changes\r\n+              </button>\r\n+            </form>\r\n+          </>\r\n+        )}\r\n+\r\n+        {type === \"delete\" && (\r\n+          <>\r\n+            <h2 className=\"text-xl font-bold mb-4 text-red-600\">Delete User</h2>\r\n+            <p>\r\n+              Are you sure you want to delete{\" \"}\r\n+              <strong>\r\n+                {user.first_name} {user.last_name}\r\n+              </strong>\r\n+              ? This action cannot be undone.\r\n+            </p>\r\n+            <div className=\"mt-6 flex justify-end gap-3\">\r\n+              <button\r\n+                onClick={onClose}\r\n+                className=\"px-4 py-2 rounded-lg border border-gray-300\"\r\n+              >\r\n+                Cancel\r\n+              </button>\r\n+              <button\r\n+                onClick={() => onDelete(user.id)}\r\n+                className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n+              >\r\n+                Delete\r\n+              </button>\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function UsersManagement({onCreateUser, Users }) {\r\n+  const [selectedUser, setSelectedUser] = useState(null);\r\n+  const [modalType, setModalType] = useState(null);\r\n+\r\n+  const openModal = (type, user) => {\r\n+    setModalType(type);\r\n+    setSelectedUser(user);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setSelectedUser(null);\r\n+    setModalType(null);\r\n+  };\r\n+\r\n+  const handleSave = (updatedUser) => {\r\n+    console.log(\"Save user\", updatedUser);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  const handleDelete = (userId) => {\r\n+    console.log(\"Delete user\", userId);\r\n+    closeModal();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n+      {/* Table */}\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"w-full\">\r\n+          <thead className=\"bg-gray-50\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left\">User</th>\r\n+              <th className=\"px-6 py-3 text-left\">Role</th>\r\n+              <th className=\"px-6 py-3 text-left\">Status</th>\r\n+              <th className=\"px-6 py-3 text-left\">Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            {(Users || []).map((user) => (\r\n+              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.first_name} {user.last_name}\r\n+                </td>\r\n+                <td className=\"px-6 py-4\">{user.role}</td>\r\n+                <td className=\"px-6 py-4\">\r\n+                  {user.is_active ? (\r\n+                    <UserCheck className=\"w-4 h-4 text-green-600 inline\" />\r\n+                  ) : (\r\n+                    <UserX className=\"w-4 h-4 text-red-600 inline\" />\r\n+                  )}\r\n+                </td>\r\n+                <td className=\"px-6 py-4 space-x-2\">\r\n+                  <button\r\n+                    onClick={() => openModal(\"view\", user)}\r\n+                    className=\"text-blue-600 hover:text-blue-900\"\r\n+                  >\r\n+                    <Eye className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"edit\", user)}\r\n+                    className=\"text-gray-600 hover:text-gray-900\"\r\n+                  >\r\n+                    <Edit className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                  <button\r\n+                    onClick={() => openModal(\"delete\", user)}\r\n+                    className=\"text-red-600 hover:text-red-900\"\r\n+                  >\r\n+                    <Trash2 className=\"w-4 h-4\" />\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Modal */}\r\n+      <UserModal\r\n+        isOpen={!!modalType}\r\n+        onClose={closeModal}\r\n+        type={modalType}\r\n+        user={selectedUser}\r\n+        onSave={handleSave}\r\n+        onDelete={handleDelete}\r\n+      />\r\n+    </div>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1756741262907,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport {\r\n  Users as UserIcon,\r\n  Plus,\r\n  Search,\r\n  Eye,\r\n  Edit,\r\n  Trash2,\r\n  UserCheck,\r\n  UserX,\r\n  Shield,\r\n  Stethoscope,\r\n  Scale,\r\n  Heart,\r\n  User,\r\n} from \"lucide-react\";\r\n\r\nfunction UserModal({ isOpen, onClose, type, user, onSave, onDelete }) {\r\n  if (!isOpen || !user) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n      <div className=\"bg-white w-full max-w-lg rounded-2xl shadow-lg p-6 relative\">\r\n        {/* Close button */}\r\n        <button\r\n          onClick={onClose}\r\n          className=\"absolute top-3 right-3 text-gray-400 hover:text-gray-600\"\r\n        >\r\n          笨表r\n        </button>\r\n\r\n        {type === \"view\" && (\r\n          <>\r\n            <h2 className=\"text-xl font-bold mb-4\">User Details</h2>\r\n            <p>\r\n              <strong>Name:</strong> {user.first_name} {user.last_name}\r\n            </p>\r\n            <p>\r\n              <strong>Email:</strong> {user.email}\r\n            </p>\r\n            <p>\r\n              <strong>Phone:</strong> {user.phone_number}\r\n            </p>\r\n            <p>\r\n              <strong>Role:</strong> {user.role}\r\n            </p>\r\n            <p>\r\n              <strong>Status:</strong> {user.is_active ? \"Active\" : \"Inactive\"}\r\n            </p>\r\n          </>\r\n        )}\r\n\r\n        {type === \"edit\" && (\r\n          <>\r\n            <h2 className=\"text-xl font-bold mb-4\">Edit User</h2>\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                onSave({ ...user }); // handle updated values\r\n              }}\r\n              className=\"space-y-4\"\r\n            >\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">First Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  defaultValue={user.first_name}\r\n                  className=\"w-full border rounded-lg px-3 py-2\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Last Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  defaultValue={user.last_name}\r\n                  className=\"w-full border rounded-lg px-3 py-2\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  defaultValue={user.email}\r\n                  className=\"w-full border rounded-lg px-3 py-2\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Role</label>\r\n                <select\r\n                  defaultValue={user.role}\r\n                  className=\"w-full border rounded-lg px-3 py-2\"\r\n                >\r\n                  <option value=\"survivor\">Survivor</option>\r\n                  <option value=\"counselor\">Counselor</option>\r\n                  <option value=\"doctor\">Doctor</option>\r\n                  <option value=\"lawyer\">Lawyer</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                </select>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:shadow\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n            </form>\r\n          </>\r\n        )}\r\n\r\n        {type === \"delete\" && (\r\n          <>\r\n            <h2 className=\"text-xl font-bold mb-4 text-red-600\">Delete User</h2>\r\n            <p>\r\n              Are you sure you want to delete{\" \"}\r\n              <strong>\r\n                {user.first_name} {user.last_name}\r\n              </strong>\r\n              ? This action cannot be undone.\r\n            </p>\r\n            <div className=\"mt-6 flex justify-end gap-3\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 rounded-lg border border-gray-300\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => onDelete(user.id)}\r\n                className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function UsersManagement({ onCreateUser, Users }) {\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [modalType, setModalType] = useState(null);\r\n\r\n  const openModal = (type, user) => {\r\n    setModalType(type);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setSelectedUser(null);\r\n    setModalType(null);\r\n  };\r\n\r\n  const handleSave = (updatedUser) => {\r\n    console.log(\"Save user\", updatedUser);\r\n    closeModal();\r\n  };\r\n\r\n  const handleDelete = (userId) => {\r\n    console.log(\"Delete user\", userId);\r\n    closeModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* Table */}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left\">User</th>\r\n              <th className=\"px-6 py-3 text-left\">Role</th>\r\n              <th className=\"px-6 py-3 text-left\">Status</th>\r\n              <th className=\"px-6 py-3 text-left\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Users.map((user) => (\r\n              <tr key={user.id} className=\"hover:bg-gray-50\">\r\n                <td className=\"px-6 py-4\">\r\n                  {user.first_name} {user.last_name}\r\n                </td>\r\n                <td className=\"px-6 py-4\">{user.role}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  {user.is_active ? (\r\n                    <UserCheck className=\"w-4 h-4 text-green-600 inline\" />\r\n                  ) : (\r\n                    <UserX className=\"w-4 h-4 text-red-600 inline\" />\r\n                  )}\r\n                </td>\r\n                <td className=\"px-6 py-4 space-x-2\">\r\n                  <button\r\n                    onClick={() => openModal(\"view\", user)}\r\n                    className=\"text-blue-600 hover:text-blue-900\"\r\n                  >\r\n                    <Eye className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={() => openModal(\"edit\", user)}\r\n                    className=\"text-gray-600 hover:text-gray-900\"\r\n                  >\r\n                    <Edit className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={() => openModal(\"delete\", user)}\r\n                    className=\"text-red-600 hover:text-red-900\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      <UserModal\r\n        isOpen={!!modalType}\r\n        onClose={closeModal}\r\n        type={modalType}\r\n        user={selectedUser}\r\n        onSave={handleSave}\r\n        onDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}