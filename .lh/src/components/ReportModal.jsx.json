{
    "sourceFile": "src/components/ReportModal.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1756215734204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756215749632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,10 +34,10 @@\n   report,\r\n   onEdit,\r\n   onAssign,\r\n }) {\r\n+  console.log(isOpen);\r\n \r\n-\r\n   const [activeTab, setActiveTab] = useState(\"details\");\r\n   const [showSensitiveInfo, setShowSensitiveInfo] = useState(false);\r\n   const [expandedSections, setExpandedSections] = useState({\r\n     incident: true,\r\n"
                },
                {
                    "date": 1756215755484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,692 @@\n+import { useState } from \"react\";\r\n+import {\r\n+  X,\r\n+  FileText,\r\n+  User,\r\n+  Mail,\r\n+  Phone,\r\n+  MapPin,\r\n+  Calendar,\r\n+  AlertTriangle,\r\n+  Clock,\r\n+  Shield,\r\n+  Eye,\r\n+  EyeOff,\r\n+  Edit,\r\n+  UserCheck,\r\n+  MessageSquare,\r\n+  ChevronDown,\r\n+  ChevronUp,\r\n+  CheckCircle,\r\n+  XCircle,\r\n+  AlertCircle,\r\n+  Activity,\r\n+  Stethoscope,\r\n+  Scale,\r\n+  Heart,\r\n+} from \"lucide-react\";\r\n+import useReports from \"../hooks/useReportStats\";\r\n+\r\n+\r\n+export default function ReportDetailModal({\r\n+  isOpen,\r\n+  onClose,\r\n+  report,\r\n+  onEdit,\r\n+  onAssign,\r\n+}) {\r\n+  console.log(isClose);\r\n+\r\n+  const [activeTab, setActiveTab] = useState(\"details\");\r\n+  const [showSensitiveInfo, setShowSensitiveInfo] = useState(false);\r\n+  const [expandedSections, setExpandedSections] = useState({\r\n+    incident: true,\r\n+    reporter: true,\r\n+    status: true,\r\n+    actions: true,\r\n+  });\r\n+\r\n+  const mockReport = report || {\r\n+    reference_code: \"GBV3RQP1Y\",\r\n+    name: \"Jessy Senger\",\r\n+    email: \"test@test.com\",\r\n+    phone: null,\r\n+    status: \"pending\",\r\n+    incident_date: \"2025-07-15T17:50:00Z\",\r\n+    incident_location: \"kajiado\",\r\n+    incident_type: \"sexual\",\r\n+    description: \"fggfbfg\",\r\n+    is_deleted: false,\r\n+    immediate_danger: true,\r\n+    needs_medical_attention: false,\r\n+    date_reported: \"2025-07-23T14:51:24.242099Z\",\r\n+    reporter: 1,\r\n+    assigned_to: null,\r\n+  };\r\n+\r\n+  const mockAdditionalData = {\r\n+    reporter_details: {\r\n+      id: 1,\r\n+      name: \"Mary Njeri\",\r\n+      role: \"survivor\",\r\n+      phone: \"+254700123456\",\r\n+    },\r\n+    assigned_professional: null,\r\n+    case_notes: [\r\n+      {\r\n+        id: 1,\r\n+        author: \"System\",\r\n+        content:\r\n+          \"Case automatically flagged as high priority due to immediate danger indicator\",\r\n+        timestamp: \"2025-07-23T14:51:24Z\",\r\n+        type: \"system\",\r\n+      },\r\n+    ],\r\n+    related_appointments: [],\r\n+    timeline: [\r\n+      {\r\n+        id: 1,\r\n+        action: \"Report Created\",\r\n+        timestamp: \"2025-07-23T14:51:24Z\",\r\n+        actor: \"Mary Njeri\",\r\n+        details: \"Initial report submitted\",\r\n+      },\r\n+    ],\r\n+  };\r\n+\r\n+  if (!isOpen) return null;\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      pending: {\r\n+        color: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\r\n+        icon: Clock,\r\n+        label: \"Pending Review\",\r\n+      },\r\n+      in_progress: {\r\n+        color: \"bg-blue-100 text-blue-800 border-blue-200\",\r\n+        icon: Activity,\r\n+        label: \"In Progress\",\r\n+      },\r\n+      resolved: {\r\n+        color: \"bg-green-100 text-green-800 border-green-200\",\r\n+        icon: CheckCircle,\r\n+        label: \"Resolved\",\r\n+      },\r\n+      closed: {\r\n+        color: \"bg-gray-100 text-gray-800 border-gray-200\",\r\n+        icon: XCircle,\r\n+        label: \"Closed\",\r\n+      },\r\n+    };\r\n+\r\n+    const config = statusConfig[status] || statusConfig.pending;\r\n+    const IconComponent = config.icon;\r\n+\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${config.color}`}\r\n+      >\r\n+        <IconComponent className=\"w-4 h-4 mr-2\" />\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const getIncidentTypeBadge = (type) => {\r\n+    const typeConfig = {\r\n+      physical: {\r\n+        color: \"bg-red-100 text-red-800\",\r\n+        label: \"Physical Violence\",\r\n+      },\r\n+      sexual: {\r\n+        color: \"bg-purple-100 text-purple-800\",\r\n+        label: \"Sexual Violence\",\r\n+      },\r\n+      emotional: {\r\n+        color: \"bg-orange-100 text-orange-800\",\r\n+        label: \"Emotional Abuse\",\r\n+      },\r\n+      economic: { color: \"bg-blue-100 text-blue-800\", label: \"Economic Abuse\" },\r\n+      other: { color: \"bg-gray-100 text-gray-800\", label: \"Other\" },\r\n+    };\r\n+\r\n+    const config = typeConfig[type] || typeConfig.other;\r\n+    return (\r\n+      <span\r\n+        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n+      >\r\n+        {config.label}\r\n+      </span>\r\n+    );\r\n+  };\r\n+\r\n+  const getPriorityIndicator = () => {\r\n+    const isHighPriority =\r\n+      report.immediate_danger || report.needs_medical_attention;\r\n+    return isHighPriority ? (\r\n+      <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n+        <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n+        <div>\r\n+          <p className=\"text-sm font-medium text-red-800\">High Priority Case</p>\r\n+          <p className=\"text-xs text-red-600\">\r\n+            {report.immediate_danger && \"Immediate danger indicated. \"}\r\n+            {report.needs_medical_attention &&\r\n+              \"Medical attention required.\"}\r\n+          </p>\r\n+        </div>\r\n+      </div>\r\n+    ) : (\r\n+      <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n+        <Shield className=\"w-5 h-5 text-green-600\" />\r\n+        <div>\r\n+          <p className=\"text-sm font-medium text-green-800\">\r\n+            Standard Priority\r\n+          </p>\r\n+          <p className=\"text-xs text-green-600\">\r\n+            No immediate danger indicators\r\n+          </p>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  };\r\n+\r\n+  const formatDateTime = (dateString) => {\r\n+    if (!dateString) return \"Not provided\";\r\n+    const date = new Date(dateString);\r\n+    return date.toLocaleDateString(\"en-US\", {\r\n+      year: \"numeric\",\r\n+      month: \"long\",\r\n+      day: \"numeric\",\r\n+      hour: \"2-digit\",\r\n+      minute: \"2-digit\",\r\n+    });\r\n+  };\r\n+\r\n+  const toggleSection = (section) => {\r\n+    setExpandedSections((prev) => ({\r\n+      ...prev,\r\n+      [section]: !prev[section],\r\n+    }));\r\n+  };\r\n+\r\n+  const tabs = [\r\n+    { id: \"details\", label: \"Case Details\", icon: FileText },\r\n+    { id: \"timeline\", label: \"Timeline\", icon: Clock },\r\n+    { id: \"notes\", label: \"Case Notes\", icon: MessageSquare },\r\n+    { id: \"actions\", label: \"Actions\", icon: Activity },\r\n+  ];\r\n+\r\n+  return (\r\n+    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center\">\r\n+      <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n+        <div\r\n+          className=\"absolute inset-0 bg-gray-500 bg-opacity-75\"\r\n+          onClick={onClose}\r\n+        ></div>\r\n+\r\n+        {/* Modal */}\r\n+        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\">\r\n+          {/* Header */}\r\n+          <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4\">\r\n+            <div className=\"flex items-center justify-between\">\r\n+              <div className=\"flex items-center space-x-3\">\r\n+                <div className=\"p-2 bg-white bg-opacity-20 rounded-lg\">\r\n+                  <FileText className=\"w-6 h-6 text-white\" />\r\n+                </div>\r\n+                <div>\r\n+                  <h3 className=\"text-lg font-semibold text-white\">\r\n+                    Case Report - {report.reference_code}\r\n+                  </h3>\r\n+                  <p className=\"text-purple-100 text-sm\">\r\n+                    Reported on {formatDateTime(report.date_reported)}\r\n+                  </p>\r\n+                </div>\r\n+              </div>\r\n+              <button\r\n+                onClick={onClose}\r\n+                className=\"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors\"\r\n+              >\r\n+                <X className=\"w-5 h-5 text-white\" />\r\n+              </button>\r\n+            </div>\r\n+\r\n+            {/* Status and Priority */}\r\n+            <div className=\"flex items-center justify-between mt-4\">\r\n+              <div className=\"flex items-center space-x-3\">\r\n+                {getStatusBadge(report.status)}\r\n+                {getIncidentTypeBadge(report.incident_type)}\r\n+              </div>\r\n+              <div className=\"flex space-x-2\">\r\n+                <button\r\n+                  onClick={() => onEdit && onEdit(report)}\r\n+                  className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n+                >\r\n+                  <Edit className=\"w-4 h-4 mr-1\" />\r\n+                  Edit\r\n+                </button>\r\n+                {!report.assigned_to && (\r\n+                  <button\r\n+                    onClick={() => onAssign && onAssign(report)}\r\n+                    className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n+                  >\r\n+                    <UserCheck className=\"w-4 h-4 mr-1\" />\r\n+                    Assign\r\n+                  </button>\r\n+                )}\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+\r\n+          {/* Tabs */}\r\n+          <div className=\"border-b border-gray-200\">\r\n+            <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\r\n+              {tabs.map((tab) => {\r\n+                const IconComponent = tab.icon;\r\n+                return (\r\n+                  <button\r\n+                    key={tab.id}\r\n+                    onClick={() => setActiveTab(tab.id)}\r\n+                    className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n+                      activeTab === tab.id\r\n+                        ? \"border-purple-500 text-purple-600\"\r\n+                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n+                    }`}\r\n+                  >\r\n+                    <IconComponent className=\"w-4 h-4\" />\r\n+                    <span>{tab.label}</span>\r\n+                  </button>\r\n+                );\r\n+              })}\r\n+            </nav>\r\n+          </div>\r\n+\r\n+          {/* Content */}\r\n+          <div className=\"px-6 py-6 max-h-96 overflow-y-auto\">\r\n+            {/* Priority Alert */}\r\n+            <div className=\"mb-6\">{getPriorityIndicator()}</div>\r\n+\r\n+            {activeTab === \"details\" && (\r\n+              <div className=\"space-y-6\">\r\n+                {/* Reporter Information */}\r\n+                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n+                  <div className=\"flex items-center justify-between mb-3\">\r\n+                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n+                      <User className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n+                      Reporter Information\r\n+                    </h4>\r\n+                    <button\r\n+                      onClick={() => toggleSection(\"reporter\")}\r\n+                      className=\"text-gray-400 hover:text-gray-600\"\r\n+                    >\r\n+                      {expandedSections.reporter ? (\r\n+                        <ChevronUp className=\"w-5 h-5\" />\r\n+                      ) : (\r\n+                        <ChevronDown className=\"w-5 h-5\" />\r\n+                      )}\r\n+                    </button>\r\n+                  </div>\r\n+\r\n+                  {expandedSections.reporter && (\r\n+                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                      <div className=\"flex items-center space-x-3\">\r\n+                        <User className=\"w-4 h-4 text-gray-400\" />\r\n+                        <div>\r\n+                          <p className=\"text-sm text-gray-500\">Name</p>\r\n+                          <p className=\"text-sm font-medium text-gray-900\">\r\n+                            {report.full_name}\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"flex items-center space-x-3\">\r\n+                        <Mail className=\"w-4 h-4 text-gray-400\" />\r\n+                        <div>\r\n+                          <p className=\"text-sm text-gray-500\">Email</p>\r\n+                          <p className=\"text-sm font-medium text-gray-900\">\r\n+                            {report.email}\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"flex items-center space-x-3\">\r\n+                        <Phone className=\"w-4 h-4 text-gray-400\" />\r\n+                        <div>\r\n+                          <p className=\"text-sm text-gray-500\">Phone</p>\r\n+                          <p className=\"text-sm font-medium text-gray-900\">\r\n+                            {report.phone_number || \"Not provided\"}\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"flex items-center space-x-3\">\r\n+                        <UserCheck className=\"w-4 h-4 text-gray-400\" />\r\n+                        <div>\r\n+                          <p className=\"text-sm text-gray-500\">Reporter ID</p>\r\n+                          <p className=\"text-sm font-medium text-gray-900\">\r\n+                            #{report.reporter}\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  )}\r\n+                </div>\r\n+\r\n+                {/* Incident Details */}\r\n+                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n+                  <div className=\"flex items-center justify-between mb-3\">\r\n+                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n+                      <AlertTriangle className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n+                      Incident Details\r\n+                    </h4>\r\n+                    <button\r\n+                      onClick={() => toggleSection(\"incident\")}\r\n+                      className=\"text-gray-400 hover:text-gray-600\"\r\n+                    >\r\n+                      {expandedSections.incident ? (\r\n+                        <ChevronUp className=\"w-5 h-5\" />\r\n+                      ) : (\r\n+                        <ChevronDown className=\"w-5 h-5\" />\r\n+                      )}\r\n+                    </button>\r\n+                  </div>\r\n+\r\n+                  {expandedSections.incident && (\r\n+                    <div className=\"space-y-4\">\r\n+                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div className=\"flex items-center space-x-3\">\r\n+                          <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n+                          <div>\r\n+                            <p className=\"text-sm text-gray-500\">\r\n+                              Incident Date\r\n+                            </p>\r\n+                            <p className=\"text-sm font-medium text-gray-900\">\r\n+                              {formatDateTime(report.incident_date)}\r\n+                            </p>\r\n+                          </div>\r\n+                        </div>\r\n+                        <div className=\"flex items-center space-x-3\">\r\n+                          <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n+                          <div>\r\n+                            <p className=\"text-sm text-gray-500\">Location</p>\r\n+                            <p className=\"text-sm font-medium text-gray-900 capitalize\">\r\n+                              {report.incident_location}\r\n+                            </p>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div>\r\n+                        <p className=\"text-sm text-gray-500 mb-2\">\r\n+                          Incident Type\r\n+                        </p>\r\n+                        {getIncidentTypeBadge(report.incident_type)}\r\n+                      </div>\r\n+\r\n+                      <div>\r\n+                        <div className=\"flex items-center justify-between mb-2\">\r\n+                          <p className=\"text-sm text-gray-500\">Description</p>\r\n+                          <button\r\n+                            onClick={() =>\r\n+                              setShowSensitiveInfo(!showSensitiveInfo)\r\n+                            }\r\n+                            className=\"flex items-center text-xs text-gray-400 hover:text-gray-600\"\r\n+                          >\r\n+                            {showSensitiveInfo ? (\r\n+                              <EyeOff className=\"w-3 h-3 mr-1\" />\r\n+                            ) : (\r\n+                              <Eye className=\"w-3 h-3 mr-1\" />\r\n+                            )}\r\n+                            {showSensitiveInfo ? \"Hide\" : \"Show\"} Details\r\n+                          </button>\r\n+                        </div>\r\n+                        <div className=\"bg-white p-3 rounded border\">\r\n+                          {showSensitiveInfo ? (\r\n+                            <p className=\"text-sm text-gray-900\">\r\n+                              {report.description}\r\n+                            </p>\r\n+                          ) : (\r\n+                            <p className=\"text-sm text-gray-400\">\r\n+                              Click \"Show Details\" to view sensitive content\r\n+                            </p>\r\n+                          )}\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-red-200 bg-red-50\">\r\n+                          <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n+                          <div>\r\n+                            <p className=\"text-sm font-medium text-red-800\">\r\n+                              Immediate Danger\r\n+                            </p>\r\n+                            <p className=\"text-xs text-red-600\">\r\n+                              {report.immediate_danger\r\n+                                ? \"Yes - Requires urgent attention\"\r\n+                                : \"No immediate danger reported\"}\r\n+                            </p>\r\n+                          </div>\r\n+                        </div>\r\n+                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-blue-200 bg-blue-50\">\r\n+                          <Stethoscope className=\"w-5 h-5 text-blue-600\" />\r\n+                          <div>\r\n+                            <p className=\"text-sm font-medium text-blue-800\">\r\n+                              Medical Attention\r\n+                            </p>\r\n+                            <p className=\"text-xs text-blue-600\">\r\n+                              {report.needs_medical_attention\r\n+                                ? \"Medical attention required\"\r\n+                                : \"No medical attention needed\"}\r\n+                            </p>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  )}\r\n+                </div>\r\n+\r\n+                {/* Assignment Status */}\r\n+                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n+                  <h4 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center\">\r\n+                    <UserCheck className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n+                    Assignment Status\r\n+                  </h4>\r\n+                  {report.assigned_to ? (\r\n+                    <div className=\"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n+                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n+                      <div>\r\n+                        <p className=\"text-sm font-medium text-green-800\">\r\n+                          Assigned Professional\r\n+                        </p>\r\n+                        <p className=\"text-xs text-green-600\">\r\n+                          Professional ID: {report.assigned_to}\r\n+                        </p>\r\n+                      </div>\r\n+                    </div>\r\n+                  ) : (\r\n+                    <div className=\"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n+                      <div className=\"flex items-center space-x-3\">\r\n+                        <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\r\n+                        <div>\r\n+                          <p className=\"text-sm font-medium text-yellow-800\">\r\n+                            Unassigned\r\n+                          </p>\r\n+                          <p className=\"text-xs text-yellow-600\">\r\n+                            This case needs to be assigned to a professional\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                      <button\r\n+                        onClick={() => onAssign && onAssign(report)}\r\n+                        className=\"px-3 py-1 text-xs font-medium text-yellow-800 bg-yellow-200 hover:bg-yellow-300 rounded-lg transition-colors\"\r\n+                      >\r\n+                        Assign Now\r\n+                      </button>\r\n+                    </div>\r\n+                  )}\r\n+                </div>\r\n+              </div>\r\n+            )}\r\n+\r\n+            {activeTab === \"timeline\" && (\r\n+              <div className=\"space-y-4\">\r\n+                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n+                  Case Timeline\r\n+                </h4>\r\n+                <div className=\"flow-root\">\r\n+                  <ul className=\"-mb-8\">\r\n+                    {mockAdditionalData.timeline.map((event, eventIdx) => (\r\n+                      <li key={event.id}>\r\n+                        <div className=\"relative pb-8\">\r\n+                          {eventIdx !==\r\n+                          mockAdditionalData.timeline.length - 1 ? (\r\n+                            <span\r\n+                              className=\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200\"\r\n+                              aria-hidden=\"true\"\r\n+                            />\r\n+                          ) : null}\r\n+                          <div className=\"relative flex space-x-3\">\r\n+                            <div>\r\n+                              <span className=\"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center ring-8 ring-white\">\r\n+                                <Clock className=\"h-4 w-4 text-white\" />\r\n+                              </span>\r\n+                            </div>\r\n+                            <div className=\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\">\r\n+                              <div>\r\n+                                <p className=\"text-sm text-gray-500\">\r\n+                                  <span className=\"font-medium text-gray-900\">\r\n+                                    {event.action}\r\n+                                  </span>{\" \"}\r\n+                                  by {event.actor}\r\n+                                </p>\r\n+                                <p className=\"text-xs text-gray-400\">\r\n+                                  {event.details}\r\n+                                </p>\r\n+                              </div>\r\n+                              <div className=\"text-right text-xs whitespace-nowrap text-gray-500\">\r\n+                                {formatDateTime(event.timestamp)}\r\n+                              </div>\r\n+                            </div>\r\n+                          </div>\r\n+                        </div>\r\n+                      </li>\r\n+                    ))}\r\n+                  </ul>\r\n+                </div>\r\n+              </div>\r\n+            )}\r\n+\r\n+            {activeTab === \"notes\" && (\r\n+              <div className=\"space-y-4\">\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <h4 className=\"text-lg font-semibold text-gray-900\">\r\n+                    Case Notes\r\n+                  </h4>\r\n+                  <button className=\"flex items-center px-3 py-1.5 text-sm text-purple-600 border border-purple-600 rounded-lg hover:bg-purple-50\">\r\n+                    <MessageSquare className=\"w-4 h-4 mr-1\" />\r\n+                    Add Note\r\n+                  </button>\r\n+                </div>\r\n+                <div className=\"space-y-3\">\r\n+                  {mockAdditionalData.case_notes.map((note) => (\r\n+                    <div key={note.id} className=\"bg-gray-50 rounded-lg p-4\">\r\n+                      <div className=\"flex items-start justify-between\">\r\n+                        <div className=\"flex-1\">\r\n+                          <p className=\"text-sm text-gray-900\">\r\n+                            {note.content}\r\n+                          </p>\r\n+                        </div>\r\n+                        <div className=\"ml-4 text-right\">\r\n+                          <p className=\"text-xs text-gray-500\">{note.author}</p>\r\n+                          <p className=\"text-xs text-gray-400\">\r\n+                            {formatDateTime(note.timestamp)}\r\n+                          </p>\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  ))}\r\n+                </div>\r\n+              </div>\r\n+            )}\r\n+\r\n+            {activeTab === \"actions\" && (\r\n+              <div className=\"space-y-4\">\r\n+                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n+                  Quick Actions\r\n+                </h4>\r\n+                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n+                    <Heart className=\"w-8 h-8 text-green-600 mr-3\" />\r\n+                    <div>\r\n+                      <p className=\"font-medium text-gray-900\">\r\n+                        Schedule Counseling\r\n+                      </p>\r\n+                      <p className=\"text-sm text-gray-500\">\r\n+                        Book a session with a counselor\r\n+                      </p>\r\n+                    </div>\r\n+                  </button>\r\n+\r\n+                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n+                    <Stethoscope className=\"w-8 h-8 text-blue-600 mr-3\" />\r\n+                    <div>\r\n+                      <p className=\"font-medium text-gray-900\">\r\n+                        Medical Appointment\r\n+                      </p>\r\n+                      <p className=\"text-sm text-gray-500\">\r\n+                        Schedule medical examination\r\n+                      </p>\r\n+                    </div>\r\n+                  </button>\r\n+\r\n+                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n+                    <Scale className=\"w-8 h-8 text-purple-600 mr-3\" />\r\n+                    <div>\r\n+                      <p className=\"font-medium text-gray-900\">\r\n+                        Legal Consultation\r\n+                      </p>\r\n+                      <p className=\"text-sm text-gray-500\">\r\n+                        Connect with legal advisor\r\n+                      </p>\r\n+                    </div>\r\n+                  </button>\r\n+\r\n+                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n+                    <FileText className=\"w-8 h-8 text-gray-600 mr-3\" />\r\n+                    <div>\r\n+                      <p className=\"font-medium text-gray-900\">\r\n+                        Generate Report\r\n+                      </p>\r\n+                      <p className=\"text-sm text-gray-500\">\r\n+                        Create detailed case report\r\n+                      </p>\r\n+                    </div>\r\n+                  </button>\r\n+                </div>\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+\r\n+          {/* Footer */}\r\n+          <div className=\"bg-gray-50 px-6 py-3 flex justify-between items-center\">\r\n+            <div className=\"text-sm text-gray-500\">\r\n+              Case ID: {mockReport.reference_code} • Last updated:{\" \"}\r\n+              {formatDateTime(mockReport.date_reported)}\r\n+            </div>\r\n+            <div className=\"flex space-x-2\">\r\n+              <button\r\n+                onClick={onClose}\r\n+                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n+              >\r\n+                Close\r\n+              </button>\r\n+              <button\r\n+                onClick={() => onEdit && onEdit(mockReport)}\r\n+                className=\"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700\"\r\n+              >\r\n+                Edit Case\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1756215783835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,700 +34,8 @@\n   report,\r\n   onEdit,\r\n   onAssign,\r\n }) {\r\n-  console.log(isClose);\r\n-\r\n-  const [activeTab, setActiveTab] = useState(\"details\");\r\n-  const [showSensitiveInfo, setShowSensitiveInfo] = useState(false);\r\n-  const [expandedSections, setExpandedSections] = useState({\r\n-    incident: true,\r\n-    reporter: true,\r\n-    status: true,\r\n-    actions: true,\r\n-  });\r\n-\r\n-  const mockReport = report || {\r\n-    reference_code: \"GBV3RQP1Y\",\r\n-    name: \"Jessy Senger\",\r\n-    email: \"test@test.com\",\r\n-    phone: null,\r\n-    status: \"pending\",\r\n-    incident_date: \"2025-07-15T17:50:00Z\",\r\n-    incident_location: \"kajiado\",\r\n-    incident_type: \"sexual\",\r\n-    description: \"fggfbfg\",\r\n-    is_deleted: false,\r\n-    immediate_danger: true,\r\n-    needs_medical_attention: false,\r\n-    date_reported: \"2025-07-23T14:51:24.242099Z\",\r\n-    reporter: 1,\r\n-    assigned_to: null,\r\n-  };\r\n-\r\n-  const mockAdditionalData = {\r\n-    reporter_details: {\r\n-      id: 1,\r\n-      name: \"Mary Njeri\",\r\n-      role: \"survivor\",\r\n-      phone: \"+254700123456\",\r\n-    },\r\n-    assigned_professional: null,\r\n-    case_notes: [\r\n-      {\r\n-        id: 1,\r\n-        author: \"System\",\r\n-        content:\r\n-          \"Case automatically flagged as high priority due to immediate danger indicator\",\r\n-        timestamp: \"2025-07-23T14:51:24Z\",\r\n-        type: \"system\",\r\n-      },\r\n-    ],\r\n-    related_appointments: [],\r\n-    timeline: [\r\n-      {\r\n-        id: 1,\r\n-        action: \"Report Created\",\r\n-        timestamp: \"2025-07-23T14:51:24Z\",\r\n-        actor: \"Mary Njeri\",\r\n-        details: \"Initial report submitted\",\r\n-      },\r\n-    ],\r\n-  };\r\n-\r\n-  if (!isOpen) return null;\r\n-\r\n-  const getStatusBadge = (status) => {\r\n-    const statusConfig = {\r\n-      pending: {\r\n-        color: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\r\n-        icon: Clock,\r\n-        label: \"Pending Review\",\r\n-      },\r\n-      in_progress: {\r\n-        color: \"bg-blue-100 text-blue-800 border-blue-200\",\r\n-        icon: Activity,\r\n-        label: \"In Progress\",\r\n-      },\r\n-      resolved: {\r\n-        color: \"bg-green-100 text-green-800 border-green-200\",\r\n-        icon: CheckCircle,\r\n-        label: \"Resolved\",\r\n-      },\r\n-      closed: {\r\n-        color: \"bg-gray-100 text-gray-800 border-gray-200\",\r\n-        icon: XCircle,\r\n-        label: \"Closed\",\r\n-      },\r\n-    };\r\n-\r\n-    const config = statusConfig[status] || statusConfig.pending;\r\n-    const IconComponent = config.icon;\r\n-\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${config.color}`}\r\n-      >\r\n-        <IconComponent className=\"w-4 h-4 mr-2\" />\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const getIncidentTypeBadge = (type) => {\r\n-    const typeConfig = {\r\n-      physical: {\r\n-        color: \"bg-red-100 text-red-800\",\r\n-        label: \"Physical Violence\",\r\n-      },\r\n-      sexual: {\r\n-        color: \"bg-purple-100 text-purple-800\",\r\n-        label: \"Sexual Violence\",\r\n-      },\r\n-      emotional: {\r\n-        color: \"bg-orange-100 text-orange-800\",\r\n-        label: \"Emotional Abuse\",\r\n-      },\r\n-      economic: { color: \"bg-blue-100 text-blue-800\", label: \"Economic Abuse\" },\r\n-      other: { color: \"bg-gray-100 text-gray-800\", label: \"Other\" },\r\n-    };\r\n-\r\n-    const config = typeConfig[type] || typeConfig.other;\r\n-    return (\r\n-      <span\r\n-        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n-      >\r\n-        {config.label}\r\n-      </span>\r\n-    );\r\n-  };\r\n-\r\n-  const getPriorityIndicator = () => {\r\n-    const isHighPriority =\r\n-      report.immediate_danger || report.needs_medical_attention;\r\n-    return isHighPriority ? (\r\n-      <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n-        <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n-        <div>\r\n-          <p className=\"text-sm font-medium text-red-800\">High Priority Case</p>\r\n-          <p className=\"text-xs text-red-600\">\r\n-            {report.immediate_danger && \"Immediate danger indicated. \"}\r\n-            {report.needs_medical_attention &&\r\n-              \"Medical attention required.\"}\r\n-          </p>\r\n-        </div>\r\n-      </div>\r\n-    ) : (\r\n-      <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n-        <Shield className=\"w-5 h-5 text-green-600\" />\r\n-        <div>\r\n-          <p className=\"text-sm font-medium text-green-800\">\r\n-            Standard Priority\r\n-          </p>\r\n-          <p className=\"text-xs text-green-600\">\r\n-            No immediate danger indicators\r\n-          </p>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  };\r\n-\r\n-  const formatDateTime = (dateString) => {\r\n-    if (!dateString) return \"Not provided\";\r\n-    const date = new Date(dateString);\r\n-    return date.toLocaleDateString(\"en-US\", {\r\n-      year: \"numeric\",\r\n-      month: \"long\",\r\n-      day: \"numeric\",\r\n-      hour: \"2-digit\",\r\n-      minute: \"2-digit\",\r\n-    });\r\n-  };\r\n-\r\n-  const toggleSection = (section) => {\r\n-    setExpandedSections((prev) => ({\r\n-      ...prev,\r\n-      [section]: !prev[section],\r\n-    }));\r\n-  };\r\n-\r\n-  const tabs = [\r\n-    { id: \"details\", label: \"Case Details\", icon: FileText },\r\n-    { id: \"timeline\", label: \"Timeline\", icon: Clock },\r\n-    { id: \"notes\", label: \"Case Notes\", icon: MessageSquare },\r\n-    { id: \"actions\", label: \"Actions\", icon: Activity },\r\n-  ];\r\n-\r\n-  return (\r\n-    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center\">\r\n-      <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n-        <div\r\n-          className=\"absolute inset-0 bg-gray-500 bg-opacity-75\"\r\n-          onClick={onClose}\r\n-        ></div>\r\n-\r\n-        {/* Modal */}\r\n-        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\">\r\n-          {/* Header */}\r\n-          <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4\">\r\n-            <div className=\"flex items-center justify-between\">\r\n-              <div className=\"flex items-center space-x-3\">\r\n-                <div className=\"p-2 bg-white bg-opacity-20 rounded-lg\">\r\n-                  <FileText className=\"w-6 h-6 text-white\" />\r\n-                </div>\r\n-                <div>\r\n-                  <h3 className=\"text-lg font-semibold text-white\">\r\n-                    Case Report - {report.reference_code}\r\n-                  </h3>\r\n-                  <p className=\"text-purple-100 text-sm\">\r\n-                    Reported on {formatDateTime(report.date_reported)}\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-              <button\r\n-                onClick={onClose}\r\n-                className=\"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors\"\r\n-              >\r\n-                <X className=\"w-5 h-5 text-white\" />\r\n-              </button>\r\n-            </div>\r\n-\r\n-            {/* Status and Priority */}\r\n-            <div className=\"flex items-center justify-between mt-4\">\r\n-              <div className=\"flex items-center space-x-3\">\r\n-                {getStatusBadge(report.status)}\r\n-                {getIncidentTypeBadge(report.incident_type)}\r\n-              </div>\r\n-              <div className=\"flex space-x-2\">\r\n-                <button\r\n-                  onClick={() => onEdit && onEdit(report)}\r\n-                  className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n-                >\r\n-                  <Edit className=\"w-4 h-4 mr-1\" />\r\n-                  Edit\r\n-                </button>\r\n-                {!report.assigned_to && (\r\n-                  <button\r\n-                    onClick={() => onAssign && onAssign(report)}\r\n-                    className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n-                  >\r\n-                    <UserCheck className=\"w-4 h-4 mr-1\" />\r\n-                    Assign\r\n-                  </button>\r\n-                )}\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-\r\n-          {/* Tabs */}\r\n-          <div className=\"border-b border-gray-200\">\r\n-            <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\r\n-              {tabs.map((tab) => {\r\n-                const IconComponent = tab.icon;\r\n-                return (\r\n-                  <button\r\n-                    key={tab.id}\r\n-                    onClick={() => setActiveTab(tab.id)}\r\n-                    className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n-                      activeTab === tab.id\r\n-                        ? \"border-purple-500 text-purple-600\"\r\n-                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n-                    }`}\r\n-                  >\r\n-                    <IconComponent className=\"w-4 h-4\" />\r\n-                    <span>{tab.label}</span>\r\n-                  </button>\r\n-                );\r\n-              })}\r\n-            </nav>\r\n-          </div>\r\n-\r\n-          {/* Content */}\r\n-          <div className=\"px-6 py-6 max-h-96 overflow-y-auto\">\r\n-            {/* Priority Alert */}\r\n-            <div className=\"mb-6\">{getPriorityIndicator()}</div>\r\n-\r\n-            {activeTab === \"details\" && (\r\n-              <div className=\"space-y-6\">\r\n-                {/* Reporter Information */}\r\n-                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n-                  <div className=\"flex items-center justify-between mb-3\">\r\n-                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n-                      <User className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n-                      Reporter Information\r\n-                    </h4>\r\n-                    <button\r\n-                      onClick={() => toggleSection(\"reporter\")}\r\n-                      className=\"text-gray-400 hover:text-gray-600\"\r\n-                    >\r\n-                      {expandedSections.reporter ? (\r\n-                        <ChevronUp className=\"w-5 h-5\" />\r\n-                      ) : (\r\n-                        <ChevronDown className=\"w-5 h-5\" />\r\n-                      )}\r\n-                    </button>\r\n-                  </div>\r\n-\r\n-                  {expandedSections.reporter && (\r\n-                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                      <div className=\"flex items-center space-x-3\">\r\n-                        <User className=\"w-4 h-4 text-gray-400\" />\r\n-                        <div>\r\n-                          <p className=\"text-sm text-gray-500\">Name</p>\r\n-                          <p className=\"text-sm font-medium text-gray-900\">\r\n-                            {report.full_name}\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"flex items-center space-x-3\">\r\n-                        <Mail className=\"w-4 h-4 text-gray-400\" />\r\n-                        <div>\r\n-                          <p className=\"text-sm text-gray-500\">Email</p>\r\n-                          <p className=\"text-sm font-medium text-gray-900\">\r\n-                            {report.email}\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"flex items-center space-x-3\">\r\n-                        <Phone className=\"w-4 h-4 text-gray-400\" />\r\n-                        <div>\r\n-                          <p className=\"text-sm text-gray-500\">Phone</p>\r\n-                          <p className=\"text-sm font-medium text-gray-900\">\r\n-                            {report.phone_number || \"Not provided\"}\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"flex items-center space-x-3\">\r\n-                        <UserCheck className=\"w-4 h-4 text-gray-400\" />\r\n-                        <div>\r\n-                          <p className=\"text-sm text-gray-500\">Reporter ID</p>\r\n-                          <p className=\"text-sm font-medium text-gray-900\">\r\n-                            #{report.reporter}\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  )}\r\n-                </div>\r\n-\r\n-                {/* Incident Details */}\r\n-                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n-                  <div className=\"flex items-center justify-between mb-3\">\r\n-                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n-                      <AlertTriangle className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n-                      Incident Details\r\n-                    </h4>\r\n-                    <button\r\n-                      onClick={() => toggleSection(\"incident\")}\r\n-                      className=\"text-gray-400 hover:text-gray-600\"\r\n-                    >\r\n-                      {expandedSections.incident ? (\r\n-                        <ChevronUp className=\"w-5 h-5\" />\r\n-                      ) : (\r\n-                        <ChevronDown className=\"w-5 h-5\" />\r\n-                      )}\r\n-                    </button>\r\n-                  </div>\r\n-\r\n-                  {expandedSections.incident && (\r\n-                    <div className=\"space-y-4\">\r\n-                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div className=\"flex items-center space-x-3\">\r\n-                          <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n-                          <div>\r\n-                            <p className=\"text-sm text-gray-500\">\r\n-                              Incident Date\r\n-                            </p>\r\n-                            <p className=\"text-sm font-medium text-gray-900\">\r\n-                              {formatDateTime(report.incident_date)}\r\n-                            </p>\r\n-                          </div>\r\n-                        </div>\r\n-                        <div className=\"flex items-center space-x-3\">\r\n-                          <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n-                          <div>\r\n-                            <p className=\"text-sm text-gray-500\">Location</p>\r\n-                            <p className=\"text-sm font-medium text-gray-900 capitalize\">\r\n-                              {report.incident_location}\r\n-                            </p>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div>\r\n-                        <p className=\"text-sm text-gray-500 mb-2\">\r\n-                          Incident Type\r\n-                        </p>\r\n-                        {getIncidentTypeBadge(report.incident_type)}\r\n-                      </div>\r\n-\r\n-                      <div>\r\n-                        <div className=\"flex items-center justify-between mb-2\">\r\n-                          <p className=\"text-sm text-gray-500\">Description</p>\r\n-                          <button\r\n-                            onClick={() =>\r\n-                              setShowSensitiveInfo(!showSensitiveInfo)\r\n-                            }\r\n-                            className=\"flex items-center text-xs text-gray-400 hover:text-gray-600\"\r\n-                          >\r\n-                            {showSensitiveInfo ? (\r\n-                              <EyeOff className=\"w-3 h-3 mr-1\" />\r\n-                            ) : (\r\n-                              <Eye className=\"w-3 h-3 mr-1\" />\r\n-                            )}\r\n-                            {showSensitiveInfo ? \"Hide\" : \"Show\"} Details\r\n-                          </button>\r\n-                        </div>\r\n-                        <div className=\"bg-white p-3 rounded border\">\r\n-                          {showSensitiveInfo ? (\r\n-                            <p className=\"text-sm text-gray-900\">\r\n-                              {report.description}\r\n-                            </p>\r\n-                          ) : (\r\n-                            <p className=\"text-sm text-gray-400\">\r\n-                              Click \"Show Details\" to view sensitive content\r\n-                            </p>\r\n-                          )}\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-red-200 bg-red-50\">\r\n-                          <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n-                          <div>\r\n-                            <p className=\"text-sm font-medium text-red-800\">\r\n-                              Immediate Danger\r\n-                            </p>\r\n-                            <p className=\"text-xs text-red-600\">\r\n-                              {report.immediate_danger\r\n-                                ? \"Yes - Requires urgent attention\"\r\n-                                : \"No immediate danger reported\"}\r\n-                            </p>\r\n-                          </div>\r\n-                        </div>\r\n-                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-blue-200 bg-blue-50\">\r\n-                          <Stethoscope className=\"w-5 h-5 text-blue-600\" />\r\n-                          <div>\r\n-                            <p className=\"text-sm font-medium text-blue-800\">\r\n-                              Medical Attention\r\n-                            </p>\r\n-                            <p className=\"text-xs text-blue-600\">\r\n-                              {report.needs_medical_attention\r\n-                                ? \"Medical attention required\"\r\n-                                : \"No medical attention needed\"}\r\n-                            </p>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  )}\r\n-                </div>\r\n-\r\n-                {/* Assignment Status */}\r\n-                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n-                  <h4 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center\">\r\n-                    <UserCheck className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n-                    Assignment Status\r\n-                  </h4>\r\n-                  {report.assigned_to ? (\r\n-                    <div className=\"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n-                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n-                      <div>\r\n-                        <p className=\"text-sm font-medium text-green-800\">\r\n-                          Assigned Professional\r\n-                        </p>\r\n-                        <p className=\"text-xs text-green-600\">\r\n-                          Professional ID: {report.assigned_to}\r\n-                        </p>\r\n-                      </div>\r\n-                    </div>\r\n-                  ) : (\r\n-                    <div className=\"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n-                      <div className=\"flex items-center space-x-3\">\r\n-                        <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\r\n-                        <div>\r\n-                          <p className=\"text-sm font-medium text-yellow-800\">\r\n-                            Unassigned\r\n-                          </p>\r\n-                          <p className=\"text-xs text-yellow-600\">\r\n-                            This case needs to be assigned to a professional\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                      <button\r\n-                        onClick={() => onAssign && onAssign(report)}\r\n-                        className=\"px-3 py-1 text-xs font-medium text-yellow-800 bg-yellow-200 hover:bg-yellow-300 rounded-lg transition-colors\"\r\n-                      >\r\n-                        Assign Now\r\n-                      </button>\r\n-                    </div>\r\n-                  )}\r\n-                </div>\r\n-              </div>\r\n-            )}\r\n-\r\n-            {activeTab === \"timeline\" && (\r\n-              <div className=\"space-y-4\">\r\n-                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n-                  Case Timeline\r\n-                </h4>\r\n-                <div className=\"flow-root\">\r\n-                  <ul className=\"-mb-8\">\r\n-                    {mockAdditionalData.timeline.map((event, eventIdx) => (\r\n-                      <li key={event.id}>\r\n-                        <div className=\"relative pb-8\">\r\n-                          {eventIdx !==\r\n-                          mockAdditionalData.timeline.length - 1 ? (\r\n-                            <span\r\n-                              className=\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200\"\r\n-                              aria-hidden=\"true\"\r\n-                            />\r\n-                          ) : null}\r\n-                          <div className=\"relative flex space-x-3\">\r\n-                            <div>\r\n-                              <span className=\"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center ring-8 ring-white\">\r\n-                                <Clock className=\"h-4 w-4 text-white\" />\r\n-                              </span>\r\n-                            </div>\r\n-                            <div className=\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\">\r\n-                              <div>\r\n-                                <p className=\"text-sm text-gray-500\">\r\n-                                  <span className=\"font-medium text-gray-900\">\r\n-                                    {event.action}\r\n-                                  </span>{\" \"}\r\n-                                  by {event.actor}\r\n-                                </p>\r\n-                                <p className=\"text-xs text-gray-400\">\r\n-                                  {event.details}\r\n-                                </p>\r\n-                              </div>\r\n-                              <div className=\"text-right text-xs whitespace-nowrap text-gray-500\">\r\n-                                {formatDateTime(event.timestamp)}\r\n-                              </div>\r\n-                            </div>\r\n-                          </div>\r\n-                        </div>\r\n-                      </li>\r\n-                    ))}\r\n-                  </ul>\r\n-                </div>\r\n-              </div>\r\n-            )}\r\n-\r\n-            {activeTab === \"notes\" && (\r\n-              <div className=\"space-y-4\">\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <h4 className=\"text-lg font-semibold text-gray-900\">\r\n-                    Case Notes\r\n-                  </h4>\r\n-                  <button className=\"flex items-center px-3 py-1.5 text-sm text-purple-600 border border-purple-600 rounded-lg hover:bg-purple-50\">\r\n-                    <MessageSquare className=\"w-4 h-4 mr-1\" />\r\n-                    Add Note\r\n-                  </button>\r\n-                </div>\r\n-                <div className=\"space-y-3\">\r\n-                  {mockAdditionalData.case_notes.map((note) => (\r\n-                    <div key={note.id} className=\"bg-gray-50 rounded-lg p-4\">\r\n-                      <div className=\"flex items-start justify-between\">\r\n-                        <div className=\"flex-1\">\r\n-                          <p className=\"text-sm text-gray-900\">\r\n-                            {note.content}\r\n-                          </p>\r\n-                        </div>\r\n-                        <div className=\"ml-4 text-right\">\r\n-                          <p className=\"text-xs text-gray-500\">{note.author}</p>\r\n-                          <p className=\"text-xs text-gray-400\">\r\n-                            {formatDateTime(note.timestamp)}\r\n-                          </p>\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  ))}\r\n-                </div>\r\n-              </div>\r\n-            )}\r\n-\r\n-            {activeTab === \"actions\" && (\r\n-              <div className=\"space-y-4\">\r\n-                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n-                  Quick Actions\r\n-                </h4>\r\n-                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n-                    <Heart className=\"w-8 h-8 text-green-600 mr-3\" />\r\n-                    <div>\r\n-                      <p className=\"font-medium text-gray-900\">\r\n-                        Schedule Counseling\r\n-                      </p>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Book a session with a counselor\r\n-                      </p>\r\n-                    </div>\r\n-                  </button>\r\n-\r\n-                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n-                    <Stethoscope className=\"w-8 h-8 text-blue-600 mr-3\" />\r\n-                    <div>\r\n-                      <p className=\"font-medium text-gray-900\">\r\n-                        Medical Appointment\r\n-                      </p>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Schedule medical examination\r\n-                      </p>\r\n-                    </div>\r\n-                  </button>\r\n-\r\n-                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n-                    <Scale className=\"w-8 h-8 text-purple-600 mr-3\" />\r\n-                    <div>\r\n-                      <p className=\"font-medium text-gray-900\">\r\n-                        Legal Consultation\r\n-                      </p>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Connect with legal advisor\r\n-                      </p>\r\n-                    </div>\r\n-                  </button>\r\n-\r\n-                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n-                    <FileText className=\"w-8 h-8 text-gray-600 mr-3\" />\r\n-                    <div>\r\n-                      <p className=\"font-medium text-gray-900\">\r\n-                        Generate Report\r\n-                      </p>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Create detailed case report\r\n-                      </p>\r\n-                    </div>\r\n-                  </button>\r\n-                </div>\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-\r\n-          {/* Footer */}\r\n-          <div className=\"bg-gray-50 px-6 py-3 flex justify-between items-center\">\r\n-            <div className=\"text-sm text-gray-500\">\r\n-              Case ID: {mockReport.reference_code} • Last updated:{\" \"}\r\n-              {formatDateTime(mockReport.date_reported)}\r\n-            </div>\r\n-            <div className=\"flex space-x-2\">\r\n-              <button\r\n-                onClick={onClose}\r\n-                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n-              >\r\n-                Close\r\n-              </button>\r\n-              <button\r\n-                onClick={() => onEdit && onEdit(mockReport)}\r\n-                className=\"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700\"\r\n-              >\r\n-                Edit Case\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-import { useState } from \"react\";\r\n-import {\r\n-  X,\r\n-  FileText,\r\n-  User,\r\n-  Mail,\r\n-  Phone,\r\n-  MapPin,\r\n-  Calendar,\r\n-  AlertTriangle,\r\n-  Clock,\r\n-  Shield,\r\n-  Eye,\r\n-  EyeOff,\r\n-  Edit,\r\n-  UserCheck,\r\n-  MessageSquare,\r\n-  ChevronDown,\r\n-  ChevronUp,\r\n-  CheckCircle,\r\n-  XCircle,\r\n-  AlertCircle,\r\n-  Activity,\r\n-  Stethoscope,\r\n-  Scale,\r\n-  Heart,\r\n-} from \"lucide-react\";\r\n-import useReports from \"../hooks/useReportStats\";\r\n-\r\n-\r\n-export default function ReportDetailModal({\r\n-  isOpen,\r\n-  onClose,\r\n-  report,\r\n-  onEdit,\r\n-  onAssign,\r\n-}) {\r\n   console.log(isOpen);\r\n \r\n   const [activeTab, setActiveTab] = useState(\"details\");\r\n   const [showSensitiveInfo, setShowSensitiveInfo] = useState(false);\r\n"
                }
            ],
            "date": 1756215734203,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport {\r\n  X,\r\n  FileText,\r\n  User,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Calendar,\r\n  AlertTriangle,\r\n  Clock,\r\n  Shield,\r\n  Eye,\r\n  EyeOff,\r\n  Edit,\r\n  UserCheck,\r\n  MessageSquare,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertCircle,\r\n  Activity,\r\n  Stethoscope,\r\n  Scale,\r\n  Heart,\r\n} from \"lucide-react\";\r\nimport useReports from \"../hooks/useReportStats\";\r\n\r\n\r\nexport default function ReportDetailModal({\r\n  isOpen,\r\n  onClose,\r\n  report,\r\n  onEdit,\r\n  onAssign,\r\n}) {\r\n\r\n\r\n  const [activeTab, setActiveTab] = useState(\"details\");\r\n  const [showSensitiveInfo, setShowSensitiveInfo] = useState(false);\r\n  const [expandedSections, setExpandedSections] = useState({\r\n    incident: true,\r\n    reporter: true,\r\n    status: true,\r\n    actions: true,\r\n  });\r\n\r\n  const mockReport = report || {\r\n    reference_code: \"GBV3RQP1Y\",\r\n    name: \"Jessy Senger\",\r\n    email: \"test@test.com\",\r\n    phone: null,\r\n    status: \"pending\",\r\n    incident_date: \"2025-07-15T17:50:00Z\",\r\n    incident_location: \"kajiado\",\r\n    incident_type: \"sexual\",\r\n    description: \"fggfbfg\",\r\n    is_deleted: false,\r\n    immediate_danger: true,\r\n    needs_medical_attention: false,\r\n    date_reported: \"2025-07-23T14:51:24.242099Z\",\r\n    reporter: 1,\r\n    assigned_to: null,\r\n  };\r\n\r\n  const mockAdditionalData = {\r\n    reporter_details: {\r\n      id: 1,\r\n      name: \"Mary Njeri\",\r\n      role: \"survivor\",\r\n      phone: \"+254700123456\",\r\n    },\r\n    assigned_professional: null,\r\n    case_notes: [\r\n      {\r\n        id: 1,\r\n        author: \"System\",\r\n        content:\r\n          \"Case automatically flagged as high priority due to immediate danger indicator\",\r\n        timestamp: \"2025-07-23T14:51:24Z\",\r\n        type: \"system\",\r\n      },\r\n    ],\r\n    related_appointments: [],\r\n    timeline: [\r\n      {\r\n        id: 1,\r\n        action: \"Report Created\",\r\n        timestamp: \"2025-07-23T14:51:24Z\",\r\n        actor: \"Mary Njeri\",\r\n        details: \"Initial report submitted\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      pending: {\r\n        color: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\r\n        icon: Clock,\r\n        label: \"Pending Review\",\r\n      },\r\n      in_progress: {\r\n        color: \"bg-blue-100 text-blue-800 border-blue-200\",\r\n        icon: Activity,\r\n        label: \"In Progress\",\r\n      },\r\n      resolved: {\r\n        color: \"bg-green-100 text-green-800 border-green-200\",\r\n        icon: CheckCircle,\r\n        label: \"Resolved\",\r\n      },\r\n      closed: {\r\n        color: \"bg-gray-100 text-gray-800 border-gray-200\",\r\n        icon: XCircle,\r\n        label: \"Closed\",\r\n      },\r\n    };\r\n\r\n    const config = statusConfig[status] || statusConfig.pending;\r\n    const IconComponent = config.icon;\r\n\r\n    return (\r\n      <span\r\n        className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${config.color}`}\r\n      >\r\n        <IconComponent className=\"w-4 h-4 mr-2\" />\r\n        {config.label}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getIncidentTypeBadge = (type) => {\r\n    const typeConfig = {\r\n      physical: {\r\n        color: \"bg-red-100 text-red-800\",\r\n        label: \"Physical Violence\",\r\n      },\r\n      sexual: {\r\n        color: \"bg-purple-100 text-purple-800\",\r\n        label: \"Sexual Violence\",\r\n      },\r\n      emotional: {\r\n        color: \"bg-orange-100 text-orange-800\",\r\n        label: \"Emotional Abuse\",\r\n      },\r\n      economic: { color: \"bg-blue-100 text-blue-800\", label: \"Economic Abuse\" },\r\n      other: { color: \"bg-gray-100 text-gray-800\", label: \"Other\" },\r\n    };\r\n\r\n    const config = typeConfig[type] || typeConfig.other;\r\n    return (\r\n      <span\r\n        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\r\n      >\r\n        {config.label}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getPriorityIndicator = () => {\r\n    const isHighPriority =\r\n      report.immediate_danger || report.needs_medical_attention;\r\n    return isHighPriority ? (\r\n      <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n        <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n        <div>\r\n          <p className=\"text-sm font-medium text-red-800\">High Priority Case</p>\r\n          <p className=\"text-xs text-red-600\">\r\n            {report.immediate_danger && \"Immediate danger indicated. \"}\r\n            {report.needs_medical_attention &&\r\n              \"Medical attention required.\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n        <Shield className=\"w-5 h-5 text-green-600\" />\r\n        <div>\r\n          <p className=\"text-sm font-medium text-green-800\">\r\n            Standard Priority\r\n          </p>\r\n          <p className=\"text-xs text-green-600\">\r\n            No immediate danger indicators\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return \"Not provided\";\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  const toggleSection = (section) => {\r\n    setExpandedSections((prev) => ({\r\n      ...prev,\r\n      [section]: !prev[section],\r\n    }));\r\n  };\r\n\r\n  const tabs = [\r\n    { id: \"details\", label: \"Case Details\", icon: FileText },\r\n    { id: \"timeline\", label: \"Timeline\", icon: Clock },\r\n    { id: \"notes\", label: \"Case Notes\", icon: MessageSquare },\r\n    { id: \"actions\", label: \"Actions\", icon: Activity },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center\">\r\n      <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div\r\n          className=\"absolute inset-0 bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        ></div>\r\n\r\n        {/* Modal */}\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-white bg-opacity-20 rounded-lg\">\r\n                  <FileText className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">\r\n                    Case Report - {report.reference_code}\r\n                  </h3>\r\n                  <p className=\"text-purple-100 text-sm\">\r\n                    Reported on {formatDateTime(report.date_reported)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5 text-white\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Status and Priority */}\r\n            <div className=\"flex items-center justify-between mt-4\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                {getStatusBadge(report.status)}\r\n                {getIncidentTypeBadge(report.incident_type)}\r\n              </div>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => onEdit && onEdit(report)}\r\n                  className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n                >\r\n                  <Edit className=\"w-4 h-4 mr-1\" />\r\n                  Edit\r\n                </button>\r\n                {!report.assigned_to && (\r\n                  <button\r\n                    onClick={() => onAssign && onAssign(report)}\r\n                    className=\"flex items-center px-3 py-1.5 text-sm text-white bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors\"\r\n                  >\r\n                    <UserCheck className=\"w-4 h-4 mr-1\" />\r\n                    Assign\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\r\n              {tabs.map((tab) => {\r\n                const IconComponent = tab.icon;\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n                      activeTab === tab.id\r\n                        ? \"border-purple-500 text-purple-600\"\r\n                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                    }`}\r\n                  >\r\n                    <IconComponent className=\"w-4 h-4\" />\r\n                    <span>{tab.label}</span>\r\n                  </button>\r\n                );\r\n              })}\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"px-6 py-6 max-h-96 overflow-y-auto\">\r\n            {/* Priority Alert */}\r\n            <div className=\"mb-6\">{getPriorityIndicator()}</div>\r\n\r\n            {activeTab === \"details\" && (\r\n              <div className=\"space-y-6\">\r\n                {/* Reporter Information */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                      <User className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n                      Reporter Information\r\n                    </h4>\r\n                    <button\r\n                      onClick={() => toggleSection(\"reporter\")}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      {expandedSections.reporter ? (\r\n                        <ChevronUp className=\"w-5 h-5\" />\r\n                      ) : (\r\n                        <ChevronDown className=\"w-5 h-5\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {expandedSections.reporter && (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <User className=\"w-4 h-4 text-gray-400\" />\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-500\">Name</p>\r\n                          <p className=\"text-sm font-medium text-gray-900\">\r\n                            {report.full_name}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <Mail className=\"w-4 h-4 text-gray-400\" />\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-500\">Email</p>\r\n                          <p className=\"text-sm font-medium text-gray-900\">\r\n                            {report.email}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <Phone className=\"w-4 h-4 text-gray-400\" />\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-500\">Phone</p>\r\n                          <p className=\"text-sm font-medium text-gray-900\">\r\n                            {report.phone_number || \"Not provided\"}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <UserCheck className=\"w-4 h-4 text-gray-400\" />\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-500\">Reporter ID</p>\r\n                          <p className=\"text-sm font-medium text-gray-900\">\r\n                            #{report.reporter}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Incident Details */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                      <AlertTriangle className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n                      Incident Details\r\n                    </h4>\r\n                    <button\r\n                      onClick={() => toggleSection(\"incident\")}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      {expandedSections.incident ? (\r\n                        <ChevronUp className=\"w-5 h-5\" />\r\n                      ) : (\r\n                        <ChevronDown className=\"w-5 h-5\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {expandedSections.incident && (\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                              Incident Date\r\n                            </p>\r\n                            <p className=\"text-sm font-medium text-gray-900\">\r\n                              {formatDateTime(report.incident_date)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-500\">Location</p>\r\n                            <p className=\"text-sm font-medium text-gray-900 capitalize\">\r\n                              {report.incident_location}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500 mb-2\">\r\n                          Incident Type\r\n                        </p>\r\n                        {getIncidentTypeBadge(report.incident_type)}\r\n                      </div>\r\n\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <p className=\"text-sm text-gray-500\">Description</p>\r\n                          <button\r\n                            onClick={() =>\r\n                              setShowSensitiveInfo(!showSensitiveInfo)\r\n                            }\r\n                            className=\"flex items-center text-xs text-gray-400 hover:text-gray-600\"\r\n                          >\r\n                            {showSensitiveInfo ? (\r\n                              <EyeOff className=\"w-3 h-3 mr-1\" />\r\n                            ) : (\r\n                              <Eye className=\"w-3 h-3 mr-1\" />\r\n                            )}\r\n                            {showSensitiveInfo ? \"Hide\" : \"Show\"} Details\r\n                          </button>\r\n                        </div>\r\n                        <div className=\"bg-white p-3 rounded border\">\r\n                          {showSensitiveInfo ? (\r\n                            <p className=\"text-sm text-gray-900\">\r\n                              {report.description}\r\n                            </p>\r\n                          ) : (\r\n                            <p className=\"text-sm text-gray-400\">\r\n                              Click \"Show Details\" to view sensitive content\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-red-200 bg-red-50\">\r\n                          <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n                          <div>\r\n                            <p className=\"text-sm font-medium text-red-800\">\r\n                              Immediate Danger\r\n                            </p>\r\n                            <p className=\"text-xs text-red-600\">\r\n                              {report.immediate_danger\r\n                                ? \"Yes - Requires urgent attention\"\r\n                                : \"No immediate danger reported\"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-3 p-3 rounded-lg border-2 border-dashed border-blue-200 bg-blue-50\">\r\n                          <Stethoscope className=\"w-5 h-5 text-blue-600\" />\r\n                          <div>\r\n                            <p className=\"text-sm font-medium text-blue-800\">\r\n                              Medical Attention\r\n                            </p>\r\n                            <p className=\"text-xs text-blue-600\">\r\n                              {report.needs_medical_attention\r\n                                ? \"Medical attention required\"\r\n                                : \"No medical attention needed\"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Assignment Status */}\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <UserCheck className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n                    Assignment Status\r\n                  </h4>\r\n                  {report.assigned_to ? (\r\n                    <div className=\"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-green-800\">\r\n                          Assigned Professional\r\n                        </p>\r\n                        <p className=\"text-xs text-green-600\">\r\n                          Professional ID: {report.assigned_to}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\r\n                        <div>\r\n                          <p className=\"text-sm font-medium text-yellow-800\">\r\n                            Unassigned\r\n                          </p>\r\n                          <p className=\"text-xs text-yellow-600\">\r\n                            This case needs to be assigned to a professional\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => onAssign && onAssign(report)}\r\n                        className=\"px-3 py-1 text-xs font-medium text-yellow-800 bg-yellow-200 hover:bg-yellow-300 rounded-lg transition-colors\"\r\n                      >\r\n                        Assign Now\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"timeline\" && (\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n                  Case Timeline\r\n                </h4>\r\n                <div className=\"flow-root\">\r\n                  <ul className=\"-mb-8\">\r\n                    {mockAdditionalData.timeline.map((event, eventIdx) => (\r\n                      <li key={event.id}>\r\n                        <div className=\"relative pb-8\">\r\n                          {eventIdx !==\r\n                          mockAdditionalData.timeline.length - 1 ? (\r\n                            <span\r\n                              className=\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                          ) : null}\r\n                          <div className=\"relative flex space-x-3\">\r\n                            <div>\r\n                              <span className=\"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center ring-8 ring-white\">\r\n                                <Clock className=\"h-4 w-4 text-white\" />\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\">\r\n                              <div>\r\n                                <p className=\"text-sm text-gray-500\">\r\n                                  <span className=\"font-medium text-gray-900\">\r\n                                    {event.action}\r\n                                  </span>{\" \"}\r\n                                  by {event.actor}\r\n                                </p>\r\n                                <p className=\"text-xs text-gray-400\">\r\n                                  {event.details}\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"text-right text-xs whitespace-nowrap text-gray-500\">\r\n                                {formatDateTime(event.timestamp)}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"notes\" && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900\">\r\n                    Case Notes\r\n                  </h4>\r\n                  <button className=\"flex items-center px-3 py-1.5 text-sm text-purple-600 border border-purple-600 rounded-lg hover:bg-purple-50\">\r\n                    <MessageSquare className=\"w-4 h-4 mr-1\" />\r\n                    Add Note\r\n                  </button>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  {mockAdditionalData.case_notes.map((note) => (\r\n                    <div key={note.id} className=\"bg-gray-50 rounded-lg p-4\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"text-sm text-gray-900\">\r\n                            {note.content}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"ml-4 text-right\">\r\n                          <p className=\"text-xs text-gray-500\">{note.author}</p>\r\n                          <p className=\"text-xs text-gray-400\">\r\n                            {formatDateTime(note.timestamp)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"actions\" && (\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"text-lg font-semibold text-gray-900\">\r\n                  Quick Actions\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                    <Heart className=\"w-8 h-8 text-green-600 mr-3\" />\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        Schedule Counseling\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Book a session with a counselor\r\n                      </p>\r\n                    </div>\r\n                  </button>\r\n\r\n                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                    <Stethoscope className=\"w-8 h-8 text-blue-600 mr-3\" />\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        Medical Appointment\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Schedule medical examination\r\n                      </p>\r\n                    </div>\r\n                  </button>\r\n\r\n                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                    <Scale className=\"w-8 h-8 text-purple-600 mr-3\" />\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        Legal Consultation\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Connect with legal advisor\r\n                      </p>\r\n                    </div>\r\n                  </button>\r\n\r\n                  <button className=\"flex items-center p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                    <FileText className=\"w-8 h-8 text-gray-600 mr-3\" />\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        Generate Report\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Create detailed case report\r\n                      </p>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"bg-gray-50 px-6 py-3 flex justify-between items-center\">\r\n            <div className=\"text-sm text-gray-500\">\r\n              Case ID: {mockReport.reference_code} • Last updated:{\" \"}\r\n              {formatDateTime(mockReport.date_reported)}\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                onClick={() => onEdit && onEdit(mockReport)}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700\"\r\n              >\r\n                Edit Case\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}